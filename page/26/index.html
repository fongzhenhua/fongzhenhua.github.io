<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#9400D3"><meta name="generator" content="Hexo 5.4.2">
<link rel="preconnect" href="https://s4.zstatic.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#9400D3">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":true,"height":500},"bookmark":{"enable":true,"color":"#9400D3","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script>



<link rel="canonical" href="http://example.com/page/26/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/26/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>BNU-FZH</title>
  







<script async src="/lib/fireworks.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">BNU-FZH</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">fengzhenhua@outlook.com</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-导航"><a href="/%E5%AF%BC%E8%88%AA/" rel="section"><i class="fa fa-paper-plane fa-fw"></i>导航</a></li><li class="menu-item menu-item-软件"><a href="/%E8%BD%AF%E4%BB%B6/" rel="section"><i class="fa fa-briefcase fa-fw"></i>软件</a></li><li class="menu-item menu-item-收藏"><a href="/%E6%94%B6%E8%97%8F/" rel="section"><i class="fa fa-folder fa-fw"></i>收藏</a></li><li class="menu-item menu-item-工作"><a href="/%E5%B7%A5%E4%BD%9C/" rel="section"><i class="fa fa-folder fa-fw"></i>工作</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name"></p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">559</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://www.zxxk.com/" title="学科资源 → https:&#x2F;&#x2F;www.zxxk.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>学科资源</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://zujuan.xkw.com/" title="组卷题库 → https:&#x2F;&#x2F;zujuan.xkw.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>组卷题库</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://192.168.1.14/" title="实验信息 → http:&#x2F;&#x2F;192.168.1.14&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>实验信息</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhixue.com/" title="智学阅卷 → https:&#x2F;&#x2F;www.zhixue.com" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>智学阅卷</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://chat.deepseek.com/" title="深度求索 → https:&#x2F;&#x2F;chat.deepseek.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>深度求索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tongyi.com/" title="通义千问 → https:&#x2F;&#x2F;www.tongyi.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>通义千问</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.scnet.cn/ui/chatbot/" title="国家超算 → https:&#x2F;&#x2F;www.scnet.cn&#x2F;ui&#x2F;chatbot&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>国家超算</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yuanbao.tencent.com/chat" title="腾讯元宝 → https:&#x2F;&#x2F;yuanbao.tencent.com&#x2F;chat" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>腾讯元宝</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/" title="必应搜索 → https:&#x2F;&#x2F;cn.bing.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>必应搜索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.hao268.com/" title="网址之家 → https:&#x2F;&#x2F;www.hao268.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>网址之家</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ac.scmor.com/" title="思谋学术 → https:&#x2F;&#x2F;ac.scmor.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>思谋学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://search.essclick.com/" title="爱思学术 → https:&#x2F;&#x2F;search.essclick.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>爱思学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://scholar.lanfanshu.cn/" title="番薯学术 → https:&#x2F;&#x2F;scholar.lanfanshu.cn&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>番薯学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://xmsoushu.com/" title="熊猫搜书 → https:&#x2F;&#x2F;xmsoushu.com&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>熊猫搜书</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/translator" title="必应翻译 → https:&#x2F;&#x2F;cn.bing.com&#x2F;translator" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>必应翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.baidu.com/#zh/en" title="百度翻译 → https:&#x2F;&#x2F;fanyi.baidu.com&#x2F;#zh&#x2F;en" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>百度翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.youdao.com/?keyfrom=fanyi.logo" title="有道翻译 → https:&#x2F;&#x2F;fanyi.youdao.com&#x2F;?keyfrom&#x3D;fanyi.logo" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>有道翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.oxfordlearnersdictionaries.com/definition/english/" title="牛津翻译 → https:&#x2F;&#x2F;www.oxfordlearnersdictionaries.com&#x2F;definition&#x2F;english&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>牛津翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://wx.qq.com/" title="网页微信 → https:&#x2F;&#x2F;wx.qq.com" rel="noopener me" target="_blank"><i class="fab fa-weixin fa-fw"></i>网页微信</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://login.partner.microsoftonline.cn/" title="微软办公 → https:&#x2F;&#x2F;login.partner.microsoftonline.cn" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软办公</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mathsolver.microsoft.com/" title="微软数学 → https:&#x2F;&#x2F;mathsolver.microsoft.com" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软数学</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.mail.bnu.edu.cn/" title="师大邮箱 → https:&#x2F;&#x2F;www.mail.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>师大邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mail.sina.com.cn/" title="新浪邮箱 → https:&#x2F;&#x2F;mail.sina.com.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>新浪邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.aliyundrive.com/sign/in" title="阿里云盘 → https:&#x2F;&#x2F;www.aliyundrive.com&#x2F;sign&#x2F;in" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>阿里云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yun.139.com/w/#/" title="移动云盘 → https:&#x2F;&#x2F;yun.139.com&#x2F;w&#x2F;#&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>移动云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jianguoyun.com/d/login" title="坚果网盘 → https:&#x2F;&#x2F;www.jianguoyun.com&#x2F;d&#x2F;login" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>坚果网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://efss.qloud.my/index.php/login?clear=1" title="Next云盘 → https:&#x2F;&#x2F;efss.qloud.my&#x2F;index.php&#x2F;login?clear&#x3D;1" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>Next云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.123pan.com/" title="123 网盘 → https:&#x2F;&#x2F;www.123pan.com&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>123 网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://annas-archive.org/" title="安娜档案 → https:&#x2F;&#x2F;annas-archive.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>安娜档案</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://book.sciencereading.cn/" title="科学文库 → https:&#x2F;&#x2F;book.sciencereading.cn" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>科学文库</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ylibrary.org/" title="Ylibrary → https:&#x2F;&#x2F;ylibrary.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Ylibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tboxn.com/sites/320.html" title="Zlibrary → https:&#x2F;&#x2F;www.tboxn.com&#x2F;sites&#x2F;320.html" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Zlibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.koushare.com/" title="蔻享官网 → https:&#x2F;&#x2F;www.koushare.com" rel="noopener me" target="_blank"><i class="fas fa-globe-asia fa-fw"></i>蔻享官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.duolingo.cn/" title="多邻国官 → https:&#x2F;&#x2F;www.duolingo.cn" rel="noopener me" target="_blank"><i class="fas fa-school fa-fw"></i>多邻国官</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.bnu.edu.cn/" title="师大官网 → https:&#x2F;&#x2F;www.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>师大官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://one.bnu.edu.cn/" title="数字京师 → https:&#x2F;&#x2F;one.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>数字京师</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.runoob.com/font-awesome/fontawesome-icons-brand.html" title="图站图标 → https:&#x2F;&#x2F;www.runoob.com&#x2F;font-awesome&#x2F;fontawesome-icons-brand.html" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>图站图标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://shields.io/badges" title="项目微标 → https:&#x2F;&#x2F;shields.io&#x2F;badges" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>项目微标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jd.com/" title="京东购物 → https:&#x2F;&#x2F;www.jd.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cart-shopping fa-fw"></i>京东购物</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.taobao.com/" title="淘宝购物 → https:&#x2F;&#x2F;www.taobao.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cart-shopping fa-fw"></i>淘宝购物</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/" title="LaTeXLiv → https:&#x2F;&#x2F;www.latexlive.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXLiv</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/help" title="LaTeXHel → https:&#x2F;&#x2F;www.latexlive.com&#x2F;help" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXHel</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://p2t.breezedeus.com/" title="Pix2Text → https:&#x2F;&#x2F;p2t.breezedeus.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Pix2Text</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://simpletex.cn/" title="Simplete → https:&#x2F;&#x2F;simpletex.cn" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Simplete</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/23/Shell%E8%84%9A%E6%9C%AC%E6%9B%BF%E6%8D%A2%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/23/Shell%E8%84%9A%E6%9C%AC%E6%9B%BF%E6%8D%A2%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">Shell脚本替换字符串的几种方法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-23 21:08:07" itemprop="dateCreated datePublished" datetime="2024-06-23T21:08:07+08:00">2024-06-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>变量<code>a</code>是一个带空格的字符串，现在用"hdpusr400"替换变量<code>a</code>中的"hduser302"：</p>
<h2 id="字符串变量的替换方式">字符串变量的替换方式</h2>
<figure class="highlight bash"><figcaption><span>定义变量a</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[liusiyi@localhost ~]$ <span class="built_in">echo</span> <span class="variable">$a</span></span><br><span class="line">hduser302 hduser302 /apps/hduser302/student/</span><br></pre></td></tr></table></figure>
<h3 id="用变量替换a做字符替换">用变量替换${a//}做字符替换</h3>
<figure class="highlight sh"><figcaption><span>用变量替换$&#123;a//&#125;做字符替换</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#替换第一个匹配的字符串　</span></span><br><span class="line">[liusiyi@localhost ~]$ <span class="built_in">echo</span> <span class="variable">$&#123;a/hduser302/hdpusr400&#125;</span> </span><br><span class="line">hdpusr400 hduser302 /apps/hduser302/student/</span><br><span class="line"></span><br><span class="line"><span class="comment">#替换所有匹配的字符串　</span></span><br><span class="line">[liusiyi@localhost ~]$ <span class="built_in">echo</span> <span class="variable">$&#123;a//hduser302/hdpusr400&#125;</span>　　</span><br><span class="line">hdpusr400 hdpusr400 /apps/hdpusr400/student/</span><br></pre></td></tr></table></figure>
<h3 id="用-sed-做字符串替换">用 sed 做字符串替换</h3>
<figure class="highlight sh"><figcaption><span>用sed做字符串替换</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#替换第一个匹配的字符串　</span></span><br><span class="line">[liusiyi@localhost ~]$ <span class="built_in">echo</span> <span class="variable">$a</span> | sed <span class="string">&#x27;s/hduser302/hdpusr400/&#x27;</span> 　　</span><br><span class="line">hdpusr400 hduser302 /apps/hduser302/student/</span><br><span class="line"></span><br><span class="line"><span class="comment">#替换所有匹配的字符串　</span></span><br><span class="line">[liusiyi@localhost ~]$ <span class="built_in">echo</span> <span class="variable">$a</span> | sed <span class="string">&#x27;s/hduser302/hdpusr400/&#x27;</span> 　　</span><br><span class="line">hdpusr400 hdpusr400 /apps/hdpusr400/student/</span><br></pre></td></tr></table></figure>
<h3 id="用-awk-做字符串替换">用 awk 做字符串替换</h3>
<figure class="highlight sh"><figcaption><span>用awk做字符串替换</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#替换第一个匹配的字符串　</span></span><br><span class="line">[liusiyi@localhost ~]$ <span class="built_in">echo</span> <span class="variable">$a</span> | awk <span class="string">&#x27;&#123;gsub(/hduser302/,&quot;hdpusr400&quot;,$3);print $0&#125;&#x27;</span></span><br><span class="line">hdpusr400 hduser302 /apps/hduser302/student/</span><br><span class="line"></span><br><span class="line"><span class="comment">#替换所有匹配的字符串　</span></span><br><span class="line">[liusiyi@localhost ~]$ <span class="built_in">echo</span> <span class="variable">$a</span> | awk <span class="string">&#x27;&#123;gsub(/hduser302/,&quot;hdpusr400&quot;);print $0&#125;&#x27;</span> 　　</span><br><span class="line">hdpusr400 hdpusr400 /apps/hdpusr400/student/</span><br></pre></td></tr></table></figure>
<h2 id="数组所有元中的字符串替换">数组所有元中的字符串替换</h2>
<figure class="highlight sh"><figcaption><span>数组所有元替换</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Arr=($(<span class="built_in">ls</span> -d /run/media/<span class="variable">$USER</span>/*/*))</span><br><span class="line">Brr=(<span class="variable">$&#123;Arr[*]//&quot;/run/media/$USER&quot;/&quot;$HOME&quot;&#125;</span>)</span><br></pre></td></tr></table></figure>
<div class="note primary"><p><code>Arr</code>数组元中，所有元包括绝对路径<code>/run/media/$USER</code>,
而<code>Brr</code>数组将其全部替换为<code>$HOME</code>.</p>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/23/Shell%E8%84%9A%E6%9C%AC%E4%BD%BF%E7%94%A8ls%E8%8E%B7%E5%8F%96%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/23/Shell%E8%84%9A%E6%9C%AC%E4%BD%BF%E7%94%A8ls%E8%8E%B7%E5%8F%96%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84/" class="post-title-link" itemprop="url">Shell脚本使用ls获取绝对路径</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-23 20:12:50" itemprop="dateCreated datePublished" datetime="2024-06-23T20:12:50+08:00">2024-06-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>已经完成了<code>ugit.sh</code>程序，利用它可以方便的将仓库建立在<code>U盘</code>上，这也就达成了随身携带<code>U盘</code>仓库而不依赖网络的问题。但是在最初实现时，对<code>Shell</code>的理解不够深入，一些基础的命令没有用好，从而增加了一些循环判断，尽管在使用体验上不会有什么影响，但是仔细测试效率时还是有差别的，同时从维护脚本的角度讲不是足够简洁。本着精益求精的原则，决定进一步精简脚本，实现<code>Shell</code>层次上的效率极大化！在所有的问题中，一步列出所有<code>U盘</code>并且将<code>U盘</code>中的目录都添加绝对路径是一个重要的步骤，本文实现了这个一步操作。代码如下:</p>
<figure class="highlight sh"><figcaption><span>列出子目录并添加绝对路径</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> -d /run/media/<span class="variable">$USER</span>/*/*</span><br><span class="line"><span class="comment"># 运行结果</span></span><br><span class="line">/run/media/feng/BNU-FZH/article.git</span><br><span class="line">/run/media/feng/BNU-FZH/cexam.git</span><br><span class="line">/run/media/feng/BNU-FZH/config.git</span><br><span class="line">/run/media/feng/BNU-FZH/document.git</span><br><span class="line">/run/media/feng/BNU-FZH/latex.git</span><br><span class="line">/run/media/feng/BNU-FZH/python.git</span><br><span class="line">/run/media/feng/BNU-FZH/script.git</span><br><span class="line">/run/media/feng/BNU-FZH/System Volume Information</span><br><span class="line">/run/media/feng/feng/20230203_094347.jpg</span><br><span class="line">/run/media/feng/feng/2023_07_19 17_25 Office Lens (1).jpg</span><br><span class="line">/run/media/feng/feng/2023_07_19 17_25 Office Lens.jpg</span><br><span class="line">/run/media/feng/feng/截图 2024-06-18 18-03-16.png</span><br><span class="line">/run/media/feng/feng/截图 2024-06-18 18-06-42.png</span><br><span class="line">/run/media/feng/feng/PDF文件</span><br><span class="line">/run/media/feng/feng/System Volume Information</span><br></pre></td></tr></table></figure>
<div class="note primary"><p>可以看到在路径<code>/run/media/feng/</code>下有两个<code>U盘</code>,分别是<code>BNU-FZH</code>和<code>feng</code>,
这是路径<code>/run/media/$USER/*/*</code>中左起第一个<code>*</code>所代表的，而最后一个<code>*</code>表示列出此目录下的内容。<code>-d</code>选项，则控制<code>ls</code>命令列出路径。一条命令实现了列出所有<code>U盘</code>目录的功能，极大的提高了效率！</p>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/22/Rust%E7%BC%96%E7%A8%8B%E7%AC%AC%E4%B8%80%E8%AF%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/22/Rust%E7%BC%96%E7%A8%8B%E7%AC%AC%E4%B8%80%E8%AF%BE/" class="post-title-link" itemprop="url">Rust编程第一课</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-22 16:03:29" itemprop="dateCreated datePublished" datetime="2024-06-22T16:03:29+08:00">2024-06-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>Rust</code>的官方网站是<a
target="_blank" rel="noopener" href="https://www.rust-lang.org">https://www.rust-lang.org</a>,
它是一门赋予每个人构建可靠且高效软件能力的语言.
按官方介绍，选择<code>Rust</code>的原因主要为：</p>
<ul>
<li>高性能：<code>Rust</code>
速度惊人且内存利用率极高。由于没有运行时和垃圾回收，它能够胜任对性能要求特别高的服务，可以在嵌入式设备上运行，还能轻松和其他语言集成。</li>
<li>可靠性：<code>Rust</code>
丰富的类型系统和所有权模型保证了内存安全和线程安全，让您在编译期就能够消除各种各样的错误。</li>
<li>生产力：<code>Rust</code>
拥有出色的文档、友好的编译器和清晰的错误提示信息，
还集成了一流的工具——包管理器和构建工具，
智能地自动补全和类型检验的多编辑器支持， 以及自动格式化代码等等。</li>
</ul>
<p>学习<code>Rust</code>语言，本博客提供以下几个途径：</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://www.rust-lang.org/zh-CN/learn">Rust官方教程</a></li>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com/rust/rust-tutorial.html">Rust
教程|菜鸟教程</a></li>
<li><a target="_blank" rel="noopener" href="https://course.rs/basic/intro.html">Rust语言圣经</a></li>
<li><a target="_blank" rel="noopener" href="https://rustwiki.org/docs/">Rust 中文文档</a></li>
<li><a
target="_blank" rel="noopener" href="https://kaisery.github.io/trpl-zh-cn/ch00-00-introduction.html">Rust
程序设计语言 简体中文版</a></li>
</ul>
<p>本博客决定边学习边记录，以期完成一篇入门级的简洁实用教程。第一课当然是编写<code>Hello World</code>程序，其源码为：</p>
<figure class="highlight rust"><figcaption><span>hello_world.rs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hello_world.rs</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s</span> = <span class="string">&quot;hello world!&quot;</span>;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>由于其没有复杂的依赖关系，直接使用<code>rustc</code>编译即可，其他所有选项使用默认值：</p>
<figure class="highlight rust"><figcaption><span>编译hello_world.rs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rustc hello_world.rs</span><br></pre></td></tr></table></figure>
<p>编译完成后，在本地文件夹中生成了可执行程序：<code>hello_world</code>,
执行程序<code>./hello_world</code>,
控制台上输出了<code>hello world!</code>字符串，
第一个<code>Rust</code>程序已经成功！
根据这个最简单的例子，我们得到一些基本的规则：</p>
<ul>
<li><p>一般<code>Rust</code>源代码的后缀名使用<code>.rs</code>表示。源码一定要注意使用<code>utf-8</code>编码。</p></li>
<li><p>第一行是注释语句，<code>Rust</code>的注释是<code>C语言</code>系列风格的，行注释采用<code>//</code>开头，块注释使用<code>/*</code>和<code>*/</code>包围。它还支持更高级的文档注释，将在后文中详细展开说明。</p></li>
<li><p><code>fn</code>是一个关键字（<code>key word</code>），函数定义必须以这个关键字开头。函数体使用大括号来包含。<code>fn</code>是单词<code>function</code>的缩写，在<code>Rust</code>中，设计者比较偏向使用单词缩写，即使是关键字也不例外。在代码风格上，某些读者可能开始会有点不习惯。但总体而言，这只是个审美偏好而已，不必过于纠结，习惯就好。</p></li>
<li><p>默认情况下，<code>main</code>函数是可执行程序的入口点，它是一个无参数，无返回值的函数。如果我们要定义的函数有参数和返回值，可以使用以下语法（参数列表使用逗号分开，冒号后面是类型，返回值类型使用<code>-&gt;</code>符号分隔）：
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">Foo</span>( input1 : <span class="type">i32</span>, input2 : <span class="type">u32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></li>
<li><p>局部变量声明使用<code>let</code>关键字开头，用双引号包含起来的部分是字符串常量。<code>Rust</code>是静态强类型语言，所有的变量都有严格的编译期语法检查。关于<code>Rust</code>的变量和类型系统将在后文详细说明。</p></li>
<li><p>每条语句使用分号结尾。语句块使用大括号。空格、换行和缩进不是语法规则的一部分。这都是明显的<code>C语言</code>系列的风格。</p></li>
</ul>
<div class="note primary"><p>最简单的标准输出是使用<code>println！</code>宏来完成。请大家一定注意<code>println</code>后面的感叹号，它代表这是一个宏，而不是一个函数。<code>Rust</code>中的宏与<code>C/C++</code>中的宏是完全不一样的东西。简单点说，可以把它理解为一种安全版的编译期语法扩展。这里之所以使用宏，而不是函数，是因为标准输出宏可以完成编译期格式检查，更加安全。</p>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/22/Shell%E8%84%9A%E6%9C%AC%E5%92%8C%E5%88%AB%E5%90%8D%E5%91%BD%E4%BB%A4alias/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/22/Shell%E8%84%9A%E6%9C%AC%E5%92%8C%E5%88%AB%E5%90%8D%E5%91%BD%E4%BB%A4alias/" class="post-title-link" itemprop="url">Shell脚本和别名命令alias</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-22 13:32:35" itemprop="dateCreated datePublished" datetime="2024-06-22T13:32:35+08:00">2024-06-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>linux shell</code>有交互式与非交互式两种工作模式。我们日常使用<code>shell</code>输入命令得到结果的方式是交互式的方式，而<code>shell</code>脚本使用的是非交互式方式。</p>
<p><code>shell</code>提供了<code>alias</code>功能来简化我们的日常操作，使得我们可以为一个复杂的命令取一个简单的名字，从而提高我们的工作效率。在<label style="color:red">交互式模式下</label>，<code>shell</code>的<code>alias</code>扩展功能是<label style="color:red">打开的</label>，因此我们可以键入自己定义的alias别名来执行对应的命令。</p>
<p>在<label style="color:red">非交互式模式下</label><code>alias</code>扩展功能<label style="color:red">默认是关闭的</label>，此时仍然可以定义<code>alias</code>别名，但是<code>shell</code>不会将<code>alias</code>别名扩展成对应的命令，而是将<code>alias</code>别名本身当作命令执行，如果<code>shell</code>内置命令和<code>PATH</code>中均没有与<code>alias</code>别名同名的命令，则<code>shell</code>会“抱怨”找不到指定的命令。</p>
<div class="note default"><p>在编写脚本时为了提高脚本的通用性，一般使用<code>linux</code>内置的通用命令，例如<code>ls</code>,<code>cat</code>等.
由于脚本是<label style="color:red">非交互模式</label>，
所以在脚本中直接使用系统命令即可。</p>
</div>
<p>现在有人要问了，在非交互模式的脚本中如何启用<code>alias</code>扩展呢？
答案是可以使用<code>shell</code>的内置命令<code>shopt</code>来开启<code>alias</code>扩展选项。</p>
<figure class="highlight sh"><figcaption><span>shopt的使用</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">shopt</span> -s opt_name                 Enable (<span class="built_in">set</span>) opt_name.</span><br><span class="line"><span class="built_in">shopt</span> -u opt_name                 Disable (<span class="built_in">unset</span>) opt_name.</span><br><span class="line"><span class="built_in">shopt</span> opt_name                    Show current status of opt_name.</span><br></pre></td></tr></table></figure>
<p><code>alias</code>扩展功能的选项名称是<code>expand_aliases</code>，我们可以在交互式模式下查看此选项是否开启：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sw@gentoo ~ $ <span class="built_in">shopt</span> expand_aliases</span><br><span class="line">expand_aliases  on</span><br><span class="line">sw@gentoo ~ $</span><br></pre></td></tr></table></figure>
<p>可见在交互式模式下<code>alias</code>扩展功能的确是开启的，因此我们才能使用<code>alias</code>别名。我们编写一个脚本来验证一下非交互式模式下<code>alias</code>扩展的设置：</p>
<figure class="highlight sh"><figcaption><span>验证alias扩展</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash --login</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">alias</span> echo_hello=<span class="string">&quot;echo Hello!&quot;</span></span><br><span class="line"><span class="built_in">shopt</span> expand_aliases  </span><br><span class="line">echo_hello</span><br><span class="line"> </span><br><span class="line"><span class="built_in">shopt</span> -s  expand_aliases </span><br><span class="line"><span class="built_in">shopt</span> expand_aliases  </span><br><span class="line">echo_hello</span><br></pre></td></tr></table></figure>
<p>执行结果为：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sw@gentoo ~ $ ./test.sh</span><br><span class="line">expand_aliases  off</span><br><span class="line">./test.sh: line 5: echo_hello: <span class="built_in">command</span> not found</span><br><span class="line">expand_aliases  on</span><br><span class="line">Hello!</span><br><span class="line">sw@gentoo ~ $</span><br></pre></td></tr></table></figure>
<p>另外，<code>alias</code>别名只在当前<code>shell</code>有效，不能被子<code>shell</code>继承，也不能像环境变量一样<code>export</code>。可以把<code>alias</code>别名定义写在<code>.bashrc</code>文件中，这样如果启动交互式的子<code>shell</code>，则子<code>shell</code>会读取<code>.bashrc</code>，从而得到<code>alias</code>别名定义。但是执行<code>shell</code>脚本时，启动的子<code>shell</code>处于非交互式模式，是不会读取<code>.bashrc</code>的。</p>
<p>如果你一定要让执行<code>shell</code>脚本的子<code>shell</code>读取<code>.bashrc</code>的话，可以给<code>shell</code>脚本第一行的解释器加上参数：
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash --login</span></span><br></pre></td></tr></table></figure></p>
<p>我们有三种方法可以使脚本变成交互式：</p>
<ul>
<li><code>--login</code>使得执行脚本的子<code>shell</code>成为一个<code>login shell</code>，<code>login shell</code>会读取系统和用户的<code>profile</code>及<code>rc</code>文件，因此用户自定义的<code>.bashrc</code>文件中的内容将在执行脚本的子<code>shell</code>中生效。</li>
<li>让执行脚本的<code>shell</code>读取<code>.bashrc</code>，在脚本中主动<code>source ~/.bashrc</code>即可。</li>
<li><code>bash</code>脚本首行加上<code>-i</code>参数就变成交互式了，即<code>#!/bin/bash -i</code>.</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/21/zsh%E5%90%AF%E7%94%A8%E5%91%BD%E4%BB%A4%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/21/zsh%E5%90%AF%E7%94%A8%E5%91%BD%E4%BB%A4%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95/" class="post-title-link" itemprop="url">zsh启用命令历史记录</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-21 21:32:31" itemprop="dateCreated datePublished" datetime="2024-06-21T21:32:31+08:00">2024-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>Zsh</code>（<code>Z-shell</code>）是一款用于交互式使用的<code>shell</code>，也可以作为脚本解释器来使用。其包含了
<code>bash</code>，<code>ksh</code>，<code>tcsh</code>
等其他<code>shell</code>中许多优秀功能，也拥有诸多自身特色。<code>Zsh</code>拥有许多功能强大的插件，其中<a
target="_blank" rel="noopener" href="https://github.com/zsh-users/zsh-autosuggestions">zsh-autosuggestions</a>可以根据历史记录自动补全命令，但是在使用过程中每次重启终端后<code>zsh-autosuggestions</code>总是<code>清空</code>历史记录，这导致了每次补全都会以当前的输入为基础,
这极大的影响了工作效率。经过研究，原来是我的<code>zsh</code>没有配置历史文件，这导致了输入过的命令没有被记录存储下来，所以就出现了<code>清空</code>历史记录的假象！解决方法是在<code>.zshrc</code>文件中加入历史文件配置，具体如下：</p>
<figure class="highlight sh"><figcaption><span>~/.zshrc</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># History file for zsh</span></span><br><span class="line">HISTFILE=~/.zsh_history</span><br><span class="line"><span class="comment"># How many commands to store in history</span></span><br><span class="line">HISTSIZE=10000</span><br><span class="line">SAVEHIST=10000</span><br><span class="line"><span class="comment"># Share history in every terminal session</span></span><br><span class="line"><span class="built_in">setopt</span> SHARE_HISTORY</span><br></pre></td></tr></table></figure>
<p>配置好<code>.zshrc</code>后，再使用<code>zsh</code>时它就会自动记录历史命令了，所以<code>zsh-autosuggestions</code>就可以完美的工作了。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/21/Shell%E4%BD%BF%E7%94%A8expr%E5%91%BD%E4%BB%A4%E5%88%A4%E6%96%AD%E5%8F%98%E9%87%8F%E6%98%AF%E5%90%A6%E4%B8%BA%E6%95%B4%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/21/Shell%E4%BD%BF%E7%94%A8expr%E5%91%BD%E4%BB%A4%E5%88%A4%E6%96%AD%E5%8F%98%E9%87%8F%E6%98%AF%E5%90%A6%E4%B8%BA%E6%95%B4%E6%95%B0/" class="post-title-link" itemprop="url">Shell使用expr命令判断变量是否为整数</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-21 19:27:57" itemprop="dateCreated datePublished" datetime="2024-06-21T19:27:57+08:00">2024-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在编写<code>shell</code>脚本时往往需要判断变量是否为整数，然后根据其类型执行不同的操作,
借助<code>expr</code>命令可以方便的实现此功能。<code>expr</code>命令是一个手工命令行计数器，用于在<code>UNIX/LINUX</code>下求表达式变量的值，一般用于整数值，也可用于字符串。</p>
<h2 id="语法">语法</h2>
<figure class="highlight sh"><figcaption><span>语法</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">expr</span> 表达式</span><br></pre></td></tr></table></figure>
<h2 id="表达说明">表达说明</h2>
<ul>
<li>用空格隔开每个项；</li>
<li>用反斜杠 <code>\</code> 放在 <code>shell</code>
特定的字符前面；</li>
<li>对包含空格和其他特殊字符的字符串要用引号括起来</li>
</ul>
<h2 id="使用举例">使用举例</h2>
<h3 id="计算字符串长度">计算字符串长度</h3>
<figure class="highlight sh"><figcaption><span>计算字符串长度</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">expr</span> length “this is a <span class="built_in">test</span>”</span><br><span class="line"> 14</span><br></pre></td></tr></table></figure>
<h3 id="抓取字符串">抓取字符串</h3>
<figure class="highlight sh"><figcaption><span>抓取字符串</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">expr</span> substr “this is a <span class="built_in">test</span>” 3 5</span><br><span class="line">is is</span><br></pre></td></tr></table></figure>
<h3
id="抓取第一个字符数字串出现的位置">抓取第一个字符数字串出现的位置</h3>
<figure class="highlight sh"><figcaption><span>抓取第一个字符数字串出现的位置</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">expr</span> index <span class="string">&quot;sarasara&quot;</span>  a</span><br><span class="line"> 2</span><br></pre></td></tr></table></figure>
<h3 id="整数运算">整数运算</h3>
<figure class="highlight sh"><figcaption><span>整数运算</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> &gt; <span class="built_in">expr</span> 14 % 9</span><br><span class="line"> 5</span><br><span class="line"> &gt; <span class="built_in">expr</span> 10 + 10</span><br><span class="line"> 20</span><br><span class="line"> &gt; <span class="built_in">expr</span> 1000 + 900</span><br><span class="line"> 1900</span><br><span class="line"> &gt; <span class="built_in">expr</span> 30 / 3 / 2</span><br><span class="line"> 5</span><br><span class="line"> &gt; <span class="built_in">expr</span> 30 \* 3 (使用乘号时，必须用反斜线屏蔽其特定含义。因为shell可能会误解显示星号的意义)</span><br><span class="line"> 90</span><br><span class="line"> &gt; <span class="built_in">expr</span> 30 * 3</span><br><span class="line"> <span class="built_in">expr</span>: Syntax error</span><br><span class="line"> &gt; <span class="built_in">expr</span> a + 1  (当使用一个字符与整数1相加时会返回提示“<span class="built_in">expr</span>: 参数不是整数”)</span><br><span class="line"><span class="built_in">expr</span>: 参数不是整数</span><br><span class="line"> &gt; <span class="built_in">echo</span> $?     (检测返回码，得到1, 这是后面进行整数判断的依据。)</span><br><span class="line"> 1</span><br></pre></td></tr></table></figure>
<h2 id="判断整数的实现">判断整数的实现</h2>
<figure class="highlight sh"><figcaption><span>整数判断</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">expr</span> <span class="string">&quot;<span class="variable">$TLS_SNum</span>&quot;</span> + 1 &amp;&gt; /dev/null</span><br><span class="line"><span class="keyword">if</span> [ $? -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$TLS_SNum</span> -lt <span class="variable">$1</span> -o <span class="variable">$TLS_SNum</span> -gt  <span class="variable">$2</span> ]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;编号超出范围，请重新选择编号！&quot;</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        NEO_OUT_H=<span class="variable">$TLS_SNum</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;输入非数字，请重新输入编号！&quot;</span></span><br><span class="line">    <span class="built_in">exit</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<div class="note primary"><p>上述代码源于<code>diary.sh</code>脚本，其使用<code>expr</code>计算变量<code>TLS_SNum</code>与<code>1</code>之和，如果变量<code>TLS_SNum</code>是数字，则变量<code>$?=0</code>,
否则<code>$?=1</code>,
只有当变量是整数时才能比较它与其他数字的大小关系。这里需要特别注意，网络上一些教程计算<code>TLS_SNum</code>与<code>0</code>的和，但是当<code>TLS_SNum=0</code>时，返回的<code>$?=1</code>,
这会导致误判！！所以，我修改其为<code>$TLS_SNum +1</code>.</p>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/21/Shell%E4%B8%AD%E7%9A%84%E5%8D%95%E6%8B%AC%E5%8F%B7%E5%92%8C%E5%8F%8C%E6%8B%AC%E5%8F%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/21/Shell%E4%B8%AD%E7%9A%84%E5%8D%95%E6%8B%AC%E5%8F%B7%E5%92%8C%E5%8F%8C%E6%8B%AC%E5%8F%B7/" class="post-title-link" itemprop="url">Shell中的单括号和双括号</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-21 15:43:41" itemprop="dateCreated datePublished" datetime="2024-06-21T15:43:41+08:00">2024-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="单括号-和-test">1. 单括号[ ] 和 test</h2>
<p>左括号<code>[</code>和<code>test</code>本质是一样的，是shell的内部命令，所以<code>&gt;</code>和<code>&lt;</code>等会被解释为<code>重定向</code>符号，而不是比较符号：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bash-3.2$ type [ [[ test</span><br><span class="line">[ is a shell builtin</span><br><span class="line">[[ is a shell keyword</span><br><span class="line">test is a shell builtin</span><br></pre></td></tr></table></figure>
<p>右括号<code>]</code>表示判断结束，可以通过<code>man [</code>查看支持的判断语句：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">man [</span></span><br></pre></td></tr></table></figure>
<h3 id="文件相关判断">1.1 文件相关判断</h3>
<ul>
<li><code>-d file</code>: True if file exists and is a directory.</li>
<li><code>-f file</code>: True if file exists and is a regular
file.</li>
<li><code>-h file</code>: True if file exists and is a symbolic
link.</li>
<li><code>-S file</code>: True if file exists and is a socket.</li>
<li><code>file1 -nt file2</code>: True if file1 exists and is newer than
file2.</li>
</ul>
<h3 id="字符串相关判断">1.2 字符串相关判断</h3>
<ul>
<li><code>string</code>: True if string is not the null string.</li>
<li><code>s1 = s2</code>: True if the strings s1 and s2 are
identical.</li>
<li><code>s1 &lt; s2</code>: True if string s1 comes before s2 based on
the binary value of their characters.</li>
</ul>
<h3 id="整型判断">1.3 整型判断</h3>
<ul>
<li><code>n1 -eq n2</code>: True if the integers n1 and n2 are
algebraically equal.</li>
<li><code>n1 -ne n2</code>: True if the integers n1 and n2 are not
algebraically equal.</li>
<li><code>n1 -gt n2</code>: True if the integer n1 is algebraically
greater than the integer n2.</li>
<li><code>n1 -ge n2</code>: True if the integer n1 is algebraically
greater than or equal to the integer n2.</li>
<li><code>n1 -lt n2</code>: True if the integer n1 is algebraically less
than the integer n2.</li>
<li><code>n1 -le n2</code>: True if the integer n1 is algebraically less
than or equal to the integer n2.</li>
</ul>
<h3 id="多个判断连接">1.4 多个判断连接</h3>
<ul>
<li><code>! expression</code>: True if expression is false.</li>
<li><code>expression1 -a expression2</code>: True if both expression1
and expression2 are true.</li>
<li><code>expression1 -o expression2</code>: True if either expression1
or expression2 are true.</li>
</ul>
<h2 id="双括号">2. 双括号[[ ]]</h2>
<p>双括号是shell的<strong>关键字</strong>，会返回一个状态码，所以也可以作为判断条件使用。（更加通用）</p>
<ul>
<li><code>[[</code>支持字符串的模式匹配，<code>=~</code>支持正则匹配</li>
<li><code>[[</code>返回状态码，所以可以与shell中的
<code>&amp;&amp;</code>和<code>||</code>一起使用：</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">[[ 1 &lt; 2 ]] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;1 &lt; 2&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;1 &gt;= 2&quot;</span></span></span><br><span class="line">1 &lt; 2</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/15/Shell%E6%B1%82%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E4%BA%A4%E3%80%81%E5%B9%B6%E9%9B%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/15/Shell%E6%B1%82%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E4%BA%A4%E3%80%81%E5%B9%B6%E9%9B%86/" class="post-title-link" itemprop="url">Shell求两个数组的交、并集</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-15 20:55:36" itemprop="dateCreated datePublished" datetime="2024-06-15T20:55:36+08:00">2024-06-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="脚本命令">脚本命令</h2>
<figure class="highlight sh"><figcaption><span>shell求交、并和差集</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">file_list_1=(<span class="string">&quot;test1&quot;</span> <span class="string">&quot;test2&quot;</span> <span class="string">&quot;test3&quot;</span> <span class="string">&quot;test4&quot;</span> <span class="string">&quot;test5&quot;</span> <span class="string">&quot;test6&quot;</span>)</span><br><span class="line">file_list_2=(<span class="string">&quot;test5&quot;</span> <span class="string">&quot;test6&quot;</span> <span class="string">&quot;test7&quot;</span> <span class="string">&quot;test8&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取并集，A ∪ B</span></span><br><span class="line">file_list_union=(`<span class="built_in">echo</span> <span class="variable">$&#123;file_list_1[*]&#125;</span> <span class="variable">$&#123;file_list_2[*]&#125;</span>|sed <span class="string">&#x27;s/ /\n/g&#x27;</span>|<span class="built_in">sort</span>|<span class="built_in">uniq</span>`)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;file_list_union[*]&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取交集，A n B</span></span><br><span class="line">file_list_inter=(`<span class="built_in">echo</span> <span class="variable">$&#123;file_list_1[*]&#125;</span> <span class="variable">$&#123;file_list_2[*]&#125;</span>|sed <span class="string">&#x27;s/ /\n/g&#x27;</span>|<span class="built_in">sort</span>|<span class="built_in">uniq</span> -c|awk <span class="string">&#x27;$1!=1&#123;print $2&#125;&#x27;</span>`)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;file_list_inter[*]&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对称差集，不属于 A n B</span></span><br><span class="line">file_list_4=(`<span class="built_in">echo</span> <span class="variable">$&#123;file_list_1[*]&#125;</span> <span class="variable">$&#123;file_list_2[*]&#125;</span>|sed <span class="string">&#x27;s/ /\n/g&#x27;</span>|<span class="built_in">sort</span>|<span class="built_in">uniq</span> -c|awk <span class="string">&#x27;$1==1&#123;print $2&#125;&#x27;</span>`)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;file_list_4[*]&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="命令解释">命令解释</h2>
<p>在上述三条命令中，首先使用<code>echo</code>
输出由两个数组构成的集合，然后使用<code>sed</code>将空格替换成换行符<code>\n</code>,
再使用<code>sort</code>排序：</p>
<ul>
<li>使用<code>uniq</code>处理则<label style="color:red">去除相同的项</label>获得并集.</li>
<li>使用<code>uniq -c</code>处理则<label style="color:red">删除文件中重复出现的行，并在行首显示该行重复出现的次数</label>.
再使用<code>awk</code>分析第一个参数<code>$1</code>若不等于<code>1</code>就表示这是两个数组中<label style="color:red">重复出现的项</label>，于是打印<code>$2</code>便得到交集.</li>
<li>使用<code>uniq -c</code>处理则<label style="color:red">删除文件中重复出现的行，并在行首显示该行重复出现的次数</label>.
再使用<code>awk</code>分析第一个参数<code>$1</code>若等于<code>1</code>就表示这是两个数组中<label style="color:red">不重复出现的项</label>，于是打印<code>$2</code>便得到差集.</li>
</ul>
<h2 id="命令参考">命令参考</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-uniq.html">Linux
uniq 命令</a></li>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-awk.html">Linux awk
命令</a></li>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-sed.html">Linux sed
命令</a></li>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-sort.html">Linux
sort 命令</a></li>
</ul>
<h2 id="执行结果">执行结果</h2>
<figure class="highlight sh"><figcaption><span>执行结果</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">test1 test2 test3 test4 test5 test6 test7 test8</span><br><span class="line">test5 test6</span><br><span class="line">test1 test2 test3 test4 test7 test8</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/15/Shell%E6%95%B0%E7%BB%84%E5%85%83%E6%B7%BB%E5%8A%A0%E5%89%8D%E5%90%8E%E7%BC%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/15/Shell%E6%95%B0%E7%BB%84%E5%85%83%E6%B7%BB%E5%8A%A0%E5%89%8D%E5%90%8E%E7%BC%80/" class="post-title-link" itemprop="url">Shell数组元添加和删除前后缀</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-15 15:53:07" itemprop="dateCreated datePublished" datetime="2024-06-15T15:53:07+08:00">2024-06-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="添加前后缀">添加前后缀</h2>
<p>在Linux中使用bash正则表达式来为数组元添加前缀和后缀是一个标准的做法，这在脚本编写中是一个很方便的操作。例如：
<figure class="highlight sh"><figcaption><span>bash正则表达式添加前后缀</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ARRAY=( one two three )</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;ARRAY[@]/#/prefix_&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;ARRAY[@]/%/_suffix&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>除了正则表达式外，还有一种漂亮的解决方案： <figure class="highlight sh"><figcaption><span>数组加入前后缀</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ARRAY=(A B C)</span><br><span class="line">$ <span class="built_in">mapfile</span> -t -d $<span class="string">&#x27;\0&#x27;</span> EXPANDED &lt; &lt;(<span class="built_in">printf</span> <span class="string">&quot;prefix_%s_postfix\0&quot;</span> <span class="string">&quot;<span class="variable">$&#123;ARRAY[@]&#125;</span>&quot;</span>)</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;EXPANDED[@]&#125;</span>&quot;</span></span><br><span class="line">prefix_A_postfix prefix_B_postfix prefix_C_postfix</span><br></pre></td></tr></table></figure></p>
<p><code>mapfile</code>将行读入数组的元素。使用<code>-d $'\0'</code>，它将读取以<code>null</code>分隔的字符串，并且<code>-t</code>将从结果中省略分隔符。参见<code>help mapfile</code>。</p>
<h2 id="删除前后缀">删除前后缀</h2>
<h3 id="删除后缀">删除后缀</h3>
<figure class="highlight sh"><figcaption><span>bash正则表达式删除后缀</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ARRAY=( one.git two.git three.git four.me )</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;ARRAY[@]%.git&#125;</span></span><br><span class="line">&gt; one two three four.me</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;ARRAY[@]%.*&#125;</span></span><br><span class="line">&gt; one two three four</span><br></pre></td></tr></table></figure>
<h3 id="删除前缀">删除前缀</h3>
<figure class="highlight sh"><figcaption><span>bash正则表达式删除前缀</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ARRAY=( pre.one pre.two pre.three me.four )</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;ARRAY[@]#pre.&#125;</span></span><br><span class="line">&gt; one two three me.four</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;ARRAY[@]#*.&#125;</span></span><br><span class="line">&gt; one two three four</span><br></pre></td></tr></table></figure>
<div class="note primary"><p>注意：在删除前后缀中，使用的<code>*</code>是正则表达式，表示任意个字符，若要删除指定字符，应当输入具体的字符。</p>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/15/Shell%E4%B8%AD%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/15/Shell%E4%B8%AD%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="post-title-link" itemprop="url">Shell中的正则表达式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-15 15:38:50" itemprop="dateCreated datePublished" datetime="2024-06-15T15:38:50+08:00">2024-06-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>正则表达式可以极大的提高程序效率，本文提供Shell中的正则表达相关知识。</p>
<h2 id="分类">分类</h2>
<p><a
target="_blank" rel="noopener" href="https://www.runoob.com/regexp/regexp-syntax.html">正则表达式</a>最早在
1950 年代由美国数学家 <code>Stephen Cole Kleene</code> 提出，后来被
<code>Unix</code> 操作系统的文本处理工具广泛使用。</p>
<p>经过多年的发展和实践，最终形成两大标准，一个是 <code>POSIX</code>
标准，另一个是 <code>Perl</code> 标准。后者本是为 <code>Perl</code>
语言实现的，由于其功能非常强大，被
<code>Java</code>、<code>JavaScript</code>等语言广泛借鉴，从而被广泛使用。</p>
<p>这里将正则表达式分为三类：</p>
<ul>
<li>基本正则表达式（<code>Basic Regular Expression</code> 简称
<code>BRE</code>），由 <code>POSIX</code> 标准定义。</li>
<li>扩展正则表达式（<code>Extended Regular Expression</code> 简称
<code>ERE</code>），也由 <code>POSIX</code> 标准定义。</li>
<li><code>Perl</code> 的正则表达式（<code>Perl Regular Expression</code>
简称 <code>PRE</code>），由 <code>Perl</code> 语言定义。</li>
</ul>
<h2 id="组成部分">组成部分</h2>
<h3 id="基本组成部分">基本组成部分</h3>
<table style="width:100%;">
<colgroup>
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
</colgroup>
<thead>
<tr>
<th style="text-align: left;">正则表达式</th>
<th style="text-align: left;">描述</th>
<th style="text-align: left;">示例</th>
<th style="text-align: left;">Basic RegEx</th>
<th style="text-align: left;">Extended RegEx</th>
<th style="text-align: left;">Perl regEx</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>\</code></td>
<td
style="text-align: left;">转义符，将特殊字符进行转义，忽略其特殊意义</td>
<td
style="text-align: left;">a.b匹配a.b，但不能匹配ajb，.被转义为特殊意义</td>
<td style="text-align: left;"><code>\</code></td>
<td style="text-align: left;"><code>\</code></td>
<td style="text-align: left;"><code>\</code></td>
</tr>
<tr>
<td style="text-align: left;">^</td>
<td style="text-align: left;">匹配行首</td>
<td style="text-align: left;">^tux匹配以tux开头的行</td>
<td style="text-align: left;">^</td>
<td style="text-align: left;">^</td>
<td style="text-align: left;">^</td>
</tr>
<tr>
<td style="text-align: left;">$</td>
<td style="text-align: left;">匹配行尾</td>
<td style="text-align: left;">tux$匹配以tux结尾的行</td>
<td style="text-align: left;">$</td>
<td style="text-align: left;">$</td>
<td style="text-align: left;">$</td>
</tr>
<tr>
<td style="text-align: left;">.</td>
<td style="text-align: left;">匹配除换行符\n之外的任意单个字符</td>
<td
style="text-align: left;">ab.匹配abc或bad，不可匹配abcd或abde，只能匹配单字符</td>
<td style="text-align: left;">.</td>
<td style="text-align: left;">.</td>
<td style="text-align: left;">.</td>
</tr>
<tr>
<td style="text-align: left;">[]</td>
<td style="text-align: left;">匹配包含在[字符]之中的任意一个字符</td>
<td style="text-align: left;">coo[kl]可以匹配cook或cool</td>
<td style="text-align: left;">[]</td>
<td style="text-align: left;">[]</td>
<td style="text-align: left;">[]</td>
</tr>
<tr>
<td style="text-align: left;">[^]</td>
<td style="text-align: left;">匹配<a
href="#fn-1">1</a>之外的任意一个字符</td>
<td style="text-align: left;">123<a
href="#fn-2">2</a>不可以匹配1234或1235，1236、1237都可以</td>
<td style="text-align: left;">[^]</td>
<td style="text-align: left;">[^]</td>
<td style="text-align: left;">[^]</td>
</tr>
<tr>
<td style="text-align: left;">[-]</td>
<td
style="text-align: left;">匹配[]中指定范围内的任意一个字符，要写成递增</td>
<td
style="text-align: left;">[0-9]可以匹配1、2或3等其中任意一个数字</td>
<td style="text-align: left;">[-]</td>
<td style="text-align: left;">[-]</td>
<td style="text-align: left;">[-]</td>
</tr>
<tr>
<td style="text-align: left;">?</td>
<td style="text-align: left;">匹配之前的项1次或者0次</td>
<td
style="text-align: left;">colou?r可以匹配color或者colour，不能匹配colouur</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">?</td>
<td style="text-align: left;">?</td>
</tr>
<tr>
<td style="text-align: left;">+</td>
<td style="text-align: left;">匹配之前的项1次或者多次</td>
<td style="text-align: left;">sa-6+匹配sa-6、sa-666，不能匹配sa-</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">+</td>
<td style="text-align: left;">+</td>
</tr>
<tr>
<td style="text-align: left;">*</td>
<td style="text-align: left;">匹配之前的项0次或者多次</td>
<td style="text-align: left;">co*l匹配cl、col、cool、coool等</td>
<td style="text-align: left;">*</td>
<td style="text-align: left;">*</td>
<td style="text-align: left;">*</td>
</tr>
<tr>
<td style="text-align: left;">()</td>
<td style="text-align: left;">匹配表达式，创建一个用于匹配的子串</td>
<td style="text-align: left;">ma(tri)?匹配max或maxtrix</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">()</td>
<td style="text-align: left;">()</td>
</tr>
<tr>
<td style="text-align: left;">{n}</td>
<td style="text-align: left;">匹配之前的项n次，n是可以为0的正整数</td>
<td
style="text-align: left;">[0-9]{3}匹配任意一个三位数，可以扩展为0-9[0-9]</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">{n}</td>
<td style="text-align: left;">{n}</td>
</tr>
<tr>
<td style="text-align: left;">{n,}</td>
<td style="text-align: left;">之前的项至少需要匹配n次</td>
<td style="text-align: left;">[0-9]{2,}匹配任意一个两位数或更多位数</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">{n,}</td>
<td style="text-align: left;">{n,}</td>
</tr>
<tr>
<td style="text-align: left;">{n,m}</td>
<td
style="text-align: left;">指定之前的项至少匹配n次，最多匹配m次，n&lt;=m</td>
<td
style="text-align: left;">[0-9]{2,5}匹配从两位数到五位数之间的任意一个数字</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">{n,m}</td>
<td style="text-align: left;">{n,m}</td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">交替匹配</td>
<td style="text-align: left;">两边的任意一项</td>
<td style="text-align: left;">ab(c</td>
<td style="text-align: left;">d)匹配abc或abd</td>
</tr>
</tbody>
</table>
<h3 id="posix-字符类">POSIX 字符类</h3>
<p>POSIX字符类是一个形如<code>[:...:]</code>的特殊元序列（meta
sequence），他可以用于匹配特定的字符范围。</p>
<table style="width:100%;">
<colgroup>
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
</colgroup>
<thead>
<tr>
<th style="text-align: left;">正则表达式</th>
<th style="text-align: left;">描述</th>
<th style="text-align: left;">示例</th>
<th style="text-align: left;">Basic RegEx</th>
<th style="text-align: left;">Extended RegEx</th>
<th style="text-align: left;">Perl RegEx</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">[:alnum:]</td>
<td style="text-align: left;">匹配任意一个字母或数字字符</td>
<td style="text-align: left;">[[:alnum:]]+</td>
<td style="text-align: left;">[:alnum:]</td>
<td style="text-align: left;">[:alnum:]</td>
<td style="text-align: left;">[:alnum:]</td>
</tr>
<tr>
<td style="text-align: left;">[:alpha:]</td>
<td
style="text-align: left;">匹配任意一个字母字符（包括大小写字母）</td>
<td style="text-align: left;">[[:alpha:]]{4}</td>
<td style="text-align: left;">[:alpha:]</td>
<td style="text-align: left;">[:alpha:]</td>
<td style="text-align: left;">[:alpha:]</td>
</tr>
<tr>
<td style="text-align: left;">[:blank:]</td>
<td style="text-align: left;">空格与制表符（横向和纵向）</td>
<td style="text-align: left;">[[:blank:]]*</td>
<td style="text-align: left;">[:blank:]</td>
<td style="text-align: left;">[:blank:]</td>
<td style="text-align: left;">[:blank:]</td>
</tr>
<tr>
<td style="text-align: left;">[:digit:]</td>
<td style="text-align: left;">匹配任意一个数字字符</td>
<td style="text-align: left;">[[:digit:]]?</td>
<td style="text-align: left;">[:digit:]</td>
<td style="text-align: left;">[:digit:]</td>
<td style="text-align: left;">[:digit:]</td>
</tr>
<tr>
<td style="text-align: left;">[:lower:]</td>
<td style="text-align: left;">匹配小写字母</td>
<td style="text-align: left;">[[:lower:]]{5,}</td>
<td style="text-align: left;">[:lower:]</td>
<td style="text-align: left;">[:lower:]</td>
<td style="text-align: left;">[:lower:]</td>
</tr>
<tr>
<td style="text-align: left;">[:upper:]</td>
<td style="text-align: left;">匹配大写字母</td>
<td style="text-align: left;">([[:upper:]]+)?</td>
<td style="text-align: left;">[:upper:]</td>
<td style="text-align: left;">[:upper:]</td>
<td style="text-align: left;">[:upper:]</td>
</tr>
<tr>
<td style="text-align: left;">[:punct:]</td>
<td style="text-align: left;">匹配标点符号</td>
<td style="text-align: left;">[[:punct:]]</td>
<td style="text-align: left;">[:punct:]</td>
<td style="text-align: left;">[:punct:]</td>
<td style="text-align: left;">[:punct:]</td>
</tr>
<tr>
<td style="text-align: left;">[:space:]</td>
<td
style="text-align: left;">匹配一个包括换行符、回车等在内的所有空白符</td>
<td style="text-align: left;">[[:space:]]+</td>
<td style="text-align: left;">[:space:]</td>
<td style="text-align: left;">[:space:]</td>
<td style="text-align: left;">[:space:]</td>
</tr>
<tr>
<td style="text-align: left;">[:graph:]</td>
<td
style="text-align: left;">匹配任何一个可以看得见的且可以打印的字符</td>
<td style="text-align: left;">[[:graph:]]</td>
<td style="text-align: left;">[:graph:]</td>
<td style="text-align: left;">[:graph:]</td>
<td style="text-align: left;">[:graph:]</td>
</tr>
<tr>
<td style="text-align: left;">[:xdigit:]</td>
<td
style="text-align: left;">任何一个十六进制数（即：0-9，a-f，A-F）</td>
<td style="text-align: left;">[[:xdigit:]]+</td>
<td style="text-align: left;">[:xdigit:]</td>
<td style="text-align: left;">[:xdigit:]</td>
<td style="text-align: left;">[:xdigit:]</td>
</tr>
<tr>
<td style="text-align: left;">[:cntrl:]</td>
<td
style="text-align: left;">任何一个控制字符（ASCII字符集中的前32个字符)</td>
<td style="text-align: left;">[[:cntrl:]]</td>
<td style="text-align: left;">[:cntrl:]</td>
<td style="text-align: left;">[:cntrl:]</td>
<td style="text-align: left;">[:cntrl:]</td>
</tr>
<tr>
<td style="text-align: left;">[:print:]</td>
<td style="text-align: left;">任何一个可以打印的字符</td>
<td style="text-align: left;">[[:print:]]</td>
<td style="text-align: left;">[:print:]</td>
<td style="text-align: left;">[:print:]</td>
<td style="text-align: left;">[:print:]</td>
</tr>
</tbody>
</table>
<h3 id="元字符">元字符</h3>
<p>元字符（meta character）是一种 Perl
风格的正则表达式，只有一部分文本处理工具支持它，并不是所有的文本处理工具都支持。</p>
<table style="width:100%;">
<colgroup>
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 16%" />
</colgroup>
<thead>
<tr>
<th style="text-align: left;">正则表达式</th>
<th style="text-align: left;">描述</th>
<th style="text-align: left;">示例</th>
<th style="text-align: left;">Basic RegEx</th>
<th style="text-align: left;">Extended RegEx</th>
<th style="text-align: left;">Perl RegEx</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">\b</td>
<td style="text-align: left;">单词边界</td>
<td style="text-align: left;">\bcool\b 匹配cool，不匹配coolant</td>
<td style="text-align: left;">\b</td>
<td style="text-align: left;">\b</td>
<td style="text-align: left;">\b</td>
</tr>
<tr>
<td style="text-align: left;">\B</td>
<td style="text-align: left;">非单词边界</td>
<td style="text-align: left;">cool\B 匹配coolant，不匹配cool</td>
<td style="text-align: left;">\B</td>
<td style="text-align: left;">\B</td>
<td style="text-align: left;">\B</td>
</tr>
<tr>
<td style="text-align: left;">\d</td>
<td style="text-align: left;">单个数字字符</td>
<td style="text-align: left;">b\db 匹配b2b，不匹配bcb</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">\d</td>
</tr>
<tr>
<td style="text-align: left;">\D</td>
<td style="text-align: left;">单个非数字字符</td>
<td style="text-align: left;">b\Db 匹配bcb，不匹配b2b</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">\D</td>
</tr>
<tr>
<td style="text-align: left;">\w</td>
<td style="text-align: left;">单个单词字符（字母、数字与_）</td>
<td style="text-align: left;">\w 匹配1或a，不匹配&amp;</td>
<td style="text-align: left;">\w</td>
<td style="text-align: left;">\w</td>
<td style="text-align: left;">\w</td>
</tr>
<tr>
<td style="text-align: left;">\W</td>
<td style="text-align: left;">单个非单词字符</td>
<td style="text-align: left;">\W 匹配&amp;，不匹配1或a</td>
<td style="text-align: left;">\W</td>
<td style="text-align: left;">\W</td>
<td style="text-align: left;">\W</td>
</tr>
<tr>
<td style="text-align: left;">\n</td>
<td style="text-align: left;">换行符</td>
<td style="text-align: left;">\n 匹配一个新行</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">\n</td>
</tr>
<tr>
<td style="text-align: left;">\s</td>
<td style="text-align: left;">单个空白字符</td>
<td style="text-align: left;">x\sx 匹配x x，不匹配xx</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">\s</td>
</tr>
<tr>
<td style="text-align: left;">\S</td>
<td style="text-align: left;">单个非空白字符</td>
<td style="text-align: left;">x\S\x 匹配xkx，不匹配xx</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">\S</td>
</tr>
<tr>
<td style="text-align: left;">\r</td>
<td style="text-align: left;">回车</td>
<td style="text-align: left;">\r 匹配回车</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">\r</td>
</tr>
<tr>
<td style="text-align: left;">\t</td>
<td style="text-align: left;">横向制表符</td>
<td style="text-align: left;">\t 匹配一个横向制表符</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">\t</td>
</tr>
<tr>
<td style="text-align: left;">\v</td>
<td style="text-align: left;">垂直制表符</td>
<td style="text-align: left;">\v 匹配一个垂直制表符</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">\v</td>
</tr>
<tr>
<td style="text-align: left;">\f</td>
<td style="text-align: left;">换页符</td>
<td style="text-align: left;">\f 匹配一个换页符</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">不支持</td>
<td style="text-align: left;">\f</td>
</tr>
</tbody>
</table>
<h2 id="常见命令中的使用">常见命令中的使用</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">命令</th>
<th style="text-align: left;">Basic RegEx</th>
<th style="text-align: left;">Extended RegEx</th>
<th style="text-align: left;">Perl RegEx</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">grep</td>
<td style="text-align: left;">支持</td>
<td style="text-align: left;">需加 <code>-E</code> 参数</td>
<td style="text-align: left;">需加 <code>-P</code> 参数</td>
</tr>
<tr>
<td style="text-align: left;">egrep</td>
<td style="text-align: left;">支持</td>
<td style="text-align: left;">支持</td>
<td style="text-align: left;">需加 <code>-P</code> 参数</td>
</tr>
<tr>
<td style="text-align: left;">sed</td>
<td style="text-align: left;">支持</td>
<td style="text-align: left;">需加 <code>-r</code> 参数</td>
<td style="text-align: left;">不支持</td>
</tr>
<tr>
<td style="text-align: left;">awk</td>
<td style="text-align: left;">支持</td>
<td style="text-align: left;">支持</td>
<td style="text-align: left;">不支持</td>
</tr>
</tbody>
</table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/25/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/25/">25</a><span class="page-number current">26</span><a class="page-number" href="/page/27/">27</a><span class="space">&hellip;</span><a class="page-number" href="/page/56/">56</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/27/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; Sat Sep 03 2022 08:00:00 GMT+0800 (中国标准时间) – 
    <span itemprop="copyrightYear">2026</span>
    <span class="with-love">
      <i class="fa-solid fa-star"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">fengzhenhua</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/fungzhenhua" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://s4.zstatic.net/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://s4.zstatic.net/ajax/libs/pdfobject/2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://s4.zstatic.net/ajax/libs/mermaid/11.4.0/mermaid.min.js","integrity":"sha256-G8ouPAnw4zzMbnAenHnVz6h9XpKbNdOkrqTh7AadyHs="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://s4.zstatic.net/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
