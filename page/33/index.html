<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#9400D3"><meta name="generator" content="Hexo 5.4.2">
<link rel="preconnect" href="https://s4.zstatic.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#9400D3">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":true,"height":500},"bookmark":{"enable":true,"color":"#9400D3","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script>



<link rel="canonical" href="http://example.com/page/33/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/33/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>BNU-FZH</title>
  







<script async src="/lib/fireworks.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">BNU-FZH</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">fengzhenhua@outlook.com</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-导航"><a href="/%E5%AF%BC%E8%88%AA/" rel="section"><i class="fa fa-paper-plane fa-fw"></i>导航</a></li><li class="menu-item menu-item-软件"><a href="/%E8%BD%AF%E4%BB%B6/" rel="section"><i class="fa fa-briefcase fa-fw"></i>软件</a></li><li class="menu-item menu-item-收藏"><a href="/%E6%94%B6%E8%97%8F/" rel="section"><i class="fa fa-folder fa-fw"></i>收藏</a></li><li class="menu-item menu-item-工作"><a href="/%E5%B7%A5%E4%BD%9C/" rel="section"><i class="fa fa-folder fa-fw"></i>工作</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name"></p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">551</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="http://192.168.1.14/" title="实验信息 → http:&#x2F;&#x2F;192.168.1.14&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>实验信息</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhixue.com/" title="智学阅卷 → https:&#x2F;&#x2F;www.zhixue.com" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>智学阅卷</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://chat.deepseek.com/" title="深度求索 → https:&#x2F;&#x2F;chat.deepseek.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>深度求索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tongyi.com/" title="通义千问 → https:&#x2F;&#x2F;www.tongyi.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>通义千问</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.scnet.cn/ui/chatbot/" title="国家超算 → https:&#x2F;&#x2F;www.scnet.cn&#x2F;ui&#x2F;chatbot&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>国家超算</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yuanbao.tencent.com/chat" title="腾讯元宝 → https:&#x2F;&#x2F;yuanbao.tencent.com&#x2F;chat" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>腾讯元宝</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/" title="必应搜索 → https:&#x2F;&#x2F;cn.bing.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>必应搜索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.hao268.com/" title="网址之家 → https:&#x2F;&#x2F;www.hao268.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>网址之家</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ac.scmor.com/" title="思谋学术 → https:&#x2F;&#x2F;ac.scmor.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>思谋学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://search.essclick.com/" title="爱思学术 → https:&#x2F;&#x2F;search.essclick.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>爱思学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://scholar.lanfanshu.cn/" title="番薯学术 → https:&#x2F;&#x2F;scholar.lanfanshu.cn&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>番薯学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://xmsoushu.com/" title="熊猫搜书 → https:&#x2F;&#x2F;xmsoushu.com&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>熊猫搜书</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/translator" title="必应翻译 → https:&#x2F;&#x2F;cn.bing.com&#x2F;translator" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>必应翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.baidu.com/#zh/en" title="百度翻译 → https:&#x2F;&#x2F;fanyi.baidu.com&#x2F;#zh&#x2F;en" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>百度翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.youdao.com/?keyfrom=fanyi.logo" title="有道翻译 → https:&#x2F;&#x2F;fanyi.youdao.com&#x2F;?keyfrom&#x3D;fanyi.logo" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>有道翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.oxfordlearnersdictionaries.com/definition/english/" title="牛津翻译 → https:&#x2F;&#x2F;www.oxfordlearnersdictionaries.com&#x2F;definition&#x2F;english&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>牛津翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://wx.qq.com/" title="网页微信 → https:&#x2F;&#x2F;wx.qq.com" rel="noopener me" target="_blank"><i class="fab fa-weixin fa-fw"></i>网页微信</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://login.partner.microsoftonline.cn/" title="微软办公 → https:&#x2F;&#x2F;login.partner.microsoftonline.cn" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软办公</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mathsolver.microsoft.com/" title="微软数学 → https:&#x2F;&#x2F;mathsolver.microsoft.com" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软数学</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.mail.bnu.edu.cn/" title="师大邮箱 → https:&#x2F;&#x2F;www.mail.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>师大邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mail.sina.com.cn/" title="新浪邮箱 → https:&#x2F;&#x2F;mail.sina.com.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>新浪邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.aliyundrive.com/sign/in" title="阿里云盘 → https:&#x2F;&#x2F;www.aliyundrive.com&#x2F;sign&#x2F;in" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>阿里云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yun.139.com/w/#/" title="移动云盘 → https:&#x2F;&#x2F;yun.139.com&#x2F;w&#x2F;#&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>移动云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jianguoyun.com/d/login" title="坚果网盘 → https:&#x2F;&#x2F;www.jianguoyun.com&#x2F;d&#x2F;login" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>坚果网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://efss.qloud.my/index.php/login?clear=1" title="Next云盘 → https:&#x2F;&#x2F;efss.qloud.my&#x2F;index.php&#x2F;login?clear&#x3D;1" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>Next云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.123pan.com/" title="123 网盘 → https:&#x2F;&#x2F;www.123pan.com&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>123 网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://annas-archive.org/" title="安娜档案 → https:&#x2F;&#x2F;annas-archive.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>安娜档案</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://book.sciencereading.cn/" title="科学文库 → https:&#x2F;&#x2F;book.sciencereading.cn" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>科学文库</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ylibrary.org/" title="Ylibrary → https:&#x2F;&#x2F;ylibrary.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Ylibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tboxn.com/sites/320.html" title="Zlibrary → https:&#x2F;&#x2F;www.tboxn.com&#x2F;sites&#x2F;320.html" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Zlibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.koushare.com/" title="蔻享官网 → https:&#x2F;&#x2F;www.koushare.com" rel="noopener me" target="_blank"><i class="fas fa-globe-asia fa-fw"></i>蔻享官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.duolingo.cn/" title="多邻国官 → https:&#x2F;&#x2F;www.duolingo.cn" rel="noopener me" target="_blank"><i class="fas fa-school fa-fw"></i>多邻国官</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.bnu.edu.cn/" title="师大官网 → https:&#x2F;&#x2F;www.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>师大官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://one.bnu.edu.cn/" title="数字京师 → https:&#x2F;&#x2F;one.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>数字京师</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.runoob.com/font-awesome/fontawesome-icons-brand.html" title="图站图标 → https:&#x2F;&#x2F;www.runoob.com&#x2F;font-awesome&#x2F;fontawesome-icons-brand.html" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>图站图标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://shields.io/badges" title="项目微标 → https:&#x2F;&#x2F;shields.io&#x2F;badges" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>项目微标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jd.com/" title="京东购物 → https:&#x2F;&#x2F;www.jd.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cart-shopping fa-fw"></i>京东购物</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.taobao.com/" title="淘宝购物 → https:&#x2F;&#x2F;www.taobao.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cart-shopping fa-fw"></i>淘宝购物</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/" title="LaTeXLiv → https:&#x2F;&#x2F;www.latexlive.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXLiv</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/help" title="LaTeXHel → https:&#x2F;&#x2F;www.latexlive.com&#x2F;help" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXHel</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://p2t.breezedeus.com/" title="Pix2Text → https:&#x2F;&#x2F;p2t.breezedeus.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Pix2Text</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://simpletex.cn/" title="Simplete → https:&#x2F;&#x2F;simpletex.cn" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Simplete</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/26/%E5%B1%80%E5%9F%9F%E7%BD%91%E6%96%87%E4%BB%B6%E4%BC%A0%E9%80%81%E5%B7%A5%E5%85%B7LocalSend/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/26/%E5%B1%80%E5%9F%9F%E7%BD%91%E6%96%87%E4%BB%B6%E4%BC%A0%E9%80%81%E5%B7%A5%E5%85%B7LocalSend/" class="post-title-link" itemprop="url">局域网文件传送工具LocalSend</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-26 23:42:49" itemprop="dateCreated datePublished" datetime="2024-01-26T23:42:49+08:00">2024-01-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>局域网文件传送，主要用于手机与电脑或者手机与手机之间，对于 Linux
用户而言，站长薄荷君之前推荐过 <a
target="_blank" rel="noopener" href="http://www.mintos.org/soft/landrop-transfer.html"
title="无线投送：全平台局域网文件传送软件LANDrop">LANDrop</a>、Dukto、<a
target="_blank" rel="noopener" href="http://www.mintos.org/soft/feem-transfer.html"
title="FEEM：接班DUKTO的全平台局域网文件传输工具">Feem</a>
等。随着时过境迁，很多优秀的开源项目都没有维护了，目前能够良好支持手机与电脑（Linux）的局域网文件传送工具中，Feem
算是不错的了。当然，美中不足是有广告。</p>
<p>现在，LocalSend 来了！</p>
<p>顾名思义，LocalSend 就是本地传送工具。这是一款开源软件，可以良好支持
Linux、MacOS 和 Windows 电脑平台，也良好支持 Android 和 iOS
移动平台。而且，LocalSend 的界面非常简洁清新，颇有原生 Android
系统的风格。关键是没有广告！</p>
<p>更贴心的是，LocalSend 为 Linux 用户提供了 Deb 安装包和 Appimage
包，主流 Linux 发行版都可以无忧使用，真是太棒了！<br />
LocalSend 官网：<a
target="_blank" rel="noopener" href="https://localsend.org/">https://localsend.org/</a><br />
<a
target="_blank" rel="noopener" href="http://www.mintos.org/wp-content/uploads/2023/08/00-localsend-transfer.jpg"><img
src="http://www.mintos.org/wp-content/uploads/2023/08/00-localsend-transfer.jpg" /></a></p>
<p>启动
LocalSend，接收、发送、设置，三大功能，没有任何多余的元素，而且中文化非常好。<br />
<a
target="_blank" rel="noopener" href="http://www.mintos.org/wp-content/uploads/2023/08/02-localsend-transfer.jpg"><img
src="http://www.mintos.org/wp-content/uploads/2023/08/02-localsend-transfer-640x427.jpg" /></a></p>
<p>在发送页面，就可以看到在同一局域网内运行 LocalSend 的其他设备。<br />
<a
target="_blank" rel="noopener" href="http://www.mintos.org/wp-content/uploads/2023/08/03-localsend-transfer.jpg"><img
src="http://www.mintos.org/wp-content/uploads/2023/08/03-localsend-transfer-640x427.jpg" /></a></p>
<p>薄荷君实测，通过 iPhone
向电脑（Linux）发送文件，如图所示，这是电脑端提示接收的界面。当然还可以设置成自动接收。<br />
<a
target="_blank" rel="noopener" href="http://www.mintos.org/wp-content/uploads/2023/08/04-localsend-transfer.jpg"><img
src="http://www.mintos.org/wp-content/uploads/2023/08/04-localsend-transfer-640x427.jpg" /></a></p>
<p>这是传送过程以及完成的界面。<br />
<a
target="_blank" rel="noopener" href="http://www.mintos.org/wp-content/uploads/2023/08/05-localsend-transfer.jpg"><img
src="http://www.mintos.org/wp-content/uploads/2023/08/05-localsend-transfer-640x427.jpg" /></a></p>
<p>要发送文件（图片、文件夹都可以），先点击添加，添加本地文件，然后点击下方的其他设备，向其发送。<br />
<a
target="_blank" rel="noopener" href="http://www.mintos.org/wp-content/uploads/2023/08/06-localsend-transfer.jpg"><img
src="http://www.mintos.org/wp-content/uploads/2023/08/06-localsend-transfer-640x427.jpg" /></a></p>
<p>等待目标设备接收。<br />
<a
target="_blank" rel="noopener" href="http://www.mintos.org/wp-content/uploads/2023/08/07-localsend-transfer.jpg"><img
src="http://www.mintos.org/wp-content/uploads/2023/08/07-localsend-transfer-640x427.jpg" /></a></p>
<p>局域网传送，速度很快。<br />
<a
target="_blank" rel="noopener" href="http://www.mintos.org/wp-content/uploads/2023/08/08-localsend-transfer.jpg"><img
src="http://www.mintos.org/wp-content/uploads/2023/08/08-localsend-transfer-640x427.jpg" /></a></p>
<p>在看看 LocalSend 的设置选项，都是中文见面，一看就会，毫无难度。<br />
<a
target="_blank" rel="noopener" href="http://www.mintos.org/wp-content/uploads/2023/08/09-localsend-transfer.jpg"><img
src="http://www.mintos.org/wp-content/uploads/2023/08/09-localsend-transfer-640x427.jpg" /></a>
<a
target="_blank" rel="noopener" href="http://www.mintos.org/wp-content/uploads/2023/08/10-localsend-transfer.jpg"><img
src="http://www.mintos.org/wp-content/uploads/2023/08/10-localsend-transfer-640x427.jpg" /></a></p>
<p><strong>小结：LocalSend
无论是从界面布局、外观颜值还是功能便捷性方面都是当今最好的局域网文件传送工具，强烈推荐大家使用！</strong></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/26/%E5%9C%A8LaTeX%E4%B8%AD%E8%BF%9B%E8%A1%8C%E6%96%87%E5%AD%A6%E7%BC%96%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/26/%E5%9C%A8LaTeX%E4%B8%AD%E8%BF%9B%E8%A1%8C%E6%96%87%E5%AD%A6%E7%BC%96%E7%A8%8B/" class="post-title-link" itemprop="url">在LaTeX中进行文学编程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-26 13:16:04" itemprop="dateCreated datePublished" datetime="2024-01-26T13:16:04+08:00">2024-01-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>文学编程是 TeX
的作者高德纳提出的编程方式，主张程序员在编写代码的过程中详细地记录自己的思维方式和内在逻辑。这种编程方式注重编码的逻辑而将编码本身放在更次要的位置，因而不充分的设计在这种编程方式下无所遁形。文学编程的另一个优点是它产生的代码文档能帮助程序员在任意时候重新会想起当时编码的思路。</p>
<p>在 LaTeX 中，可以用 Doc 和 DocStrip 这两个工具来实现文学编程。</p>
<p>对于程序员来说，最重要的有三个部分：</p>
<ul>
<li>代码；</li>
<li>代码文档；</li>
<li>用户手册。</li>
</ul>
<p>使用 Doc 和 DocStrip 可以将这三个部分集中到一个 <code>.dtx</code>
文件当中。这篇文章将分三个部分讲述如何构建这样一个 <code>.dtx</code>
文件。</p>
<h2 id="ins-文件"><code>.ins</code> 文件</h2>
<p>INS
三个字母是「Install」的缩写，顾名思义，这个文件是和安装相关的。<code>.ins</code>
文件通常用来控制 TeX 从 <code>.dtx</code>
文件里释放宏包文件，它的结构最为简单，大概是这样的。</p>
<ol type="1">
<li>作为注释的版权信息</li>
<li><strong>载入 <code>docstrip.tex</code></strong></li>
<li>写入 DocStrip 的控制命令</li>
<li>编写将写入生成文件的版权信息</li>
<li><strong>生成文件指令</strong></li>
<li>写入提示信息用以完成安装</li>
<li><strong>结束安装文件</strong></li>
</ol>
<p>这里粗体标记的是必不可少的部分，其他部分或多或少都可以省略。</p>
<p>我们逐步构建一个完整的 <code>.ins</code> 文件。</p>
<hr />
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%% Copyright (C) 2003--2015</span></span><br><span class="line"><span class="comment">%% CTEX.ORG and any individual authors listed elsewhere in this file.</span></span><br><span class="line"><span class="comment">%% --------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line"><span class="comment">%% This work may be distributed and/or modified under the</span></span><br><span class="line"><span class="comment">%% conditions of the LaTeX Project Public License, either</span></span><br><span class="line"><span class="comment">%% version 1.3c of this license or (at your option) any later</span></span><br><span class="line"><span class="comment">%% version. This version of this license is in</span></span><br><span class="line"><span class="comment">%%    http://www.latex-project.org/lppl/lppl-1-3c.txt</span></span><br><span class="line"><span class="comment">%% and the latest version of this license is in</span></span><br><span class="line"><span class="comment">%%    http://www.latex-project.org/lppl.txt</span></span><br><span class="line"><span class="comment">%% and version 1.3 or later is part of all distributions of</span></span><br><span class="line"><span class="comment">%% LaTeX version 2005/12/01 or later.</span></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line"><span class="comment">%% This work has the LPPL maintenance status `maintained&#x27;.</span></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line"><span class="comment">%% The Current Maintainers of this work are Leo Liu, Qing Lee and Liam Huang.</span></span><br><span class="line"><span class="comment">%% --------------------------------------------------------------------------</span></span><br></pre></td></tr></table></figure>
<p>这是 <code>ctex</code> 宏包的版权声明信息。</p>
<ul>
<li>这里的每一行都以百分号开头，因此在声明版权的同时不会影响正常的编译流程。</li>
<li>版权声明部分，首先是声明版权的归属。</li>
<li>接下来，声明许可协议为 LPPL。大多数 TeX 相关的宏包或软件，都在 LPPL
协议下发布。</li>
</ul>
<hr />
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\input</span> docstrip.tex</span><br></pre></td></tr></table></figure>
<p>载入 <code>docstrip.tex</code>。</p>
<hr />
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\keepsilent</span></span><br></pre></td></tr></table></figure>
<p>这是 DocStrip 的控制命令之一，其作用是关闭 DocStrip
的日志输出功能。默认情况下，DocStrip
会详细输出它的每一步操作。对于大多数人来说，成百上千行的日志徒惹人嫌弃，因此我们关闭它。</p>
<p>更多的控制命令可以参考 DocStrip 的文档。</p>
<hr />
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\preamble</span></span><br><span class="line"></span><br><span class="line">    Copyright (C) 2003-2015</span><br><span class="line">    CTEX.ORG and any individual authors listed in the documentation.</span><br><span class="line">------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">    This work may be distributed and/or modified under the</span><br><span class="line">    conditions of the LaTeX Project Public License, either</span><br><span class="line">    version 1.3c of this license or (at your option) any later</span><br><span class="line">    version. This version of this license is in</span><br><span class="line">       http://www.latex-project.org/lppl/lppl-1-3c.txt</span><br><span class="line">    and the latest version of this license is in</span><br><span class="line">       http://www.latex-project.org/lppl.txt</span><br><span class="line">    and version 1.3 or later is part of all distributions of</span><br><span class="line">    LaTeX version 2005/12/01 or later.</span><br><span class="line"></span><br><span class="line">    This work has the LPPL maintenance status `maintained&#x27;.</span><br><span class="line"></span><br><span class="line">    The Current Maintainers of this work are Leo Liu, Qing Lee and Liam Huang.</span><br><span class="line">------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="keyword">\endpreamble</span></span><br></pre></td></tr></table></figure>
<p>在 <code>\preamble</code> 和 <code>\endpreamble</code>
之间的部分，将被写入由 DocStrip
生成的所有文档（默认情况下）。比如上面这段 <code>ctex</code>
宏包的版权信息将写入每一个生成的文件。</p>
<hr />
<p>下面的内容是整个 <code>.ins</code>
文件里最重要的部分，它控制着如何生成最终的宏包文件。</p>
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\generate</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">\usedir</span>&#123;tex/latex/ctex&#125;</span><br><span class="line">    <span class="keyword">\file</span>&#123;ctex.sty&#125;                 &#123;<span class="keyword">\from</span>&#123;<span class="keyword">\jobname</span>.dtx&#125;&#123;package,style&#125;&#125;</span><br><span class="line">    <span class="keyword">\file</span>&#123;ctexcap.sty&#125;              &#123;<span class="keyword">\from</span>&#123;<span class="keyword">\jobname</span>.dtx&#125;&#123;package,ctexcap&#125;&#125;</span><br><span class="line">    <span class="keyword">\file</span>&#123;ctexsize.sty&#125;             &#123;<span class="keyword">\from</span>&#123;<span class="keyword">\jobname</span>.dtx&#125;&#123;package,ctexsize&#125;&#125;</span><br><span class="line">    <span class="keyword">\file</span>&#123;ctexart.cls&#125;              &#123;<span class="keyword">\from</span>&#123;<span class="keyword">\jobname</span>.dtx&#125;&#123;class,article&#125;&#125;</span><br><span class="line">    <span class="keyword">\file</span>&#123;ctexbook.cls&#125;             &#123;<span class="keyword">\from</span>&#123;<span class="keyword">\jobname</span>.dtx&#125;&#123;class,book&#125;&#125;</span><br><span class="line">    <span class="keyword">\file</span>&#123;ctexrep.cls&#125;              &#123;<span class="keyword">\from</span>&#123;<span class="keyword">\jobname</span>.dtx&#125;&#123;class,report&#125;&#125;</span><br><span class="line">    <span class="keyword">\file</span>&#123;ctexspa.def&#125;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">\from</span>&#123;<span class="keyword">\jobname</span>.dtx&#125;         &#123;ctexspa&#125;</span><br><span class="line">        <span class="keyword">\from</span>&#123;ctexpunct.spa&#125;        &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>\generate</code>
命令中的<code>\file&#123;⟨filename⟩&#125;&#123;\from&#123;⟨sourcefilename⟩&#125;&#123;⟨optionlist⟩&#125;&#125;</code>
用来指定宏包文件的生成方式。这里的含义是，从
<code>⟨sourcefilename⟩</code> 中抽取含有 <code>⟨optionlist⟩</code>
标记的部分，生成 <code>⟨filename⟩</code> 这个文件。</p>
<p>一个 <code>\generate</code> 里可以有多个 <code>\file</code>
命令。一个 <code>\file</code> 命令里可以有多个 <code>\from</code>
命令。一个 <code>\from</code> 命令里的 <code>⟨option⟩</code>，组成
<code>⟨optionlist⟩</code>。其中 <code>⟨option⟩</code>
需要用逗号隔开，<code>\file</code> 之间和 <code>\from</code>
之间则不需要。</p>
<hr />
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\obeyspaces</span></span><br><span class="line"><span class="keyword">\Msg</span>&#123;*************************************************************&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;*                                                           *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;* To finish the installation you have to move the following *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;* file into proper directories searched by TeX:             *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;*                                                           *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;* The recommended directory is TDS:tex/latex/ctex           *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;*                                                           *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;*     ctex.sty                                              *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;*     ctexcap.sty                                           *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;*     ctexsize.sty                                          *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;*     ctexart.cls                                           *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;*     ctexbook.cls                                          *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;*     ctexrep.cls                                           *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;*     ctexspa.def                                           *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;*                                                           *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;* To produce the documentation run the file ctex.dtx        *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;* through XeLaTeX.                                          *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;*                                                           *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;* Happy TeXing!                                             *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;*                                                           *&#125;</span><br><span class="line"><span class="keyword">\Msg</span>&#123;*************************************************************&#125;</span><br></pre></td></tr></table></figure>
<p>这里的内容会在处理完 <code>.ins</code>
文件之后显示在控制台，用来提示使用者将文件置入指定的目录。TeX
会忽略连续的空格，第一行的 <code>\obeyspaces</code> 则会让 TeX
输出这些空格。</p>
<hr />
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\endbatchfile</span></span><br></pre></td></tr></table></figure>
<p>显式地结束安装文件，此后的所有内容都会被忽略。</p>
<p>将上面的代码依次粘贴到一起，就是一个最简单的 <code>.ins</code>
文件了。</p>
<h2 id="dtx-文件"><code>.dtx</code> 文件</h2>
<p><code>.dtx</code> 文件比 <code>.ins</code>
文件复杂得多。<code>.ins</code> 文件在整个过程中会被读取一次，而
<code>.dtx</code>
文件却会被读取三次。下面是对此三个步骤的简略描述。如果暂时看不懂也没有关系，下一节我们将会化身人肉编译器，逐行分析示例。</p>
<p>处理 <code>.ins</code> 文件的时候，会载入 <code>.dtx</code>
文件。这时候 <code>.dtx</code> 文件中以 <code>%</code>
开头的行将被全部忽略，而以 <code>%</code> 开头的行则会用于记录
<code>⟨option⟩</code>。程序会根据 <code>.ins</code> 文件中
<code>\generate</code> 命令里 <code>\from</code> 的指示的
<code>⟨option⟩</code> 抽取 <code>.dtx</code> 文件中
<code>⟨option⟩</code> 相关内容。这个过程中，没有以 <code>%</code>
开头的行会根据 <code>⟨option⟩</code> 写入文件，而 <code>%</code>
开头的行则被抑制并保护起来。最终生成宏包文件。</p>
<p>第二遍处理 <code>.dtx</code> 文件的时候，在读入
<code>\documentclass&#123;ltxdoc&#125;</code> 之前，所有的内容与通常意义上的 LaTeX
代码完全一致。因此需要依靠 <code>\iffalse</code> 和
<code>% \iffalse</code> 来保护相关代码，这些代码通常是 README 文件和
LICENSE 文件。在读入 <code>\DocInput&#123;filename.dtx&#125;</code>
之后，<code>.dtx</code> 文件会被第三次载入处理。处理完成之后遇到
<code>\end&#123;document&#125;</code>，后续的内容被全部忽略。最终生成说明文档。</p>
<p>第三遍处理 <code>.dtx</code> 是被 <code>\DocInput</code>
载入的。此时，文档内（几乎）所有的 <code>%</code> 都被忽略。因为 LaTeX
只能有一个 <code>\documentclass</code> 以及一对
<code>\begin&#123;document&#125;</code> 和 <code>\end&#123;document&#125;</code>，所以
<code>\end&#123;document&#125;</code>
之前的所有内容都应当在这一次处理的时候被忽略。因此这部分内容应该被
<code>\iffalse</code> 和 <code>\fi</code> 保护起来。</p>
<p><code>.dtx</code> 文件由以下部分组成。</p>
<ol type="1">
<li>包含在 <code>% \iffalse</code> 和 <code>% \fi</code>
中间的版权信息</li>
<li><strong>包含在 <code>% \iffalse</code> 和 <code>% \fi</code>
中间的宏包基本信息</strong></li>
<li><strong>包含在 <code>%&lt;*driver&gt;</code> 和
<code>%&lt;/driver&gt;</code> 中间的 <code>ltxdoc</code>
文档类及相关代码，这部分代码也应包含在 <code>% \iffalse</code> 和
<code>% \fi</code> 中间</strong></li>
<li><strong>在 <code>\end&#123;document&#125;</code>
之后的说明文档，这部分文档应该隐藏在行首的 <code>%</code>
之后</strong></li>
<li><strong>在说明文档最后的代码说明，以及间杂在代码说明中间的代码，其中代码说明也应该隐藏在行首的
<code>%</code> 之后，而代码本身则不应该被 <code>%</code>
保护</strong></li>
</ol>
<p>示例 <code>.dtx</code> 文件的具体内容，可以参看下一节。</p>
<h2 id="人肉编译器">人肉编译器</h2>
<p>我们来看两个文件，分别是 <a
target="_blank" rel="noopener" href="https://liam.page/attachment/attachment/LaTeX-useful-tools/dtxtut/dtxtut.ins"><code>dtxtut.ins</code></a>
和 <a
target="_blank" rel="noopener" href="https://liam.page/attachment/attachment/LaTeX-useful-tools/dtxtut/dtxtut.dtx"><code>dtxtut.dtx</code></a>。你可以下载这两个文件，然后跟着我的思路一起分析。</p>
<p>首先我们要生成宏包文件，在命令行中运行</p>
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xelatex dtxtut.ins</span><br></pre></td></tr></table></figure>
<p>注意，这里的后缀名不可省略。</p>
<p>文件读入之后，直到 12 行都是注释，直接忽略。接着到了第 13 行，读入了
<code>docstrip.tex</code> 这个文件。随后进行了一些设置之后来到了第 26
行.</p>
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\generate</span>&#123;<span class="keyword">\file</span>&#123;<span class="keyword">\jobname</span>.sty&#125;&#123;<span class="keyword">\from</span>&#123;<span class="keyword">\jobname</span>.dtx&#125;&#123;package&#125;&#125;&#125;</span><br></pre></td></tr></table></figure>
<p>这里 <code>\jobname</code> 是当前文件的名字（不含后缀），即
<code>dtxtut</code>。所以这里会从 <code>dtxtut.dtx</code> 文件中，抽取
<code>package</code> 的部分，组成名为 <code>dtxtut.sty</code>
这个文件。</p>
<p>现在我们读取 <code>dtxtut.dtx</code>。前 18 行都是注释，忽略。19 --
21 行是 <code>package</code> 部分，输出。23 行开始了名为
<code>driver</code> 的部分，直到 32 行结束。接下来一直到 81
行都是注释，忽略。82行开始了名为 <code>package</code> 的部分，于是程序将
82 行开始到 100 行中没有注释掉的部分抽出来，输出。这样，输出的内容接在
<code>\preamble</code> 之后，保存为 <code>dtxtut.sty</code> 文件。</p>
<p>接下来我们生成宏包文档，在命令行中运行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xelatex dtxtut.dtx</span><br></pre></td></tr></table></figure>
<p>同样，这里的后缀名不可省略。</p>
<p>前 23 行都是注释，忽略。24 行载入了 <code>ltxdoc</code>
文档类，随后载入了刚刚生成的 <code>dtxtut.sty</code> 宏包。26 行的
<code>\EnableCrossrefs</code>
打开了代码索引的生成（如果你将来不需要，可以用
<code>\DisableCrossrefs</code> 打开）。27 行的
<code>\CodelineIndex</code> 则使得索引指向代码行号，而不是页码。28 行的
<code>\RecordChanges</code> 则会让文档类记录宏包的变化记录。</p>
<p>接下来，30 行的 <code>\DocInput&#123;\jobname.dtx&#125;</code>
重新载入了这个文件本身，但（几乎）所有的 <code>%</code> 符号都被忽略。第
1 行遇到 <code>\iffalse</code>，直到 16 行的
<code>\fi</code>，中间的内容都被忽略。17 行是空行。18 行又遇到
<code>\iffalse</code>，直到 33 行的
<code>\fi</code>，中间的内容都被忽略。注意，这里正好跳过了
<code>driver</code> 部分。</p>
<p>接下来的 <code>\CheckSum</code> 和 <code>\CharacterTable</code>
是为了检测 <code>.dtx</code>
文件完整性的两个工具。众所周知，<code>.dtx</code>
文件包含了一个宏包的几乎所有信息，如果文件在网络传输的过程中出错，则宏包安装必然失败。因此，检测文件的完整性就变得很有必要。</p>
<p><code>\CheckSum</code> 采用了一个很简单的方案来检验完整性。它将从
<code>\StopEventually</code> 开始到 <code>\Finale</code> 结尾的，在
<code>macrocode</code> 环境里的反斜杠 <code>\</code>
计数，将计数的值作为校验和。在生成文档的过程中，程序将会计算这个值，并于
<code>\CheckSum&#123;&#125;</code>
中的值进行比对。若二者不一致，则说明传输过程中可能出现错误。</p>
<p><code>\CharacterTable</code>
更为直接一点。程序将检查代码中出现的符号均包含在
<code>\CharacterTable</code>
之中。若不然，则认为传输过程中可能出错。</p>
<p>接下来的内容，直到第 76 行都很好理解。77 行出现了
<code>\StopEventually</code> 命令，并在参数中启动了
<code>\PrintIndex</code> 命令。我们刚才说了 <code>\StopEventually</code>
会开启校验和的检查，而 <code>\PrintIndex</code>
则会在此处打印代码索引。</p>
<p><code>macrocode</code> 环境是一个特殊的环境，它有点类似于 LaTeX
原生的 <code>verbatim</code> 环境。它在大多数情况下的行为和
<code>verbatim</code> 环境相同，大体上是将代码输出到最终的文档当中。</p>
<p>这样持续运行到 103 行，遇到 <code>\Finale</code>
命令，校验和计算的终点。此时，程序将会计算出校验和，并与文档中给出的校验和进行比较。如果
<code>\CheckSum</code> 不存在，或者给出的值为
<code>0</code>，那么程序会给出正确的值，让你填入文档。如果
<code>\CheckSum</code>
存在，但值与程序计算的不符，那么程序会报错，并给出正确的值。改正后重新编译才能得到文档。如果
<code>\CheckSum</code> 存在，且校验和通过，那么程序会继续运行。</p>
<p>104 行是 <code>\endinput</code>，结束整个文件，本次对
<code>dtxtut.dtx</code> 的处理结束，回到上一次的断点。</p>
<p>30 行之后，31 行就是
<code>\end&#123;document&#125;</code>，文档处理结束，之后的内容全都被忽略。输出文档，退出。</p>
<h2 id="将-.dtx-和-.ins-合二为一">将 <code>.dtx</code> 和
<code>.ins</code> 合二为一</h2>
<p>细心的读者会发现，整个过程中，<code>.dtx</code>
文件承担了几乎所有的功能，而 <code>.ins</code>
文件只是一个「指路人」。这些读者可能会思考，是不是有办法将
<code>.ins</code> 文件并入 <code>.dtx</code> 文件呢？答案是肯定的。</p>
<p>对于这类合二为一的 <code>.dtx</code> 文件，使用 Plain TeX
格式编译，会启动 DocStrip 工具，得到宏包文件；使用 LaTeX
格式编译，则会生成文档。</p>
<p>这里给出一个来自<a
target="_blank" rel="noopener" href="http://www.zhihu.com/question/27693438">知乎提问</a>的<a
target="_blank" rel="noopener" href="https://liam.page/attachment/attachment/LaTeX-useful-tools/dtxtut/insdtxtut.dtx">示例</a>（略有修改），你可以在<a
target="_blank" rel="noopener" href="http://www.zhihu.com/question/27693438/answer/37669407">我的答案</a>里看到对此的具体分析。</p>
<h2 id="引用">引用</h2>
<ul>
<li><a
target="_blank" rel="noopener" href="https://liam0205.me/2015/01/23/literate-programming-in-latex/">在
LaTeX 中进行文学编程</a></li>
<li>在安装了<code>TexLive</code>后执行命令:<code>texdoc dtxtut</code>调出系统自带说明文档。</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/21/PDF%E7%BC%96%E8%BE%91%E8%BD%AF%E4%BB%B6PdfMixTool/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/21/PDF%E7%BC%96%E8%BE%91%E8%BD%AF%E4%BB%B6PdfMixTool/" class="post-title-link" itemprop="url">PDF编辑软件PdfMixTool</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-21 20:58:16" itemprop="dateCreated datePublished" datetime="2024-01-21T20:58:16+08:00">2024-01-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://www.scarpetta.eu/pdfmixtool/">PDF Mix
Tool</a>是Linux下的最佳 PDF 编辑软件之一，也是PDF
Arranger的替代品。它是一个用于操作 pdf 文件的简洁的 GUI
工具，可以修改文件（旋转、拆分、从文件中提取），但是不能编辑PDF文件的内容。虽然这个应用程序只提供了一个简洁的工具集，没有附带很多工具，但是，也足以应付日常的使用了。</p>
<h2 id="安装">安装</h2>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S pdfmixtool</span><br></pre></td></tr></table></figure>
<h2 id="软件功能">软件功能</h2>
<ol type="1">
<li><p>在新发布的版本中有一个左侧边栏<br />
在侧边栏中包括你可能需要执行的所有操作的图标。虽然这不是一个重大变化，但是，这有助于增强用户的使用体验。
<img src="/Picture/mixpdf0.png" title="侧边栏"
alt="PdfMixTool侧边栏" /></p></li>
<li><p>PDF元数据编辑<br />
现在可以修改文档的标题、作者、主题、关键字、创建者、制作者以及创建和修改日期。因此，你可以轻松编辑文档的元数据。
<img src="/Picture/mixpdf1.png" title="元数据编辑"
alt="PdfMixTool元数据编辑" /></p></li>
<li><p>支持Qt6.0<br />
PDF Mix Tool 是用 C++
编写的，它依赖于qpdf和Qt库来实现相关功能。</p></li>
<li><p>其他改进</p>
<ul>
<li>PDF Mix Tool 现在在页面组合中添加了从右到左的支持。</li>
<li>在所有操作中都尽可能保留链接、注释和轮廓。</li>
<li>修复了一些BUG。</li>
</ul></li>
<li><p>GitLab源码<br />
<a
target="_blank" rel="noopener" href="https://gitlab.com/scarpetta/pdfmixtool">https://gitlab.com/scarpetta/pdfmixtool</a></p></li>
<li><p>参考文章：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/384065685">PDF
Mix Tool | 轻量级PDF编辑软件</a></p></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/19/gitignore%E6%96%87%E4%BB%B6%E7%9A%84%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/19/gitignore%E6%96%87%E4%BB%B6%E7%9A%84%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">gitignore文件的配置使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-19 17:45:25" itemprop="dateCreated datePublished" datetime="2024-01-19T17:45:25+08:00">2024-01-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在使用Git的过程中，有的文件比如日志，临时文件，编译的中间文件等不要提交到代码仓库，这时就要设置相应的忽略规则，来忽略这些文件的提交。简单来说一个场景：在你使用git
add
.的时候，遇到了把你不想提交的文件也添加到了缓存中去的情况，比如项目的本地配置信息，如果你上传到Git中去其他人pull下来的时候就会和他本地的配置有冲突，所以这样的个性化配置文件我们一般不把它推送到git服务器中，但是又为了偷懒每次添加缓存的时候都想用git
add
.而不是手动一个一个文件添加，该怎么办呢？很简单，git为我们提供了一个.gitignore文件，只要在这个文件中声明哪些文件你不希望添加到git中去，这样当你使用git
add .的时候这些文件就会被自动忽略掉。</p>
<h2 id="git忽略文件的原则">Git忽略文件的原则</h2>
<ul>
<li>忽略操作系统自动生成的文件，比如缩略图等；</li>
<li>忽略编译生成的中间文件、可执行文件等，也就是如果一个文件是通过另一个文件自动生成的，那自动生成的文件就没必要放进版本库，比如产生的.log日志文件；</li>
<li>忽略你自己的带有敏感信息的配置文件，比如存放口令的配置文件。</li>
</ul>
<h2 id="使用方法">使用方法</h2>
<p>在工作目录中新建一个文件<code>.gitignore</code>,
然后把要忽略的文件名填进去，Git就会自动忽略这些文件。不需要从头写.gitignore文件，GitHub已经为我们准备了各种配置文件，只需要组合一下就可以使用了。
<a
target="_blank" rel="noopener" href="https://github.com/github/gitignore">https://github.com/github/gitignore</a></p>
<h2 id="我的latex仓库配置">我的Latex仓库配置</h2>
<figure class="highlight sh"><figcaption><span>.gitignore</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*.aux</span><br><span class="line">*.<span class="built_in">log</span></span><br><span class="line">*.pdf</span><br><span class="line">*.synctex.gz</span><br><span class="line">*.out</span><br></pre></td></tr></table></figure>
<h2 id="参考文章">参考文章</h2>
<p><a
target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/52885189">[Git].gitignore文件的配置使用</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/19/vim-latex%E6%8F%92%E4%BB%B6%E5%BC%80%E5%90%AFAlt%E5%BF%AB%E6%8D%B7%E9%94%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/19/vim-latex%E6%8F%92%E4%BB%B6%E5%BC%80%E5%90%AFAlt%E5%BF%AB%E6%8D%B7%E9%94%AE/" class="post-title-link" itemprop="url">vim-latex插件开启Alt快捷键</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-19 01:03:44" itemprop="dateCreated datePublished" datetime="2024-01-19T01:03:44+08:00">2024-01-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在决定全面使用<code>vim-latex</code>来编写<code>latex</code>文件后，发现<code>Alt</code>键一直没有启用。于是在<code>nvim</code>下查询帮助<code>:help latex-suite.txt</code>
, 然后找到<code>Alt</code>相关，即</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Latex-Suite utilizes a set of macros originally created by Carl Mueller in</span><br><span class="line">auctex.vim to make inserting all the \left ... \right stuff very easy and to</span><br><span class="line">also make some use of the heavily under-utilized &lt;Alt&gt; key.</span><br><span class="line"></span><br><span class="line">NOTE: By default, the mappings involving the &lt;Alt&gt; key are turned off for</span><br><span class="line">      compatibility with inserting non-ASCII characters. It can be enabled by</span><br><span class="line">      setting   </span><br><span class="line">          let g:Tex_AdvancedMath = 1</span><br><span class="line">      in your $VIM/ftplugin/tex.vim.</span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">NOTE: By default, typing Alt-&lt;key&gt; in Vim takes focus to the menu bar if a menu</span><br><span class="line">      with the hotkey &lt;key&gt; exists. If in your case, there are conflicts due to</span><br><span class="line">      this behavior, you will need to set   </span><br><span class="line">          set winaltkeys=no</span><br><span class="line">      in your $VIM/ftplugin/tex.vim in order to use these maps.</span><br></pre></td></tr></table></figure>
<p>由于我是在<code>neovim</code>下使用的<code>vim-latex</code>,
于是找到路径为：<code>~/.local/share/nvim/lazy/vim-latex/ftplugin/</code>
但是发现没有文件<code>tex.vim</code>,
于是<label style="color:red">需要新建一个文件tex.vim</label>, 即</p>
<figure class="highlight vim"><figcaption><span>~/.local/share/nvim/lazy/vim-latex/ftplugin/tex.vim</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">g:Tex_AdvancedMath</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">set</span> winaltkeys=<span class="keyword">no</span></span><br></pre></td></tr></table></figure>
<p>经过上述设置后<code>Alt</code>键终于被启用了，我目前使用的主要是它智能插入<code>item</code>的功能。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/18/%E6%B8%85%E7%A9%BAGit%E4%BB%93%E5%BA%93%E7%9A%84Commit%E6%8F%90%E4%BA%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/18/%E6%B8%85%E7%A9%BAGit%E4%BB%93%E5%BA%93%E7%9A%84Commit%E6%8F%90%E4%BA%A4/" class="post-title-link" itemprop="url">清空Git仓库的Commit提交</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-18 09:42:23" itemprop="dateCreated datePublished" datetime="2024-01-18T09:42:23+08:00">2024-01-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>git是当前最常见的版本控制工具，但出现以下情况时，往往需要清空commits历史记录：</p>
<ul>
<li>commits记录占用空间过大甚至远远超过版本控制文件本身大小，进行云端代码管理时会受制于空间限制，无法继续更新</li>
<li>历史记录中存在敏感信息，需要清理</li>
</ul>
<div class="note info"><p>清理commits历史记录的核心思想是，直接删除本地的.git目录，重新建立git仓库并与远程仓库建立链接，采用强制提交的方式覆盖远程仓库的commits记录。</p>
</div>
<p>下面是一段示例,参数说明：</p>
<ul>
<li>$REPO_DIR 表示需要处理的Git仓库本地目录</li>
<li>git@github.com:xxxx/$REPO_DIR.git 表示远程仓库地址</li>
</ul>
<h3 id="进入本地仓库删除.git目录">进入本地仓库，删除.git目录</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> <span class="variable">$REPO_DIR</span></span><br><span class="line"><span class="built_in">rm</span> -rf .git</span><br></pre></td></tr></table></figure>
<h3 id="重新初始化">重新初始化</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git branch -m main</span><br></pre></td></tr></table></figure>
<div class="note info"><p>由于<code>Gitlab</code>仓库的默认分支名为<code>main</code>，而仓库初始化默认为<code>master</code>,
所以需要重命名为<code>main</code>.</p>
</div>
<h3 id="添加commit">添加commit</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;restart git commit&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="添加远程仓库链接">添加远程仓库链接</h3>
<p>设置远程仓库代号为<code>origin</code>, 则</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add orign git@github.com:xxxx/<span class="variable">$REPO_DIR</span>.git</span><br></pre></td></tr></table></figure>
<p>注意，此时可用<code>git remote -v</code>检查远程仓库的设置。</p>
<h3
id="强制提交到master分支覆盖远程仓库的commits历史提交记录">强制提交到master分支，覆盖远程仓库的commits历史提交记录</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git push -f origin master</span><br><span class="line">or  </span><br><span class="line">git push --force origin master </span><br></pre></td></tr></table></figure>
<h3 id="追踪上游分支">追踪上游分支</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --set-upstream origin main</span><br></pre></td></tr></table></figure>
<div class="note info"><p>如果不设置上游分支，再次提交时的commits不能确定跟踪变化，所以不能正常提交博客文章，于是这是一个必须的操作。</p>
</div>
<h3 id="参考文章">参考文章</h3>
<p><a
target="_blank" rel="noopener" href="https://www.cnblogs.com/magic-wei/p/9919277.html">清空Github仓库的commits历史记录</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/16/vim-latex%E4%B8%8Evimtex%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/16/vim-latex%E4%B8%8Evimtex%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9/" class="post-title-link" itemprop="url">vim-latex与vimtex如何选择</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-16 19:21:44" itemprop="dateCreated datePublished" datetime="2024-01-16T19:21:44+08:00">2024-01-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>作为一个理科生，终生都离不开数学公式。而LaTeX绝对是处理数学公式的王者，在编辑LaTeX中的众多工具中，使用vim或neovim配合编辑LaTeX的插件又是王者中的王者。在众多的插件中，<code>vim-latex</code>和<code>vimtex</code>是网络上提到最多的，也是使用者最多的插件，但是这两者该如何选择呢？经过本人的实践，最终选择了<code>vim-latex</code>.</p>
<h1 id="选择依据分析">选择依据分析</h1>
<p>众多网络文章都提到了插件<code>vimtex</code>,
按其官方介绍：<code>VimTeX is a modern Vim and Neovim filetype and syntax plugin for LaTeX files.</code>
,
或许就是这个<code>modern</code>让许多人选择了它。诚然<code>vimtex</code>是一个优秀的插件，我们来看一下它提供的功能（引用其README.md）：</p>
<details>
<summary>
<label style="color:blue">vimtex提供的功能</label>
</summary>
<ul>
<li>Document compilation with <a
target="_blank" rel="noopener" href="https://www.cantab.net/users/johncollins/latexmk/index.html">latexmk</a>,
<a target="_blank" rel="noopener" href="https://github.com/aclements/latexrun">latexrun</a>, <a
target="_blank" rel="noopener" href="https://tectonic-typesetting.github.io">tectonic</a>, or <a
target="_blank" rel="noopener" href="https://github.com/cereda/arara">arara</a></li>
<li>LaTeX log parsing for quickfix entries using
<ul>
<li>internal method</li>
<li><a target="_blank" rel="noopener" href="https://github.com/stefanhepp/pplatex">pplatex</a></li>
</ul></li>
<li>Compilation of selected part of document</li>
<li>Support for several PDF viewers with forward search
<ul>
<li><a target="_blank" rel="noopener" href="http://www.mupdf.com/">MuPDF</a></li>
<li><a target="_blank" rel="noopener" href="https://okular.kde.org/">Okular</a></li>
<li><a target="_blank" rel="noopener" href="https://launchpad.net/qpdfview">qpdfview</a></li>
<li><a target="_blank" rel="noopener" href="http://skim-app.sourceforge.net/">Skim</a></li>
<li><a
target="_blank" rel="noopener" href="http://www.sumatrapdfreader.org/free-pdf-reader.html">SumatraPDF</a></li>
<li><a target="_blank" rel="noopener" href="https://pages.uoregon.edu/koch/texshop/">TeXShop</a></li>
<li><a target="_blank" rel="noopener" href="https://pwmt.org/projects/zathura/">Zathura</a></li>
<li>Other viewers are supported through a general interface</li>
</ul></li>
<li>Completion of
<ul>
<li>citations</li>
<li>labels</li>
<li>commands</li>
<li>file names for figures, input/include, includepdf,
includestandalone</li>
<li>glossary entries</li>
<li>package and documentclass names based on available <code>.sty</code>
and <code>.cls</code> files</li>
</ul></li>
<li>Document navigation through
<ul>
<li>table of contents</li>
<li>table of labels</li>
<li>proper settings for <code>'include'</code>,
<code>'includexpr'</code>, <code>'suffixesadd'</code> and
<code>'define'</code>, which among other things
<ul>
<li>allow <code>:h include-search</code> and
<code>:h definition-search</code></li>
<li>give enhanced <code>gf</code> command</li>
</ul></li>
</ul></li>
<li>Easy access to (online) documentation of packages</li>
<li>Word count (through <code>texcount</code>)</li>
<li>Motions (<a href="VISUALS.md#motion-commands">link to GIF
demonstrations</a>)
<ul>
<li>Move between section boundaries with <code>[[</code>,
<code>[]</code>, <code>][</code>, and <code>]]</code></li>
<li>Move between environment boundaries with <code>[m</code>,
<code>[M</code>, <code>]m</code>, and <code>]M</code></li>
<li>Move between math environment boundaries with <code>[n</code>,
<code>[N</code>, <code>]n</code>, and <code>]N</code></li>
<li>Move between frame environment boundaries with <code>[r</code>,
<code>[R</code>, <code>]r</code>, and <code>]R</code></li>
<li>Move between comment boundaries with <code>[*</code> and
<code>]*</code></li>
<li>Move between matching delimiters with <code>%</code></li>
</ul></li>
<li>Text objects (<a href="VISUALS.md#text-objects">link to GIF
demonstrations</a>)
<ul>
<li><code>ic ac</code> Commands</li>
<li><code>id ad</code> Delimiters</li>
<li><code>ie ae</code> LaTeX environments</li>
<li><code>i$ a$</code> Math environments</li>
<li><code>iP aP</code> Sections</li>
<li><code>im am</code> Items</li>
</ul></li>
<li>Other mappings (<a
href="VISUALS.md#deleting-surrounding-latex-content">link to GIF
demonstrations</a>)
<ul>
<li>Delete the surrounding command, environment or delimiter with
<code>dsc</code>/<code>dse</code>/<code>ds$</code>/<code>dsd</code></li>
<li>Change the surrounding command, environment or delimiter with
<code>csc</code>/<code>cse</code>/<code>cs$</code>/<code>csd</code></li>
<li>Toggle starred command or environment with
<code>tsc</code>/<code>tse</code></li>
<li>Toggle inline and displaymath with <code>ts$</code></li>
<li>Toggle between e.g. <code>()</code> and <code>\left(\right)</code>
with <code>tsd</code></li>
<li>Toggle (inline) fractions with <code>tsf</code></li>
<li>Close the current environment/delimiter in insert mode with
<code>]]</code></li>
<li>Add <code>\left ... \right)</code> modifiers to surrounding
delimiters with <code>&lt;F8&gt;</code></li>
<li>Insert new command with <code>&lt;F7&gt;</code></li>
<li>Convenient insert mode mappings for faster typing of e.g. maths</li>
<li>Context menu on citations (e.g. <code>\cite&#123;...&#125;</code>) mapped to
<code>&lt;cr&gt;</code></li>
</ul></li>
<li>Improved folding (<code>:h 'foldexpr'</code>)</li>
<li>Improved indentation (<code>:h 'indentexpr'</code>)</li>
<li>Syntax highlighting
<ul>
<li>A consistent core syntax specification</li>
<li>General syntax highlighting for several popular LaTeX packages</li>
<li>Nested syntax highlighting for several popular LaTeX packages</li>
<li>Highlight matching delimiters</li>
</ul></li>
<li>Support for multi-file project packages
<ul>
<li><a
target="_blank" rel="noopener" href="http://ctan.uib.no/macros/latex/contrib/import/import.pdf">import</a></li>
<li><a
target="_blank" rel="noopener" href="http://ctan.uib.no/macros/latex/contrib/subfiles/subfiles.pdf">subfiles</a></li>
</ul></li>
</ul>
</details>
<p>而插件<code>vim-latex</code>（又称<code>latex-suite</code>）,
按<code>vimtex</code>的<code>README.md</code></p>
<details>
<summary>
<label style="color:blue">vim-latex vs vimtex</label>
</summary>
<p>The main difference between VimTeX and LaTeX-Suite (aka vim-latex) is
probably that VimTeX does not try to implement a full fledged IDE for
LaTeX inside Vim. E.g.:</p>
<ul>
<li>VimTeX does not provide a full snippet feature, because this is
better handled by UltiSnips or neosnippet or similar snippet
engines.</li>
<li>VimTeX builds upon Vim principles: It provides text objects for
environments, inline math, it provides motions for sections and
paragraphs</li>
<li>VimTeX uses latexmk, latexrun, tectonic or arara for compilation
with a callback feature to get instant feedback on compilation
errors</li>
<li>VimTeX is very modular: if you don't like a feature, you can turn it
off.</li>
</ul>
</details>
<p>这两个插件有相同的部分，比如说输入希腊字母，<code>vim-latex</code>在任何模式下都可以输出对应的希腊字母命令，而<code>vimtex</code>在数学模式中才输出希腊字母，相较而言<code>vimtex</code>更加保险一些，但是对于一个熟悉<code>LaTeX</code>的人来讲，这个事情都是知道的，影响不大，只能说<code>vimtex</code>更加细致一点。而<code>vim-latex</code>提供了完整的<code>LaTeX</code>的输入语法，同时提供了<code>&lt;++&gt;</code>标记方法，可以使用<code>Ctrl+j</code>快速的移动光标，这点是<code>vimtex</code>所无法比拟的。按<code>vimtex</code>的说法，<code>vimtex</code>把补全的任务交给了其他插件，但是就专业性和速度上讲，<code>vim-latex</code>绝对领先。</p>
<p><code>vimtex</code>提供的较好的特性是光标在各环境中移动，这点是<code>vim-latex</code>不具备的功能。但是<code>vim</code>或<code>neovim</code>的特性，使用搜索功能或数字键加<code>hjkl</code>方式移动光标，好像<code>vimtex</code>也没有占据足够的优势。</p>
<p><code>vimtex</code>方便的更改环境功能，例如<code>cse</code>可以方便的更换为新的环境，但是<code>vim-latex</code>也可以使用<code>&lt;S-F5&gt;</code>快捷键快速更换环境，再则考虑到编写环境前作者肯定是规划好的环境，所以更改环境是一个低概率事件。此处注意，<code>Neovim</code>中同时按下组键<code>&lt;S+F5&gt;</code>(也就是<code>Shift</code>+<code>F5</code>)返回的是<code>F17</code>,并不能获得<code>vim-latex</code>所需的组合键<code>&lt;S-F5&gt;</code>!!
具体请参考<a target="_blank" rel="noopener" href="https://rayx.me/2020/06/10/vim-keycode/">keycode in
terminal for vim&amp;neovim</a>, 于是做出修改：</p>
<figure class="highlight vim"><figcaption><span>~/.config/nvim/init.vim</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;F17&gt;</span> <span class="symbol">&lt;S-F5&gt;</span></span><br><span class="line"><span class="keyword">imap</span> <span class="symbol">&lt;F17&gt;</span> <span class="symbol">&lt;S-F5&gt;</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;F19&gt;</span> <span class="symbol">&lt;S-F7&gt;</span></span><br><span class="line"><span class="keyword">imap</span> <span class="symbol">&lt;F19&gt;</span> <span class="symbol">&lt;S-F7&gt;</span></span><br></pre></td></tr></table></figure>
<p>修改完毕，在<code>neovim</code>中可以正常使用环境或命令的替换。很多人选择<code>vimtex</code>的一个重要原因是其可以配置增量编译，实现时时查看结果，但是<code>LaTeX</code>的精神本身就是<label style="color:red">所想即所得</label>！对于一个熟悉<code>LaTeX</code>的人来讲随时关注结果并不是必须的，除非公式比较复杂，而这只需要编译一下看看结果即可。时时编译的代价就是电脑消耗更多的资源，对于我的笔记本来说，风扇一直转发出的噪音会干扰我的写作思维。对于一个初入<code>LaTeX</code>的人，这或许是一个较好的选择，但是对于一个足够熟悉<code>LaTeX</code>的人来讲，<label style="color:red">所见即所得</label>不是必须的，也是符合<code>Linux</code>思维。</p>
<p>综上所述，<code>vim-latex</code>和<code>vimtex</code>都是优秀的<code>LaTeX</code>插件，但是前者提供了完备的功能，后者的优势功能是一些低频率使用的功能，综合平衡的话还是选择<code>vim-latex</code>更好一些。由于二者并不冲突，所以可以同时配置二个插件，获取各自的功能这是一个比较折中的方案，但是不太符合<code>Linux</code>纯净化的哲学思想，所以我还是选择了前者，在没有足够的理由前应该不会同时安装二者。</p>
<p>作为可用的配置，下面将二者的配置文件列出，方便大家参考：</p>
<div class="tabs" id="neovim配置latex"><ul class="nav-tabs"><li class="tab active"><a href="#neovim配置latex-1">vim-latex</a></li><li class="tab"><a href="#neovim配置latex-2">vimtex.lua</a></li></ul><div class="tab-content"><div class="tab-pane active" id="neovim配置latex-1"><figure class="highlight lua"><figcaption><span>~/.config/nvim/lua/plg/vim-latex.lua</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">#! /usr/bin/env lua</span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- vim-latex.lua</span></span><br><span class="line"><span class="comment">-- Copyright (C) 2023 feng &lt;feng@arch&gt;</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- Distributed under terms of the MIT license.</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- vim-latex默认的局势键</span></span><br><span class="line"><span class="comment">--  F1 帮助菜单</span></span><br><span class="line"><span class="comment">--  F5 插入环境选择对话框,若在导言区将弹出插入宏包对话框</span></span><br><span class="line"><span class="comment">--  F7 插入引用选择对话框</span></span><br><span class="line"><span class="comment">--绑定快捷键</span></span><br><span class="line"><span class="comment">-- -- 测试功能</span></span><br><span class="line"><span class="comment">-- inoremap &lt;buffer&gt;&lt;silent&gt; &lt;C-S-F5&gt; &lt;C-O&gt;:call &lt;SID&gt;ChangeEnvironment(input(&#x27;Environment? &#x27;))&lt;CR&gt;</span></span><br><span class="line"><span class="comment">-- noremap &lt;buffer&gt;&lt;silent&gt; &lt;C-S-F5&gt; :call &lt;SID&gt;ChangeEnvironment(input(&#x27;Environment? &#x27;))&lt;CR&gt;</span></span><br><span class="line">vim.api.nvim_create_autocmd(<span class="string">&quot;FileType&quot;</span>,&#123;</span><br><span class="line">    pattern = <span class="string">&quot;tex&quot;</span>,</span><br><span class="line">    callback = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">        <span class="comment">-- 配置F4打开模板</span></span><br><span class="line">        vim.api.nvim_set_keymap(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;F4&gt;&quot;</span>, <span class="string">&quot;:TTemplate&lt;CR&gt;&quot;</span>, &#123;noremap = <span class="literal">true</span>, silent = <span class="literal">true</span>&#125;)</span><br><span class="line">        <span class="comment">-- 配置pdflatex编译，原vim-latex中使用\ll 默认 xelatex 编译</span></span><br><span class="line">        vim.api.nvim_set_keymap(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;F6&gt;&quot;</span>, <span class="string">[[&lt;cmd&gt;!pdflatex % &lt;CR&gt;]]</span>, &#123;noremap = <span class="literal">true</span>, silent = <span class="literal">true</span>&#125;)</span><br><span class="line">        <span class="comment">-- 配置F8编译 aux辅助文件，直接根据数据库生成文献引用, 注意使用%:t:r 截取文件名</span></span><br><span class="line">        vim.api.nvim_set_keymap(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;F8&gt;&quot;</span>, <span class="string">[[&lt;cmd&gt;!bibtex %:t:r.aux &lt;CR&gt;]]</span>, &#123;noremap = <span class="literal">true</span>, silent = <span class="literal">true</span>&#125;)</span><br><span class="line">        <span class="comment">-- 配置F10编译多合一文件时，以当前目录名为主文件，以节省时间</span></span><br><span class="line">        vim.api.nvim_set_keymap(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;F10&gt;&quot;</span>, <span class="string">[[&lt;cmd&gt;!xelatex $(echo $PWD|awk -F&quot;/&quot; &#x27;&#123;print $NF&#125;&#x27;).tex &lt;CR&gt;]]</span>, &#123;noremap = <span class="literal">true</span>, silent = <span class="literal">true</span>&#125;)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">-- 开启treesitter提供的语法高亮</span></span><br><span class="line">vim.api.nvim_create_autocmd( <span class="string">&#x27;FileType&#x27;</span>, &#123; pattern = <span class="string">&#x27;tex&#x27;</span>,</span><br><span class="line">    callback = <span class="function"><span class="keyword">function</span><span class="params">(args)</span></span></span><br><span class="line">        vim.treesitter.start(args.buf, <span class="string">&#x27;latex&#x27;</span>)</span><br><span class="line">        vim.bo[args.buf].syntax = <span class="string">&#x27;on&#x27;</span>  <span class="comment">-- only if additional legacy syntax is needed</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">-- set for vim-latex/latex-suite</span></span><br><span class="line">vim.g[<span class="string">&#x27;Tex_Menus&#x27;</span>] = <span class="number">0</span></span><br><span class="line">vim.g[<span class="string">&#x27;Tex_Flavor&#x27;</span>] = <span class="string">&#x27;latex&#x27;</span></span><br><span class="line">vim.g[<span class="string">&#x27;Tex_IgnoreLevel&#x27;</span>] = <span class="number">8</span></span><br><span class="line">vim.g[<span class="string">&#x27;Tex_GotoError&#x27;</span>] = <span class="number">0</span></span><br><span class="line">vim.g[<span class="string">&#x27;Tex_DefaultTargetFormat&#x27;</span>] = <span class="string">&#x27;pdf&#x27;</span></span><br><span class="line"><span class="comment">-- 配置默认编译引擎为 xelatex</span></span><br><span class="line">vim.g[<span class="string">&#x27;Tex_CompileRule_pdf&#x27;</span>] = <span class="string">&#x27;xelatex -synctex=1 -interaction=nonstopmode -file-line-error-style $*&#x27;</span></span><br><span class="line"><span class="comment">-- 获取桌面环境，并根据桌面环境选择默认的PDF阅读器</span></span><br><span class="line"><span class="keyword">if</span>  <span class="built_in">os</span>.<span class="built_in">getenv</span>(<span class="string">&quot;DESKTOP_SESSION&quot;</span>) == <span class="string">&quot;plasma&quot;</span>  <span class="keyword">then</span></span><br><span class="line">    vim.g[<span class="string">&#x27;Tex_ViewRule_pdf&#x27;</span>] = <span class="string">&#x27;okular&#x27;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    vim.g[<span class="string">&#x27;Tex_ViewRule_pdf&#x27;</span>] = <span class="string">&#x27;evince&#x27;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">-- 统一设置为轻量级的mupdf阅读器</span></span><br><span class="line"><span class="comment">-- vim.g[&#x27;Tex_ViewRule_pdf&#x27;] = &#x27;mupdf&#x27;</span></span><br><span class="line"><span class="comment">--控制统计过程中的警告信息</span></span><br><span class="line">vim.g[<span class="string">&#x27;Tex_IgnoredWarnings&#x27;</span>] = &#123;&#125;</span><br><span class="line"><span class="comment">--</span></span><br><span class="line">vim.g[<span class="string">&#x27;Tex_CustomTemplateDirectory&#x27;</span>] = <span class="string">&quot;~/.latex-templates/&quot;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="neovim配置latex-2"><figure class="highlight lua"><figcaption><span>~/.config/nvim/lua/plg/vimtex.lua</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#! /usr/bin/env lua</span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- vimtex.lua</span></span><br><span class="line"><span class="comment">-- Copyright (C) 2023 feng &lt;feng@archlinux&gt;</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line">vim.g[<span class="string">&#x27;tex_flavor&#x27;</span>] = <span class="string">&#x27;latex&#x27;</span></span><br><span class="line">vim.g[<span class="string">&#x27;vimtex_view_method&#x27;</span>] = <span class="string">&#x27;zathura&#x27;</span></span><br><span class="line">vim.g[<span class="string">&#x27;vimtex_view_general_viewer&#x27;</span>] = <span class="string">&#x27;zathura&#x27;</span></span><br><span class="line">vim.g[<span class="string">&#x27;vimtex_view_general_options&#x27;</span>] = <span class="string">[[--unique file:@pdf\#src:@line@tex]]</span></span><br><span class="line">vim.g[<span class="string">&#x27;vimtex_compiler_latexmk_engines&#x27;</span>] = &#123;</span><br><span class="line">    _ = <span class="string">&#x27;-xelatex&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">vim.g[<span class="string">&#x27;vimtex_compiler_progname&#x27;</span>] = <span class="string">&#x27;nvr&#x27;</span></span><br><span class="line"><span class="comment">-- vim.g[&#x27;vimtex_view_general_options_latexmk&#x27;] = &#x27;--unique&#x27;</span></span><br><span class="line"><span class="comment">-- vim.g[&#x27;vimtex_view_general_options_latexmk&#x27;] = &#x27;--reuse-instance&#x27;</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="comment">-- A few examples of disabling default VimTeX features.</span></span><br><span class="line">vim.g[<span class="string">&#x27;tex_comment_nospell&#x27;</span>] = <span class="number">1</span></span><br><span class="line">vim.g[<span class="string">&#x27;vimtex_quickfix_mode&#x27;</span>] = <span class="number">1</span></span><br><span class="line">vim.g[<span class="string">&#x27;vimtex_indent_enabled&#x27;</span>]   = <span class="number">1</span>      <span class="comment">-- turn off VimTeX indentation</span></span><br><span class="line">vim.g[<span class="string">&#x27;vimtex_imaps_enabled&#x27;</span>]    = <span class="number">1</span>      <span class="comment">-- disable insert mode mappings (e.g. if you use UltiSnips)</span></span><br><span class="line">vim.g[<span class="string">&#x27;vimtex_complete_enabled&#x27;</span>] = <span class="number">1</span>      <span class="comment">-- turn off completion</span></span><br><span class="line">vim.g[<span class="string">&#x27;vimtex_syntax_enabled&#x27;</span>]   = <span class="number">1</span>      <span class="comment">-- disable syntax conceal</span></span><br><span class="line">vim.g[<span class="string">&#x27;vimtex_syntax_conceal_disable&#x27;</span>] = <span class="number">1</span> <span class="comment">--avoid the startup warning</span></span><br><span class="line"><span class="comment">-- 使一些符号以一种更加直观的方式显示出来</span></span><br><span class="line">vim.g[<span class="string">&#x27;tex_conceal&#x27;</span>] = <span class="string">&#x27;abdmg&#x27;</span></span><br><span class="line">vim.g[<span class="string">&#x27;conceallevel&#x27;</span>] = <span class="number">1</span></span><br><span class="line"><span class="comment">-- 更改maplocalleader避免与vim-latex的冲突</span></span><br><span class="line">vim.g[<span class="string">&#x27;maplocalleader&#x27;</span>] = <span class="string">&quot;,&quot;</span></span><br></pre></td></tr></table></figure></div></div></div>
<h1 id="参考文章">参考文章</h1>
<ol type="1">
<li><a target="_blank" rel="noopener" href="https://vimawesome.com/">VimAwesome</a></li>
<li><a
target="_blank" rel="noopener" href="https://vim-latex.sourceforge.net/">vim-latex.sourceforge</a></li>
<li><a
target="_blank" rel="noopener" href="https://mssun.me/blog/tips-vim-latex.html">用Vim高效地编辑LaTeX文档</a></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/16/vim%E6%8F%92%E4%BB%B6%E4%B9%8Bvim-align/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/16/vim%E6%8F%92%E4%BB%B6%E4%B9%8Bvim-align/" class="post-title-link" itemprop="url">vim插件之vim-align</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-16 10:31:52" itemprop="dateCreated datePublished" datetime="2024-01-16T10:31:52+08:00">2024-01-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>这是一款可以实现数学符号对齐的插件，测试后发现很实用，于是直接粘上其<code>README.md</code>，
如下</p>
<p>This is a mirror of <a
target="_blank" rel="noopener" href="http://www.vim.org/scripts/script.php?script_id=294">http://www.vim.org/scripts/script.php?script_id=294</a></p>
<p>Align and AlignMaps lets you align statements on their equal signs,
make comment boxes, align comments, align declarations, etc.</p>
<p>Note: this plugin is not a left&amp;right margin justification tool!
See vimscript#177 or vimscript#2324 for that. Note: if you have vim 7.1
or later, your vimball should unpack just fine without having to update
it.</p>
<p>There are two basic commands provided by this package:</p>
<pre><code>    AlignCtrl options sep1 sep2 sep3 ... 
    [range]Align sep1 sep2 sep3 ... </code></pre>
<p>The "sep#" are regular expressions which describe separators that
delineate fields; Align will line up the separators. The range may be
any Vim range, <em>including</em> visual-blocks. Align works on lines of
the form: (ws==whitespace, sep==separator, field==text)</p>
<pre><code>ws-field-ws-sep-ws-field-ws-sep-ws-field-... 
ws-field-ws-sep-ws-field-ws-sep-ws-field-... </code></pre>
<p>Note that white-space (ws) surrounding separators is ignored.</p>
<p>The Align package includes:</p>
<ul>
<li>Align : the basic alignment command</li>
<li>AlignCtrl : provides options for the next call to :Align</li>
<li>AlignMaps : many three or four key maps which support aligning C/C++
style declarations, ()?..:.., expressions, C/C++ comments, numbers, C
preprocessor definitions, tables based on tabs or spaces, and more.</li>
</ul>
<p>In addition, AutoAlign (vimscript#884) uses the Align function to
align =s as you type.</p>
<p>Align handles alignment on multiple separators, not just the first
one, and the separators may be the same across the line or different.
With AlignCtrl one may specify that separators are cyclic (re-used
sequentially) or equivalent (all separators are simultaneously
active).</p>
<p>There are several options to help with deciding what to do with
initial white space. By default Align re-uses the first line's initial
white space, but one may use AlignCtrl to retain or remove each line's
initial white space.</p>
<p>The &lt;Align.vim&gt; and &lt;AlignMaps.vim&gt; files are plugins and
require vim 6.1 or higher.</p>
<p>EXAMPLES:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">:5,10Align = </span><br><span class="line">    Align on &#x27;=&#x27; signs </span><br><span class="line"></span><br><span class="line">:&#x27;&lt;,&#x27;&gt;Align = + - \* / </span><br><span class="line">    Align on any of the five separator characters shown. </span><br><span class="line">    Note that visual block mode was used to fire off Align. </span><br><span class="line"></span><br><span class="line">:AlignCtrl =lp1P1I </span><br><span class="line">    which means: </span><br><span class="line">    = all separators are equivalent </span><br><span class="line">    l fields will be left-justified </span><br><span class="line">    p1 pad one space before each separator </span><br><span class="line">    P1 pad one space after each separator </span><br><span class="line">    I  preserve and apply the first line&#x27;s leading white space to all </span><br><span class="line">       Align&#x27;d lines </span><br><span class="line"></span><br><span class="line">:help align </span><br><span class="line">    Gives help for Align </span><br></pre></td></tr></table></figure>
<p>ALIGNMENT CONTROL</p>
<p>Alignment control allows for left or right justification or centering
of fields, cyclic (sequentially active) or equivalent (simultaneously
active) regular expressions to specify field separators, initial white
space control, optional visual-block use (ie. apply Alignment only
within a block), user-specified white-space padding about separators,
and multiple separators.</p>
<p>MANY ALIGNMENT MAPS</p>
<p>AlignMaps.vim provides a number of maps which make using this package
easy. They typically either apply to the range 'a,. (from mark a to
current line) or use the visual-selection (V, v, or ctrl-v
selected):</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">\t=  : align assignments (don&#x27;t count logic, like == or !=) </span><br><span class="line">\t,  : align on commas </span><br><span class="line">\t|  : align on vertical bars (|) </span><br><span class="line">\tsp : align on whitespace </span><br><span class="line">\tt  : align LaTeX tabular tables </span><br></pre></td></tr></table></figure>
<p>AlignMaps also provides some internally complex maps for aligning C
declarations, Ansi C function arguments, html tables, LaTeX tabulars,
and trailing comments:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">\acom : align comments </span><br><span class="line">\adec : align C declarations (one variable per line) </span><br><span class="line">\afnc : align ansi-style C function input arguments </span><br><span class="line">\Htd  : align html tables </span><br></pre></td></tr></table></figure>
<p>To see some examples of this, check out</p>
<pre><code>[http://mysite.verizon.net/astronaut/vim/align.html#Examples](http://mysite.verizon.net/astronaut/vim/align.html#Examples) </code></pre>
<p>(the proportional fonts used by most browsers in showing you this
page preclude showing the examples here). The help for Align and
AlignCtrl also contains many examples.</p>
<p>ALIGNMENT ON VISUAL BLOCKS AND g,v-LIKE CONTROL</p>
<p>Sometimes one wants to align only a subset of text in a range, based
on patterns or column extents. Align supports both types of
restrictions!</p>
<pre><code>Visual-block selection may be used to restrict Align to operate only 
within that visual block. 
 
AlignCtrl supports &quot;g&quot; and &quot;v&quot; patterns that restrict Align to 

operate on lines which match (or don&#39;t match, respectively) those 
patterns. </code></pre>
<p>NEW STUFF:</p>
<p>There's a number of new AlignCtrl options:</p>
<pre><code>- allows one to skip a separator (treat it as part of a field) 
+ repeat the last lrc justification (ex. lr+ == lrrrrrr... ) 
: treat the rest of the line as a field; acts as a modifier 
  to the last lrc. 
&lt; left-justify the separator 
&gt; right-justify the separator 
| center the separator </code></pre>
<p>These are, except for the ":", cyclic parameters. In other words,
&gt;&lt; is equivalent to &gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;... . Thus
separators can be of differing lengths (ex. -+ as a separator pattern
can match -, --, ---, etc and the separators will be left/right/center
justified as you wish).</p>
<p>To get automatic, as-you-type, aligning of = in the C, vimL, and
other languages, check out vimscript#884 for several ftplugins (which
use Align).</p>
<p>Alternative Aligners: Gergely Kontra's vimscript#176</p>
<p>Thank you for rating Align!</p>
<table>
<tbody>
<tr>
<td style="text-align: left;">DISCUSSION and COMMENTS:</td>
</tr>
</tbody>
</table>
<p>Please use email for bugs. Enjoy!</p>
<p>(alpha/beta version available at
http://mysite.verizon.net/astronaut/vim/index.html#ALIGN)</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/05/%E8%A7%A3%E5%86%B3CDNJS%E8%AE%BF%E9%97%AE%E5%A4%AA%E6%85%A2%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/05/%E8%A7%A3%E5%86%B3CDNJS%E8%AE%BF%E9%97%AE%E5%A4%AA%E6%85%A2%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">解决CDNJS访问太慢的问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-05 15:40:47" itemprop="dateCreated datePublished" datetime="2024-01-05T15:40:47+08:00">2024-01-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>CDNJS是一个JS资料库，可以直接在网页上应用它上面拥有的一些JS文件。为什么不直接引用自己下载下来的库而要引用上面的文件呢？因为引用上面的文件可以使用户浏览网站的速度更佳，可以提高用户体验。Next主题的CDNJS直接调用的<a
target="_blank" rel="noopener" href="https://cdnjs.cloudflare.com">https://cdnjs.cloudflare.com</a>,
按Next主题<a
target="_blank" rel="noopener" href="https://theme-next.js.org/docs/advanced-settings/vendors.html?highlight=cdnjs">官方说法</a></p>
<div class="note warning"><p>Particularly, if you are a Chinese blogger or most of your visits
come from China, please note that the CDNJS is blocked in some parts of
China, don't use it as your CDN provider.</p>
</div>
<p>Next主题默认检测网站根目录安装的插件，将其视为内部的插件，对于某些未检测到的插件视为第三方插件。知道这个特性后，我们首先要做的就是安装<code>@next-theme/plugins</code>,
这样适配<code>Next</code>主题的特定插件就会在托管的网站内部加载，这可以保证<code>Next</code>的各项功能正常工作。操作如下：
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">diary --ThemeUpdate</span><br><span class="line">npm install @next-theme/plugins</span><br></pre></td></tr></table></figure></p>
<p>先更新<code>Next</code>主题的目的是匹配最新的<code>@next-theme/plugins</code>,
于是可以保证主题内部插件工作良好。然而<code>Next</code>主题的一些部分还采用了图标，这些图标并不在<code>@next-theme/plugins</code>范围内，其中最重要的<code>local-search</code>插件也会受到影响，所以需要加载<code>CDN</code>网站到第三方插件。目前国内有很多
NPM 的
CDN，可以支持相关包文件的高速访问下载，其中库比较全的CDN推荐以下三个：</p>
<ul class="task-list">
<li><label><input type="checkbox" checked="" />Zstatic: <a
target="_blank" rel="noopener" href="https://s4.zstatic.net">https://s4.zstatic.net</a></label></li>
<li><label><input type="checkbox" checked="" />渺软: <a
target="_blank" rel="noopener" href="https://cdn.onmicrosoft.cn">https://cdn.onmicrosoft.cn</a></label></li>
<li><label><input type="checkbox" checked="" />南方科技大学: <a
target="_blank" rel="noopener" href="https://mirrors.sustech.edu.cn/cdnjs">https://mirrors.sustech.edu.cn/cdnjs</a></label></li>
<li><label><input type="checkbox" />饿了么1(unpkg): <a
target="_blank" rel="noopener" href="https://github.elemencdn.com">https://github.elemencdn.com</a></label></li>
<li><label><input type="checkbox" />饿了么2(unpkg): <a
target="_blank" rel="noopener" href="https://npm.elemencdn.com">https://npm.elemencdn.com</a></label></li>
<li><label><input type="checkbox" />知乎: <a
target="_blank" rel="noopener" href="https://unpkg.zhimg.com">https://unpkg.zhimg.com</a></label></li>
</ul>
<p>其中<code>Zstatic</code>用到了镜像回源，也就是说只要访问一次，文件就会被存储到国内的服务器上，再也不用担心缓存过期了，所以网络文章建议优先用这个,但是在本博客主题上测试效果并不好。如果您使用
<code>cdnjs.com</code> 只需要替换 <code>cdnjs.cloudflare.com</code> 为
<code>s4.zstatic.net</code> 即可，如 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure> 替换成
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://s4.zstatic.net/ajax/libs/jquery/3.2.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>如果您使用 unpkg.com 只需要替换 unpkg.com 为 s4.zstatic.net/npm
即可，如 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/react@16.7.0/umd/react.production.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure> 替换成 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://s4.zstatic.net/npm/react@16.7.0/umd/react.production.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>批量替换代码： <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find . -<span class="built_in">type</span> f -<span class="built_in">exec</span> sed -i <span class="string">&#x27;s#https://unpkg.com#https://s4.zstatic.net/npm#g&#x27;</span> &#123;&#125; +</span><br><span class="line">find . -<span class="built_in">type</span> f -<span class="built_in">exec</span> sed -i <span class="string">&#x27;s#https://cdnjs.cloudflare.com#https://s4.zstatic.net#</span></span><br></pre></td></tr></table></figure></p>
<div class="note info"><ul>
<li>Hexo
Next主题在V8.19.0版本后就支持自定义cdnjs了，所以配置了<code>s4.zstatic.net</code>,
测试访问速度可以。2024年01月22日发现本博客的<code>PDF</code>组件无法使用，于是判断是<code>s4.zstatic.net</code>同步的<code>js</code>不全导致，更换为<code>cdn.onmicrosoft.cn</code>
或<code>mirrors.sustech.edu.cn/cdnjs</code>后问题解决，尽管在网络上看到文章推荐使用前者，但是在博客中表现来看后二者更佳，并且南科大镜像更加快速一些，完美适配了我的<code>Next</code>主题。</li>
<li>2024年09月27日,
南方科技大学的<code>cdn</code>镜像访问出现问题，于是为保证网站正常访问不得不修复此问题。经过研究，安装<code>@next-theme/plugins</code>后，可以保证<code>PDF</code>等<code>Next</code>主题依赖的插件由站内加载，其他部分则由<code>cdn</code>镜像加载，于是多数的镜像均可以正常使用了，为确保访问的稳定重新切换为<code>s4.zstatic.net</code>,
经测试效果良好.</li>
</ul>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/01/05/%E6%B8%85%E7%A9%BAGit%E5%8E%86%E5%8F%B2%E6%8F%90%E4%BA%A4%E9%87%8D%E7%BD%AE%E4%B8%BA%E6%96%B0%E5%BA%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/01/05/%E6%B8%85%E7%A9%BAGit%E5%8E%86%E5%8F%B2%E6%8F%90%E4%BA%A4%E9%87%8D%E7%BD%AE%E4%B8%BA%E6%96%B0%E5%BA%93/" class="post-title-link" itemprop="url">清空Git历史提交重置为新库</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-01-05 00:08:25" itemprop="dateCreated datePublished" datetime="2024-01-05T00:08:25+08:00">2024-01-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在学会使用GitLab写博客之后，一直工作良好，但是今天发现仓库越来越大，编写博客时速度也越来越慢，原因在于每次commit后git都会形成一个快照，于是除了必备的Hexo部分外这个<code>.git</code>文件夹也是变的越来越大，这个才是导致仓库变大的主要原因，而作为写博客来讲，我是不需要使用commit切换回某个状态的，于是决定重置一下仓库。</p>
<ol type="1">
<li><p>创建新分支 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout --orphan latest</span><br></pre></td></tr></table></figure> <div class="note info"><p>使用<code>--orpha</code>选择，可创建1个无任何提交历史的清洁分支。新分支可以随意命名，但不要与以前的名冲突，只是网上乱七八糟的文章都相互抄袭，使用<code>master</code>而己，这是github的默认命名，而gitlab的默认名就是main.</p>
</div></p></li>
<li><p>添加所有文件 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add . </span><br><span class="line">or</span><br><span class="line">git add -A </span><br></pre></td></tr></table></figure></p></li>
<li><p>commit代码 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;重置仓库&quot;</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>删除原来的主分支(main) <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -D main</span><br></pre></td></tr></table></figure></p></li>
<li><p>将当前分支重命名为main <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -m main</span><br></pre></td></tr></table></figure></p></li>
<li><p>推送代码到远程仓库 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch --set-upstream-to=origin/main main</span><br><span class="line">git push -f origin main </span><br></pre></td></tr></table></figure> <div class="note info"><p>注意：默认gitlab开启了main分支保护，不允许强制push,
此时需要在远程仓库项目时暂时把项目保护关闭才能推送。关闭项目保护的方法：
<code>Settings</code>→<code>Repository</code>→<code>Protected Branches</code>
, 在强推成功后一定要重新添加分支受保护。</p>
</div></p></li>
<li><p>从远程拉取新代码（测试之用） <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure>
如果别人pull不下来，可以执行 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull -r</span><br></pre></td></tr></table></figure></p></li>
<li><p>确定清除历史记录的结果 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看提交日志</span></span><br><span class="line">git <span class="built_in">log</span> --pretty=oneline</span><br><span class="line"><span class="comment"># 查看分支信息</span></span><br><span class="line"><span class="comment"># 列出所有本地分支</span></span><br><span class="line">$ git branch</span><br><span class="line"><span class="comment"># 列出所有远程分支</span></span><br><span class="line">$ git branch -r</span><br><span class="line"><span class="comment"># 列出所有本地分支和远程分支</span></span><br><span class="line"><span class="comment"># $ git branch -a</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看 tag 信息</span></span><br><span class="line"><span class="comment"># 查看本地标签</span></span><br><span class="line">git tag</span><br><span class="line"><span class="comment"># 查看远程标签</span></span><br><span class="line">git ls-remote --tags</span><br></pre></td></tr></table></figure></p></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/32/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/32/">32</a><span class="page-number current">33</span><a class="page-number" href="/page/34/">34</a><span class="space">&hellip;</span><a class="page-number" href="/page/56/">56</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/34/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; Sat Sep 03 2022 08:00:00 GMT+0800 (中国标准时间) – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa-solid fa-star"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">fengzhenhua</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/fungzhenhua" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://s4.zstatic.net/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://s4.zstatic.net/ajax/libs/pdfobject/2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://s4.zstatic.net/ajax/libs/mermaid/11.4.0/mermaid.min.js","integrity":"sha256-G8ouPAnw4zzMbnAenHnVz6h9XpKbNdOkrqTh7AadyHs="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://s4.zstatic.net/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
