<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#9400D3"><meta name="generator" content="Hexo 5.4.2">
<link rel="preconnect" href="https://s4.zstatic.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#9400D3">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":true,"height":500},"bookmark":{"enable":true,"color":"#9400D3","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script>



<link rel="canonical" href="http://example.com/page/25/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/25/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>BNU-FZH</title>
  







<script async src="/lib/fireworks.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">BNU-FZH</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">fengzhenhua@outlook.com</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-导航"><a href="/%E5%AF%BC%E8%88%AA/" rel="section"><i class="fa fa-paper-plane fa-fw"></i>导航</a></li><li class="menu-item menu-item-软件"><a href="/%E8%BD%AF%E4%BB%B6/" rel="section"><i class="fa fa-briefcase fa-fw"></i>软件</a></li><li class="menu-item menu-item-收藏"><a href="/%E6%94%B6%E8%97%8F/" rel="section"><i class="fa fa-folder fa-fw"></i>收藏</a></li><li class="menu-item menu-item-工作"><a href="/%E5%B7%A5%E4%BD%9C/" rel="section"><i class="fa fa-folder fa-fw"></i>工作</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name"></p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">559</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://www.zxxk.com/" title="学科资源 → https:&#x2F;&#x2F;www.zxxk.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>学科资源</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://zujuan.xkw.com/" title="组卷题库 → https:&#x2F;&#x2F;zujuan.xkw.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>组卷题库</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://192.168.1.14/" title="实验信息 → http:&#x2F;&#x2F;192.168.1.14&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>实验信息</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhixue.com/" title="智学阅卷 → https:&#x2F;&#x2F;www.zhixue.com" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>智学阅卷</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://chat.deepseek.com/" title="深度求索 → https:&#x2F;&#x2F;chat.deepseek.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>深度求索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tongyi.com/" title="通义千问 → https:&#x2F;&#x2F;www.tongyi.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>通义千问</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.scnet.cn/ui/chatbot/" title="国家超算 → https:&#x2F;&#x2F;www.scnet.cn&#x2F;ui&#x2F;chatbot&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>国家超算</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yuanbao.tencent.com/chat" title="腾讯元宝 → https:&#x2F;&#x2F;yuanbao.tencent.com&#x2F;chat" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>腾讯元宝</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/" title="必应搜索 → https:&#x2F;&#x2F;cn.bing.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>必应搜索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.hao268.com/" title="网址之家 → https:&#x2F;&#x2F;www.hao268.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>网址之家</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ac.scmor.com/" title="思谋学术 → https:&#x2F;&#x2F;ac.scmor.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>思谋学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://search.essclick.com/" title="爱思学术 → https:&#x2F;&#x2F;search.essclick.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>爱思学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://scholar.lanfanshu.cn/" title="番薯学术 → https:&#x2F;&#x2F;scholar.lanfanshu.cn&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>番薯学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://xmsoushu.com/" title="熊猫搜书 → https:&#x2F;&#x2F;xmsoushu.com&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>熊猫搜书</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/translator" title="必应翻译 → https:&#x2F;&#x2F;cn.bing.com&#x2F;translator" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>必应翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.baidu.com/#zh/en" title="百度翻译 → https:&#x2F;&#x2F;fanyi.baidu.com&#x2F;#zh&#x2F;en" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>百度翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.youdao.com/?keyfrom=fanyi.logo" title="有道翻译 → https:&#x2F;&#x2F;fanyi.youdao.com&#x2F;?keyfrom&#x3D;fanyi.logo" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>有道翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.oxfordlearnersdictionaries.com/definition/english/" title="牛津翻译 → https:&#x2F;&#x2F;www.oxfordlearnersdictionaries.com&#x2F;definition&#x2F;english&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>牛津翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://wx.qq.com/" title="网页微信 → https:&#x2F;&#x2F;wx.qq.com" rel="noopener me" target="_blank"><i class="fab fa-weixin fa-fw"></i>网页微信</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://login.partner.microsoftonline.cn/" title="微软办公 → https:&#x2F;&#x2F;login.partner.microsoftonline.cn" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软办公</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mathsolver.microsoft.com/" title="微软数学 → https:&#x2F;&#x2F;mathsolver.microsoft.com" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软数学</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.mail.bnu.edu.cn/" title="师大邮箱 → https:&#x2F;&#x2F;www.mail.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>师大邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mail.sina.com.cn/" title="新浪邮箱 → https:&#x2F;&#x2F;mail.sina.com.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>新浪邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.aliyundrive.com/sign/in" title="阿里云盘 → https:&#x2F;&#x2F;www.aliyundrive.com&#x2F;sign&#x2F;in" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>阿里云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yun.139.com/w/#/" title="移动云盘 → https:&#x2F;&#x2F;yun.139.com&#x2F;w&#x2F;#&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>移动云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jianguoyun.com/d/login" title="坚果网盘 → https:&#x2F;&#x2F;www.jianguoyun.com&#x2F;d&#x2F;login" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>坚果网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://efss.qloud.my/index.php/login?clear=1" title="Next云盘 → https:&#x2F;&#x2F;efss.qloud.my&#x2F;index.php&#x2F;login?clear&#x3D;1" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>Next云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.123pan.com/" title="123 网盘 → https:&#x2F;&#x2F;www.123pan.com&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>123 网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://annas-archive.org/" title="安娜档案 → https:&#x2F;&#x2F;annas-archive.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>安娜档案</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://book.sciencereading.cn/" title="科学文库 → https:&#x2F;&#x2F;book.sciencereading.cn" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>科学文库</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ylibrary.org/" title="Ylibrary → https:&#x2F;&#x2F;ylibrary.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Ylibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tboxn.com/sites/320.html" title="Zlibrary → https:&#x2F;&#x2F;www.tboxn.com&#x2F;sites&#x2F;320.html" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Zlibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.koushare.com/" title="蔻享官网 → https:&#x2F;&#x2F;www.koushare.com" rel="noopener me" target="_blank"><i class="fas fa-globe-asia fa-fw"></i>蔻享官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.duolingo.cn/" title="多邻国官 → https:&#x2F;&#x2F;www.duolingo.cn" rel="noopener me" target="_blank"><i class="fas fa-school fa-fw"></i>多邻国官</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.bnu.edu.cn/" title="师大官网 → https:&#x2F;&#x2F;www.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>师大官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://one.bnu.edu.cn/" title="数字京师 → https:&#x2F;&#x2F;one.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>数字京师</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.runoob.com/font-awesome/fontawesome-icons-brand.html" title="图站图标 → https:&#x2F;&#x2F;www.runoob.com&#x2F;font-awesome&#x2F;fontawesome-icons-brand.html" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>图站图标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://shields.io/badges" title="项目微标 → https:&#x2F;&#x2F;shields.io&#x2F;badges" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>项目微标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jd.com/" title="京东购物 → https:&#x2F;&#x2F;www.jd.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cart-shopping fa-fw"></i>京东购物</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.taobao.com/" title="淘宝购物 → https:&#x2F;&#x2F;www.taobao.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cart-shopping fa-fw"></i>淘宝购物</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/" title="LaTeXLiv → https:&#x2F;&#x2F;www.latexlive.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXLiv</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/help" title="LaTeXHel → https:&#x2F;&#x2F;www.latexlive.com&#x2F;help" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXHel</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://p2t.breezedeus.com/" title="Pix2Text → https:&#x2F;&#x2F;p2t.breezedeus.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Pix2Text</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://simpletex.cn/" title="Simplete → https:&#x2F;&#x2F;simpletex.cn" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Simplete</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/07/02/Nvidia-ArchLinux-Wayland%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/02/Nvidia-ArchLinux-Wayland%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">Nvidia-ArchLinux-Wayland安装教程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-07-02 13:43:09" itemprop="dateCreated datePublished" datetime="2024-07-02T13:43:09+08:00">2024-07-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>As you know, the transition to Wayland from the traditional Xorg
server in the Linux ecosystem has been a hot topic that caused much
controversy and, admittedly, a fair share of troubleshooting.</p>
<p>While Wayland promises a more streamlined and secure interface than
its predecessor, Xorg, users have often encountered hurdles,
particularly regarding compatibility with NVIDIA graphics cards.</p>
<p>In other words, the journey hasn’t always been without bumps, from
rendering issues to compatibility quirks. However, it’s becoming
increasingly clear that the NVIDIA and Wayland combo, while not yet a
perfect match, is evolving into a viable, working solution for many.</p>
<p>Still, with the proper guidance and a bit of patience, using NVIDIA
with Wayland on Arch is not just a possibility but a largely workable
solution. You can approach this transition with confidence.</p>
<p>This guide is designed to do precisely this: usher you through the
setup process and offer solutions to ensure you can take most of your
NVIDIA and Wayland experience on Arch Linux. So, let’s get started.</p>
<h2 id="install-nvidia-driver">1、Install NVIDIA Driver</h2>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S nvidia nvidia-settings</span><br></pre></td></tr></table></figure>
<h2 id="set-environment-variables">2、Set Environment Variables</h2>
<p>With NVIDIA’s introduction of GBM (Generic Buffer Management)
support, a crucial component of the Linux graphics stack that provides
an API for allocating buffers for graphics rendering and display, many
compositors have adopted it as their default. So, to force GBM as a
backend, we need to set some environment variables.</p>
<p>Open the “<em>/etc/environment</em>” file, paste the following two
lines, then save the file and exit.</p>
<figure class="highlight sh"><figcaption><span>/etc/environment</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GBM_BACKEND=nvidia-drm</span><br><span class="line">__GLX_VENDOR_LIBRARY_NAME=nvidia</span><br></pre></td></tr></table></figure>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland07.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland07-1024x396.jpg"
alt="Set environment variables." /></a></p>
<h2 id="loading-the-nvidia-modules-at-system-boot">3、Loading the NVIDIA
Modules at System Boot</h2>
<p>To ensure that the NVIDIA modules are loaded at the earliest possible
stage, i.e., on the system boot, we need to add the ‘<em>nvidia</em>,’
‘<em>nvidia_modeset</em>,’ ‘<em>nvidia_uvm</em>,’ and
‘<em>nvidia_drm</em>‘ modules to the initramfs – a temporary root file
system loaded into memory as part of the boot process before the real
root file system is mounted.</p>
<p>This is possible by entering them in the “<em>MODULES</em>” section
of the “<em>/etc/mkinitcpio.conf</em>” file. This is a configuration
file for mkinitcpio, a tool Arch uses to generate initial ramdisk
images.</p>
<p>So, open the “<em>/etc/mkinitcpio.conf</em>” file. Then, enter the
modules mentioned above, as the final version should look like this:</p>
<figure class="highlight sh"><figcaption><span>/etc/mkinitcpio.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MODULES=(nvidia nvidia_modeset nvidia_uvm nvidia_drm)</span><br></pre></td></tr></table></figure>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland03.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland03.jpg"
alt="Loading the NVIDIA modules at system boot." /></a></p>
<p>Great, but we’re not done with this file yet. Scroll down and remove
the “<em>kms</em>” from the “<em>HOOKS</em>” section. This ensures that
the initramfs will avoid including the open-source “<em>nouveau</em>”
driver to mess with the work of the proprietary NVIDIA one we have
installed and rely on.</p>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland04.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland04.jpg"
alt="Removing KMS from the Hooks." /></a></p>
<p>We’ve finished modifying “<em>/etc/mkinitcpio.conf</em>“. Save your
changes and close the file. Next, we’ll proceed to regenerate the
initramfs. To do this, execute the following command:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> mkinitcpio -P</span><br></pre></td></tr></table></figure>
<p>In the command’s output, you might notice messages like “<em>WARNING:
Possibly missing firmware for module…</em>” These shouldn’t cause
concern and are unrelated to the modifications we are currently
implementing.</p>
<h2 id="enable-drm">4、Enable DRM</h2>
<p>DRM (Direct Rendering Manager) is a subsystem of the Linux kernel
responsible for interfacing with GPUs. It provides a framework for
graphics drivers to enable direct access to the graphics hardware, which
is crucial for performance in rendering tasks, 3D graphics, video
playback, and more.</p>
<p>NVIDIA provides proprietary graphics drivers for Linux that use the
DRM subsystem to interact with their GPUs. These drivers are essential
for getting the best performance and feature support on NVIDIA hardware
under Linux.</p>
<p>Enabling the DRM kernel mode setting is required for Wayland
compositors to function properly. So, we will pass it as a parameter to
the Linux kernel during its initial boot through the GRUB
bootloader.</p>
<p>Open its configuration file<code>/etc/default/grub</code>. Locate the
line that begins with “<em>GRUB_CMDLINE_LINUX_DEFAULT</em>” and append
“<em>nvidia-drm.modeset=1</em>” to its end. The completed line should
resemble the example provided below.</p>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland05.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland05-1024x501.jpg"
alt="Enabling DRM (Direct Rendering Manager) via GRUB." /></a></p>
<p>Finally, regenerate the GRUB configuration by running:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland06.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland06-1024x396.jpg"
alt="Regenerating the main GRUB configuration file." /></a></p>
<h2 id="testing-wayland-with-nvidia-on-arch-linux">5、Testing Wayland
with NVIDIA on Arch Linux</h2>
<p>You are all set up. Now, reboot your Arch system. At the login screen
of the display manager you’re using, choose the Wayland Session
option.</p>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland09.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland09-1024x640.jpg"
alt="Switching to Wayland session on Arch." /></a></p>
<p>Log in and enjoy a seamless Wayland experience with NVIDIA and your
beloved Arch Linux.</p>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland10.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland10-1024x640.jpg"
alt="Arch Linux is running on Wayland with NVIDIA GPU." /></a></p>
<p>In addition, to verify that the NVIDIA DRM settings were correctly
applied after a reboot, execute the following command; in response, you
should get “<em>Y</em>.”</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">cat</span> /sys/module/nvidia_drm/parameters/modeset</span><br></pre></td></tr></table></figure>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland11.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland11.jpg"
alt="Verifying the NVIDIA DRM settings." /></a></p>
<h2 id="设置-nvidia-电源管理">6、设置 nvidia 电源管理</h2>
<ol type="1">
<li><p>Create a file
<code>/etc/modprobe.d/nvidia-power-management.conf</code> with the
following content: <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">options nvidia NVreg_PreserveVideoMemoryAllocations=1 NVreg_TemporaryFilePath=/var/tmp</span><br></pre></td></tr></table></figure></p></li>
<li><p><code>sudo update-initramfs -c -k all</code> to re-generate the
kernels.
此处我没有执行成功命令，但是并没有影响，系统正常配置成功。</p></li>
<li><p>Reboot</p></li>
<li><p>Go to suspend mode.</p></li>
<li><p>Get an error when trying to load a saved state.</p></li>
</ol>
<h2 id="配置wayland">7、配置wayland</h2>
<p>经过上述配置后，我发现重启系统将会默认进入到<code>x11</code>,
它是可以正常工作的，效果良好。但是，既然有强大的独立<code>nvidia</code>显卡，我们还是需要设置好<code>nvidia</code>.
下述根据 <a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/GDM#Wayland_and_the_proprietary_NVIDIA_driver">Wayland
and the proprietary NVIDIA driver</a>主操作，详细信息可以参考。</p>
<ul>
<li><p>启用<code>nvidia</code>相关服务 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> nvidia-suspend.service nvidia-hibernate.service nvidia-resume.service</span><br></pre></td></tr></table></figure> 此项参考：<a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/NVIDIA/Tips_and_tricks#Preserve_video_memory_after_suspend">Preserve
video memory after suspend</a></p></li>
<li><p>强制启用<code>Wayland</code>, As of GDM 42 and NVIDIA driver 510,
GDM defaults to Wayland. For older NVIDIA drivers (in between version
470 and 510), GDM has chipset-dependent udev rules to use Xorg rather
than Wayland. To force-enable Wayland, override these rules by creating
the following symlink: <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">ln</span> -s /dev/null /etc/udev/rules.d/61-gdm.rules</span><br></pre></td></tr></table></figure></p></li>
</ul>
<p>注意：如果没有第<code>6</code>到<code>7</code>步，在<code>GNOME</code>桌面环境启动后，<code>GDM</code>不能显示<code>wayland</code>启动选项，而只是默认启动<code>Xorg</code>,
设置好<code>6</code>和<code>7</code>后，系统正常进入到<code>wayland</code>。</p>
<h2 id="bottom-line">8、Bottom Line</h2>
<p>In the end, it’s essential to clarify a key point. Our guide has
confidently demonstrated that Wayland can operate smoothly with NVIDIA
on an Arch system. This, however, does not extend to guaranteeing that
every application, game, or desktop environment will also function
flawlessly.</p>
<p>The compatibility of these components with Wayland varies and is
dependent on the extent to which they have integrated support for
it.</p>
<p>For example, desktop environments like KDE Plasma and GNOME offer
very good support for Wayland, ensuring a seamless experience. On the
other hand, environments like Cinnamon, with only basic Wayland support,
may not deliver the same smoothness. So, it’s important to consider
these differences.</p>
<p>Similarly, using the Hyprland dynamic tiling Wayland compositor would
result in a smooth user experience, whereas others that are still
dependent on Xorg may not offer the necessary support for Wayland. This
variability in compatibility applies to individual applications too, so
it’s important to be aware of potential issues when using specific
software.</p>
<p>In conclusion, navigating the complexities of setting up Wayland on
Arch can seem daunting, especially for those wielding the power of
NVIDIA GPUs, who have historically faced hurdles ranging from rendering
glitches to compatibility concerns.</p>
<p>Yet, with the proper knowledge, a dash of perseverance, and our
guidance, the hurdles that once seemed impossible begin to shrink to the
level that, with the correct setup, NVIDIA and Wayland can indeed create
a synergy that brings out the best in your Arch setup.</p>
<p>Finally, we recommend referring to the specific <a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Wayland">Wayland</a> and <a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/NVIDIA">NVIDIA</a> sections on
the official Arch wiki for a more comprehensive understanding. They
provide detailed information on setting up and troubleshooting Wayland
and NVIDIA on Arch, making them valuable resources for further
exploration.</p>
<p>And, of course, we’d love to hear your feedback or thoughts, so
please don’t hesitate to share them in the comment box below.</p>
<h2 id="references">9、References</h2>
<ul>
<li><a
target="_blank" rel="noopener" href="https://linuxiac.com/nvidia-with-wayland-on-arch-setup-guide/">NVIDIA
+ Wayland on Arch: A Comprehensive Setup Guide</a></li>
<li><a
target="_blank" rel="noopener" href="https://www.maketecheasier.com/wayland-work-with-nvidia-graphics-cards/">How
to Get Wayland to Work on Nvidia Graphics Cards</a></li>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv25617874/">ArchLinux
安装Nvidia 驱动使用Wayland</a></li>
<li><a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Wayland">Wayland-ArchWiki</a></li>
<li><a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/NVIDIA">Nvidia-ArchWiki</a></li>
<li><a target="_blank" rel="noopener" href="https://sh.alynx.one/posts/NVIDIA-GNOME-Wayland/">NVIDIA
驱动和 GNOME 和 Wayland</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/29/Shell%E8%84%9A%E6%9C%AC%E6%88%AA%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%98%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/29/Shell%E8%84%9A%E6%9C%AC%E6%88%AA%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%98%E9%87%8F/" class="post-title-link" itemprop="url">Shell脚本截取字符串变量</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-29 22:58:45" itemprop="dateCreated datePublished" datetime="2024-06-29T22:58:45+08:00">2024-06-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>对于一个数组，使用<code>#</code>表示删除左侧的部分，<code>%</code>表示删除右侧的部分，同时支持正则表达式。例如:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">url=<span class="string">&quot;https://gitlab.com/fengzhenhua/script/-/raw/<span class="variable">$USB_REMORT_SH</span>\?inline\=false&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$url</span> |sed -e <span class="string">&#x27;s/\(.\)/\1\n/g&#x27;</span> |grep <span class="string">&quot;/&quot;</span> |<span class="built_in">wc</span> -l</span><br><span class="line">&gt; 7 <span class="comment"># $url中一共有7个`/`</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;url#*//*/*/*/&#125;</span></span><br><span class="line">&gt;</span><br><span class="line">-/raw/<span class="variable">$USB_REMORT_SH</span>\?inline\=<span class="literal">false</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;url%/<span class="variable">$&#123;url#*//*/*/*/&#125;</span>&#125;</span></span><br><span class="line">&gt;</span><br><span class="line">https://gitlab.com/fengzhenhua/script</span><br></pre></td></tr></table></figure>
<div class="note primary"><p>注意：此处不同与网上的教程，网上的一些教程如<a
target="_blank" rel="noopener" href="https://blog.csdn.net/jined/article/details/124196546">Shell
8种字符串截取方法</a>等，指明了截取字符串时某一个字符的方法，但是对于<code>*</code>的理解没有做深入分析，而本文指出其代表若干字符，是正则表达式的一部分。于是在截取网址时，使用正则表达式给出<code>*//*/*/*/</code>方便的取得了相要的地址部分。</p>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/29/Shell%E8%84%9A%E6%9C%AC%E7%BB%9F%E8%AE%A1%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%96%E6%96%87%E4%BB%B6%E4%B8%AD%E7%89%B9%E5%AE%9A%E5%AD%97%E7%AC%A6%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/29/Shell%E8%84%9A%E6%9C%AC%E7%BB%9F%E8%AE%A1%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%96%E6%96%87%E4%BB%B6%E4%B8%AD%E7%89%B9%E5%AE%9A%E5%AD%97%E7%AC%A6%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0/" class="post-title-link" itemprop="url">Shell脚本统计字符串或文件中特定字符出现的次数</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-29 22:38:15" itemprop="dateCreated datePublished" datetime="2024-06-29T22:38:15+08:00">2024-06-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在编写<code>Shell</code>脚本中需要判断网址中的<code>/</code>出现的次数，进而获取网址的结构，然后根据需要可以截取部分网址。假设我们有一个字符串“Hello
Bash”：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ STRING=<span class="string">&quot;Hello Bash&quot;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$STRING</span></span><br><span class="line">Hello Bash</span><br></pre></td></tr></table></figure>
<p>使用 bash
shell，我们现在可以计算任何给定字符的出现次数。例如，让我们计算字符
<code>l</code> 出现的次数：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$STRING</span> | sed -e <span class="string">&#x27;s/\(.\)/\1\n/g&#x27;</span> | grep l | <span class="built_in">wc</span> -l</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<p><code>sed</code>
命令首先将任何给定的字符串分成多行。其中每行包含一个字符：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$STRING</span> | sed -e <span class="string">&#x27;s/\(.\)/\1\n/g&#x27;</span> </span><br><span class="line">H</span><br><span class="line">e</span><br><span class="line">l</span><br><span class="line">l</span><br><span class="line">o</span><br><span class="line"> </span><br><span class="line">B</span><br><span class="line">a</span><br><span class="line">s</span><br><span class="line">h</span><br></pre></td></tr></table></figure>
<p>之后我们可以使用<code>grep</code>命令来仅搜索特定字符。在本例中，我们仅打印字符
<code>l</code>：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$STRING</span> | sed -e <span class="string">&#x27;s/\(.\)/\1\n/g&#x27;</span> | grep l</span><br><span class="line">l</span><br><span class="line">l</span><br></pre></td></tr></table></figure>
<p>剩下的就是使用 wc -l 来简单地计算行数：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$STRING</span> | sed -e <span class="string">&#x27;s/\(.\)/\1\n/g&#x27;</span> | grep l | <span class="built_in">wc</span> -l</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<p>相同的策略也可用于计算文件中字符的出现次数。下面的 bash shell
命令计算字符 <code>l</code> 在文件 <code>/etc/services</code>
中出现的次数：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> $ <span class="built_in">cat</span> /etc/services | sed -e <span class="string">&#x27;s/\(.\)/\1\n/g&#x27;</span> | grep l | <span class="built_in">wc</span> -l</span><br><span class="line">9298</span><br></pre></td></tr></table></figure>
<p>然而，计算字符出现次数的另一种方法是使用 grep 的
<code>--only-matching</code> 或 <code>-o</code>
选项仅打印匹配的字符：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ grep -o l /etc/services | <span class="built_in">wc</span> -l</span><br><span class="line">9298</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/28/RS232%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/28/RS232%E4%B8%B2%E8%A1%8C%E6%8E%A5%E5%8F%A3/" class="post-title-link" itemprop="url">RS232串行接口</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-28 11:13:47" itemprop="dateCreated datePublished" datetime="2024-06-28T11:13:47+08:00">2024-06-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>  <strong>RS232是一种通用的串行接口，可以用来连接不同的设备，比如计算机、打印机、终端设备等。</strong>它可以传输数据、控制信号和电源，但是它有一定的缺点，比如传输速率较慢，最高只能达到115200bps，而且它也不能支持高级功能，比如多点控制和网络通信。那么，RS232能接显示器吗？</p>
<figure>
<img
src="https://images-na.ssl-images-amazon.com/images/I/81VUdVo2kLL._AC_SL1500_.jpg"
alt="RS232" />
<figcaption aria-hidden="true">RS232</figcaption>
</figure>
<p>  RS232接口是一种标准的串行接口，它由25个接口针组成，每个接口针都有一个不同的功能，比如接收和发送数据，控制信号等。它的接口针分为4组，每组有5个接口针，第一组是信号线，第二组是控制线，第三组是电源线，第四组是用于接收和发送数据的线。</p>
<h2 id="rs232能接显示器吗">RS232能接显示器吗？</h2>
<p>  RS232接口可以用来连接显示器，但是需要使用一个转换器，它可以将RS232接口转换成显示器接口，如VGA接口、DVI接口等。这样，就可以使用RS232接口来连接显示器，但是由于RS232接口的传输速率较慢，所以只能用来传输低分辨率的画面，比如640×480或800×600，而不能用来传输高分辨率的画面，比如1920×1080。</p>
<h2 id="总结">总结</h2>
<p>  <strong>RS232是一种通用的串行接口，可以用来连接不同的设备，比如计算机、打印机、终端设备等。</strong>它由25个接口针组成，每个接口针都有一个不同的功能，比如接收和发送数据，控制信号等。RS232接口可以用来连接显示器，但是需要使用一个转换器，它可以将RS232接口转换成显示器接口，如VGA接口、DVI接口等，但是由于RS232接口的传输速率较慢，所以只能用来传输低分辨率的画面，而不能用来传输高分辨率的画面。</p>
<h2 id="参考资料">参考资料</h2>
<ul>
<li><a
target="_blank" rel="noopener" href="https://tech.sina.com.cn/roll/2020-07-27/doc-iivhvpwx7717284.shtml">终于有人把常用的三种通讯方式：RS485、RS232、RS422讲明白了</a></li>
<li><a
target="_blank" rel="noopener" href="https://baijiahao.baidu.com/s?id=1584849703749891078">台式机主机背面接口全介绍
各种接口知识扫盲（收藏）</a></li>
<li><a
target="_blank" rel="noopener" href="https://www.techphant.cn/blog/63665.html">RS232能接显示器吗？</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/28/%E6%B5%81%E7%A8%8B%E5%9B%BE%E8%A7%84%E8%8C%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/28/%E6%B5%81%E7%A8%8B%E5%9B%BE%E8%A7%84%E8%8C%83/" class="post-title-link" itemprop="url">流程图规范</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-28 10:42:12" itemprop="dateCreated datePublished" datetime="2024-06-28T10:42:12+08:00">2024-06-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="一流程图是什么">一、流程图是什么</h3>
<p>流程图（Flowchart）也称为框图，通俗的讲就是把“流程”用“图”的形式展现出来，也就是“流程”+“图”。通常会使用一些特定图形加上相应的文字描述表示流程的具体步骤，并用含有箭头的线将这些图形连接起来，表示步骤执行的算法与先后顺序。</p>
<figure>
<img src="https://oss-liuchengtu.hudunsoft.com/bgmuisc/1634786532.png"
alt="流程图简单画法" />
<figcaption aria-hidden="true">流程图简单画法</figcaption>
</figure>
<h3 id="二流程图的常见作用">二、流程图的常见作用</h3>
<ol type="1">
<li>流程图可以把复杂的过程简单而又直观地呈现出来，帮助我们梳理流程的先后顺序，让整个流程的思路更加清晰、有逻辑。<br />
</li>
<li>帮助管理者了解流程内的具体流程，用于查缺补漏，避免流程内出现多余或遗漏的内容，简化整理步骤的同时确保流程的完整性。<br />
</li>
<li>帮助分析流程内出现的问题，让流程内参与者能准确了解自己的职责所在，提高工作效率、优化管理水平。</li>
</ol>
<figure>
<img src="https://oss-liuchengtu.hudunsoft.com/bgmuisc/1634786554.png"
alt="流程图的常见作用" />
<figcaption aria-hidden="true">流程图的常见作用</figcaption>
</figure>
<h3 id="三流程图符号">三、流程图符号</h3>
<p>  <strong>常用流程图符号</strong><br />
  流程图的类型有很多，例如程序流程图、数据流程图或工艺流程图等。虽然流程图的分类众多，但在绘制过程中，不管是什么类型的流程图，通常会使用相同符号表示同类型流程。<br />
  如文档、卡片、角色由于流程类型存在差异，其使用的符号也会大不相同。下图给大家分享一些常用流程图符号供以参考。</p>
<figure>
<img src="https://oss-liuchengtu.hudunsoft.com/bgmuisc/1634786570.png"
alt="常用流程图符号" />
<figcaption aria-hidden="true">常用流程图符号</figcaption>
</figure>
<p>  <strong>基本流程图符号</strong><br />
  虽然流程图符号如此之多，但在实际制图时能够频繁使用到的符号却并不多。用得较多且较为基础的有五种：起止框、处理框、判断框、输出输入框和流程线。</p>
<figure>
<img src="https://oss-liuchengtu.hudunsoft.com/bgmuisc/1634786577.png"
alt="基本流程图符号" />
<figcaption aria-hidden="true">基本流程图符号</figcaption>
</figure>
<h3 id="四流程图结构">四、流程图结构</h3>
<p>  流程图通常由三种结构组成：顺序结构、选择结构、循环结构。<br />
  <strong>顺序结构：</strong>这是流程图三种结构中最简单的一种，只需按照流程内箭头方向依次执行内容即可。<br />
  <strong>选择结构：</strong>选择结构也称之为判断结构，根据给定的条件进行判断，并以该判断结果来控制运行的流程。<br />
  <strong>循环结构：</strong>循环结构就是在一定的条件下重复执行某一操作，用于判断程序继续执行某一操作或退出循环。分为直到型和当型两种循环结构。</p>
<figure>
<img src="https://oss-liuchengtu.hudunsoft.com/bgmuisc/1634786586.png"
alt="流程图结构" />
<figcaption aria-hidden="true">流程图结构</figcaption>
</figure>
<h3 id="五流程图注意事项">五、流程图注意事项</h3>
<ol type="1">
<li>为了使流程图直观且有逻辑，一般会遵循从上到下、从左到右的顺序排列。<br />
</li>
<li>一份完整的流程图会涵盖开始框和结束框，且一般情况下开始框和结束框分别只出现一次。<br />
</li>
<li>流程图可以出现包含和并列关系，但不能交叉，除非给予适当的判断。<br />
</li>
<li>对于判断框需要有两个或两个以上的执行条件，且每一条件要有相应的注释和执行结果。</li>
</ol>
<h3 id="六流程图绘制">六、流程图绘制</h3>
<p>  流程图分为在线和软件两种绘制方式。在绘制流程图时有一个清晰的思路非常重要，鉴于不少小伙伴刚接触流程图时可能会分不清主次的情况，所以可以从运用模板开始学习。合理的使用模板可以加快学习绘制速度，便于寻找他人的绘制优点，并将其化为己用。</p>
<figure>
<img src="https://oss-liuchengtu.hudunsoft.com/bgmuisc/1634786598.png"
alt="流程图绘制" />
<figcaption aria-hidden="true">流程图绘制</figcaption>
</figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/25/%E6%98%BE%E7%A4%BA%E5%99%A8%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/25/%E6%98%BE%E7%A4%BA%E5%99%A8%E6%8E%A5%E5%8F%A3%E7%AE%80%E4%BB%8B/" class="post-title-link" itemprop="url">显示器接口简介</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-25 19:07:01" itemprop="dateCreated datePublished" datetime="2024-06-25T19:07:01+08:00">2024-06-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在近十年的发展，显示设备的接口发生了巨大的改变。以前使用比较多的是蓝色VGA接口，接著出现了白色的DVI接口，当遇到不同接口时，还得买转接头进行转接。后来，又有了HDMI等接口，现在则出现DP和USB
Type-C接口。那么，这么多接口，到底有什么区别，又应该用哪个呢？</p>
<p><strong>VGA</strong></p>
<p>VGA接口也称为D-Sub接口。在CRT显示器时代，VGA接口是必备的。因为CRT是模拟设备，而VGA采用的也是模拟协议，所以它们理所当然被匹配来使用。VGA接口采用15针插针式结构，里面传输分量、同步等信号，<strong>是很多老显卡、笔记本和投影仪所使用的接口</strong>。后来液晶显示器出现，也带有VGA接口。显示器内置了A/D转换器，将模拟信号转换为数字信号在液晶显示器上显示。</p>
<p>由于线材与信号干扰等一系列问题，VGA使用时一般仅能够达到1080p分辨率，在高分辨率下字体容易虚，信号线长的话，图像有拖尾现象。在数字设备高度发展的今天，VGA接口已逐渐退出舞台，一些显示器也不再带有VGA接口。</p>
<p><img
src="https://img.picui.cn/free/2024/06/25/667aa62a571de.png" /></p>
<p><strong>DVI</strong></p>
<p>DVI的种类非常多，接口上有DVI-A、DVI-D、DVI-I，又可分为单通道与双通道。<strong>DVI-A（DVI-Analog）</strong>接口只传输模拟信号，实质就是VGA模拟传输接口规格，常用于转接显卡的DVI-I输出到VGA显示器接口。<strong>DVI-D（DVI-Digital）</strong>接口是纯数字接口，不兼容模拟信号。<strong>DVI-I（DVI-Integrated）</strong>接口，兼容DVI-I和DVI-D两种插头，兼容数字和模拟信号。它们的接口形状不同，如果接口不匹配就无法插入使用。</p>
<p><img
src="https://img.picui.cn/free/2024/06/25/667aa62a61ef6.png" /></p>
<p> 以下是它们支持的最大分辨率与频率：</p>
<p><img
src="https://img.picui.cn/free/2024/06/25/667aa62a708ef.png" /></p>
<p> 现在有些支持4K分辨率的显示器，也带有DVI接口。为了达到4K的分辨率，在接口使用上就需要注意，不要使用DVI接口，否则是达不到4K分辨率的。</p>
<p><strong>HDMI</strong></p>
<p>HDMI接口在2002年提出，现在已经发展到HDMI
2.1标准，而且随着行业发展，HDMI 2.1标准已经能够支持4K 120Hz及8K
60Hz，支持高动态范围成像（HDR），可以针对场景或帧数进行优化，向后兼容HDMI
2.0、HDMI 1.4。最主要的是，它是视音频同时传输的。</p>
<p>如今很多的显示器内置音箱，使用一根HDMI线，就可以同时完成图像和声音的传输，这也是HDMI的一大优势。也因为如此，HDMI成为了当今显示器最常见的接口。我们在使用时，也应该优选这个接口。</p>
<p>HDMI在物理接口上，有几种类型。主要有标准HDMI接口，mini
HDMI接口和Micro
HDMI接口。对于长距离传输的HDMI线，一般线材较硬，这样，就尽量使用带有标准的HDMI接口的设备，以得到稳固的连接。Mini
HDMI接口和Micro HDMI接口则更适合于小设备的使用。</p>
<p><img
src="https://img.picui.cn/free/2024/06/25/667aa748e13f1.png" /></p>
<p><strong>DisplayPort</strong></p>
<p>DP（Display
Port）接口是HDMI接口的竞争对手。在一些显卡与显示器上，除了有HDMI接口，也带有DP接口。目前DP接口发展到1.4版本，能传输10bit的4K
120Hz视频，也可以支持8K 60Hz视频。DP1.4兼容USB
Type-C接口，这就意味着，我们可以使用DP1.4协议，在USB
3.1传输数据的同时，同步传输高清视频。从趋势来看，这对于推动周边影音及影像设备的升级，是非常有好处的。而且，DP接口也可以单根线同步传输声音，达到使用显示器声音的使用方式。</p>
<p><img
src="https://img.picui.cn/free/2024/06/25/667aa74a0c0ae.png" /></p>
<p>DP口定义了两种接头，全尺寸（Full
Size）和迷你DP（Mini），两种接头皆是20针，但迷你接头的宽度大约是全尺寸的一半。明基PD2500Q、PD2700U等显示器均带有Mini
DP接口。在DP接口旁，都有一个“D”型的标志。</p>
<p><img
src="https://img.picui.cn/free/2024/06/25/667aa749af35b.png" /></p>
<p>有些高端的显示器，会带有DP的输出口。这是一个非常好的功能。这样就能以菊花链的形式，完成显示器扩展级联。菊花链是最基本的拓扑结构，一般需要多屏扩展时，多是从显卡的多个端口输出到显示器，这不仅连线不便，而且对于不同的接口和分辨率，也不一定能满足一致。而使用支持菊花链技术的显示器，就能从一个显示器直接连接到另一个，满足多个级联。</p>
<p>(注在电子电气工程中菊花链代表一种配线方案，例如设备A和设备B用电缆相连，设备B再用电缆和设备C相连，设备C用电缆和设备D相连，在这种连接方法中不会形成网状的拓扑结构，只有相邻的设备之间才能直接通信，例如在上例中设备A是不能和设备C直接通信的，它们必须通过设备B来中转，这种方法同样不会形成环路。因为最后一个设备不会连向第一个设备。这种连线方法能够用来传输电力，数字信号和模拟信号)</p>
<p><img
src="https://img.picui.cn/free/2024/06/25/667aa748e5dbb.png" /></p>
<p><strong>Type-C</strong></p>
<p>USB接口早已被大家所熟知，以往USB接口被设计用来传输数据，所以它在移动硬盘等存储设备的使用上非常常见。现在USB
3.1
Gen2的速度已经达到10Gbps，设计标准也可以满足视频、数据兼顾传输，所以在一些显示器上，也能够发现USB
3.1接口。现在的USB3.1接口，已经能够满足4K
30P的分辨率显示，大致与HDMI1.4在同一水平。但它以后再进行升级，必将能成为最通用的显示传输方式。需要注意的是，USB
3.1 Gen1就是USB 3.0，而USB 3.1 Gen2才是真正的USB3.1。</p>
<p><img
src="https://img.picui.cn/free/2024/06/25/667aa749bf91a.png" /></p>
<p>USB3.1是传输协议，而USB接口形状有好多种，拿USB
3.1的接口来说，有Type-A、Type-B以及Type-C。Type-C的形状最小，也被宣传的最多。我们所说的Type-C接口，仅仅是接口形状，它并不对等于USB3.1。Type-C接口，也被用在了雷电3上。</p>
<p><img
src="https://img.picui.cn/free/2024/06/25/667aa8010eee6.png" /></p>
<p>Type-C接口的好处在于可以正反插拔，部分Type-C接口也同样具有数据、电力、信号传输的功能，被应用到显示器上时可以带来很多方便。<strong>Type-C笔记本用户可以透过一个接口完成充电和连接显示器，还能使用显示器上拓展出来的USB接口，极大地减少了笔记本的负担。</strong></p>
<p><strong>雷电</strong></p>
<p>雷电（thunderbolt）接口有Intel提出来，在苹果电脑上用的非常多，苹果的中文官网将其译为雷雳。它以速度快，传输稳定而著称。雷电接口的技术融合了PCI
Express和DisplayPort（就是上面说的DP口）两种通信协议。其中PCI
Express用于数据传输，可以非常方便地进行任何类型设备扩展；DisplayPort用于显示，能同步传输1080p乃至4K视频和最多八声道音频。并且两条通道在传输时都有自己单独的通道，不会产生任何干扰。</p>
<p><img
src="https://img.picui.cn/free/2024/06/25/667aa8010ce21.png" /></p>
<p>雷电接口到现在已经发展到三代。雷电1的速度达到10Gbps，雷电2的速度达到20Gbps，现在的雷电3达到40Gbps，依然处于民用传输速度的顶端。容易让人混淆的是，雷电接口的形状在雷电1和雷电2外形上采用的是Mini
DP的外形，而雷电3采用的是USB
Type-C的外形，但即使外形不同，它们采用的数据传输方式都是雷电协议。<strong>不像其它接口能直观地从形状就能分辨出来，使用雷电接口需要认准接口旁的闪电标志，以作区分。</strong></p>
<p><img
src="https://img.picui.cn/free/2024/06/25/667aa80135669.png" /></p>
<p><img
src="https://img.picui.cn/free/2024/06/25/667aa80136df2.png" /></p>
<p>雷电口也支持菊花链连接。而且，我们也可以在显示器下级连上雷电口的硬盘，作为扩展使用。这也是雷电口菊花链的优势所在。</p>
<p>总结来看，雷电接口是集信号、数据、电力传输为一身的集成性接口，可以极大地提高使用效率，目前这个接口多应用于苹果相关设备上。</p>
<p>这些常用的接口在各类显示器上都可以看见，对于我们日常使用的显示器，如今HDMI占有绝对的主导位置。它成熟稳定，也能够满足日常的需要，但是<strong>应用于显示器硬件校色时，并不推荐使用HDMI接口</strong>，它的RGB范围会有缺失，校色时选择DP接口是更好的选择。其余接口的实用性也很高，一些相对“高冷”的接口目前也在不断普及。因此，根据需要进行选择，才是最根本的解决方式。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/25/%E4%B8%80%E5%8F%B0%E7%94%B5%E8%84%91%E4%B8%BB%E6%9C%BA%E8%BF%9E%E6%8E%A5%E5%8F%8C%E6%98%BE%E7%A4%BA%E5%99%A8%E7%9A%84%E8%BF%9E%E6%8E%A5%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/25/%E4%B8%80%E5%8F%B0%E7%94%B5%E8%84%91%E4%B8%BB%E6%9C%BA%E8%BF%9E%E6%8E%A5%E5%8F%8C%E6%98%BE%E7%A4%BA%E5%99%A8%E7%9A%84%E8%BF%9E%E6%8E%A5%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">一台电脑主机连接双显示器的连接方法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-25 10:58:53" itemprop="dateCreated datePublished" datetime="2024-06-25T10:58:53+08:00">2024-06-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3
id="一先与电脑连接好两个显示器"><strong>一、先与电脑连接好两个显示器</strong></h3>
<figure>
<img src="https://img.picui.cn/free/2024/06/25/667a3407b0810.png"
alt="显示器插口" />
<figcaption aria-hidden="true">显示器插口</figcaption>
</figure>
<ol type="1">
<li><p>电脑必须要有两个显示器插口，如<code>HDMI</code>、<code>DVI</code>、<code>VGA</code>都可以，其他参考<a
target="_blank" rel="noopener" href="https://blog.csdn.net/didi_ya/article/details/122241863">【科普】显示器VGA、DVI、HDMI、DP等各种接口详细科普</a></p></li>
<li><p>使用相应线材连接显示器，可以一个连接<code>DVI</code>一个连接<code>VGA</code>，或是<code>HDMI</code>。使用什么线，取决于你的显示器支持什么接口。</p></li>
<li><p>连接完成，开机一般两个显示器可以正常显示。</p></li>
</ol>
<div class="note primary"><p>注意事项：使用两个信号线分别将两个显示器连接到显卡上两个视频输出接口。电脑显卡必须支持双输出，有两个用于连接不同显示器的视频接口。</p>
</div>
<h3
id="二linuxgnome连接两个显示器设置方法"><strong>二、Linux(Gnome)连接两个显示器设置方法</strong></h3>
<figure>
<img src="https://img.picui.cn/free/2024/06/25/667a85c5bb977.png"
alt="Archlinux Gnome 双屏设置" />
<figcaption aria-hidden="true">Archlinux Gnome 双屏设置</figcaption>
</figure>
<ol type="1">
<li><p>打开<code>设置</code>→<code>显示器</code></p></li>
<li><p>选择<code>加入</code>或<code>镜像</code>等设置.
其中<code>加入</code>是指两个屏显示不同内容，而<code>镜像</code>是副屏与主屏完全一样，适合教学演示之用。</p></li>
</ol>
<h3
id="三win7连接两个显示器设置方法"><strong>三、WIN7连接两个显示器设置方法</strong></h3>
<ol type="1">
<li><p>在桌面空白处右击鼠标选择“屏幕分辨率”选项;
进入分辨率设置对话框。</p></li>
<li><p>如果电脑主机显卡连接有两台显示器的，就会有显示。单击“检测”进行检测。然后点击多显示器后面的按钮框，就可以看到“复制这些显示”和“扩展这些显示”两个选项。</p></li>
<li><p>选择的“复制这些显示”，那么在两个显示器上你会看到一模一样的<code>Windows</code>
窗口。适合教学演示、为多人展示相同内容的场所，也适合会场和户外等商业展示。</p></li>
</ol>
<h3
id="四win10连接两个显示器设置方法"><strong>四、WIN10连接两个显示器设置方法</strong></h3>
<ol type="1">
<li><p>在<code>Windows 10</code>桌面上单击右键，选择“显示设置”。或通过快捷键<code>Win + I</code>打开设置，然后导航至“系统”&gt;“显示”。</p></li>
<li><p>检测并配置显示器：系统将自动检测到两个显示器。在“显示”页面，你可以看到显示器的代表图标，点击“标识”按钮帮助区分哪个是显示器1，哪个是2。随后，选择“多显示器设置”，设定为“扩展这些显示器”，以实现不同内容的显示。</p></li>
<li><p>自定义布局：通过拖动显示器图标，你可以根据实际摆放位置调整虚拟布局，确保操作顺畅。</p></li>
<li><p>调整分辨率与方向：进一步个性化每个显示器的显示设置，包括分辨率和方向调整，确保最佳视觉效果。</p></li>
<li><p>保存设置：调整完毕后，设置会自动保存，无需额外确认，你可以立即体验双屏带来的便捷</p></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/24/%E4%B8%89%E6%98%9F%E6%98%BE%E7%A4%BA%E5%99%A8%E8%B0%83%E6%95%B4%E4%BA%AE%E5%BA%A6%E5%92%8C%E5%AF%B9%E6%AF%94%E5%BA%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/24/%E4%B8%89%E6%98%9F%E6%98%BE%E7%A4%BA%E5%99%A8%E8%B0%83%E6%95%B4%E4%BA%AE%E5%BA%A6%E5%92%8C%E5%AF%B9%E6%AF%94%E5%BA%A6/" class="post-title-link" itemprop="url">三星显示器调整亮度和对比度</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-24 21:03:53" itemprop="dateCreated datePublished" datetime="2024-06-24T21:03:53+08:00">2024-06-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>今天终于使用上了双屏显示器，其中主屏使用的是三星<code>S27D590</code>,
副屏是<code>DELL</code>的一个<code>22寸</code>的屏幕。其中，主屏通过<code>VGA</code>接口直接与主机连接，同时副屏通过<code>HDMI</code>接口也直接与主机相连，顺利使用上了双显示器。测试通过三星<code>S27D590</code>上的<code>HDMI</code>转接到副屏上没有成功，这留待以后再研究。连接两块屏幕后，一个最显著的地方是它们的亮度不同，于是需要调整屏幕的亮度，而这个三星<code>S27D590</code>只有一个按键，一时有点让人琢磨不透。经过一翻百度，获得答案，原来三星显示器的按键是一个叫做<code>五维式按键</code>的东西，百度问答给出了答案：</p>
<p>根据三星显示器的不同型号，调整屏幕亮度的方法，请参考以下方式：</p>
<ol type="1">
<li>普通按（或触摸）键：按（或触摸）机身的【MENU】键，依次选择【图像】-【亮度】
， 根据个人的需求调整亮度数值即可。</li>
<li>五维式按键：按【电源】键，将摇杆向上拔动，光标移至菜单位置，按【电源】键，依次选择【图像】-【亮度】，进行调整。</li>
<li>没有菜单选择的显示器，需要在电脑上安装MagicTune（魔调软件），通过此软件进行调整。</li>
</ol>
<p>参考网址：<a
target="_blank" rel="noopener" href="https://zhidao.baidu.com/question/1706498937311098820.html">三星显示器亮度在显示器上怎么调</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/24/Shell%E8%84%9A%E6%9C%AC%E8%A7%A3%E6%9E%90JASON%E6%95%B0%E6%8D%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/24/Shell%E8%84%9A%E6%9C%AC%E8%A7%A3%E6%9E%90JASON%E6%95%B0%E6%8D%AE/" class="post-title-link" itemprop="url">Shell脚本解析JASON数据</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-24 10:36:20" itemprop="dateCreated datePublished" datetime="2024-06-24T10:36:20+08:00">2024-06-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="jason-语言简介">JASON 语言简介</h2>
<ul>
<li>JSON 指的是 JavaScript 对象表示法（JavaScript Object Notation）</li>
<li>JSON 是轻量级的文本数据交换格式</li>
<li>JSON 独立于语言：JSON 使用 Javascript语法来描述数据对象，但是 JSON
仍然独立于语言和平台。JSON 解析器和 JSON 库支持许多不同的编程语言。
目前非常多的动态（PHP，JSP，.NET）编程语言都支持 JSON</li>
<li>JSON 具有自我描述性，更易理解</li>
</ul>
<p>详细参考：<a
target="_blank" rel="noopener" href="https://blog.csdn.net/cserchen/article/details/6232341">jason数据格式</a></p>
<h2 id="shell脚本解析jason数据">Shell脚本解析JASON数据</h2>
<h3 id="使用jq解析jason数据">使用<code>jq</code>解析JASON数据</h3>
<p><code>jq</code>
是一个小型跨平台解决方案，用于以更短、更简单、更轻松的方式管理 JSON
数据。安装<code>jq</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S jq</span><br></pre></td></tr></table></figure>
<ol type="1">
<li><code>jq .</code> 命令美化 json 数据。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl <span class="string">&quot;https://jsonplaceholder.typicode.com/posts&quot;</span> | jq .</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;userId&quot;: 1,</span><br><span class="line">      &quot;id&quot;: 1,</span><br><span class="line">      &quot;title&quot;: &quot;delectus aut autem&quot;,</span><br><span class="line">      &quot;completed&quot;: false</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;userId&quot;: 1,</span><br><span class="line">      &quot;id&quot;: 2,</span><br><span class="line">      &quot;title&quot;: &quot;quis ut nam facilis et officia qui&quot;,</span><br><span class="line">      &quot;completed&quot;: false</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;userId&quot;: 1,</span><br><span class="line">      &quot;id&quot;: 3,</span><br><span class="line">      &quot;title&quot;: &quot;fugiat veniam minus&quot;,</span><br><span class="line">      &quot;completed&quot;: false</span><br><span class="line">    &#125;</span><br><span class="line">    ... // remaining list of data</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>从 JSON 获取特定字段的值</li>
</ol>
<p>我们可以使用 <code>jq.[].field_name</code> 从 JSON
数据数组中获取任何特定字段的值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl <span class="string">&quot;https://jsonplaceholder.typicode.com/posts&quot;</span> | jq <span class="string">&#x27;.[].id&#x27;</span></span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li>从 JSON 中获取第一个项目的标题</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl <span class="string">&quot;https://jsonplaceholder.typicode.com/posts&quot;</span> | jq <span class="string">&#x27;.[0].title&#x27;</span></span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;delectus aut autem&quot;</span></span><br></pre></td></tr></table></figure>
<h2
id="使用grep解析json">使用<code>grep</code>解析<code>JSON</code></h2>
<p><code>grep</code> 命令也可用于解析 JSON 数据。</p>
<p>示例 JSON 文件：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Andres Gustov&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;andddy7@gmail.com&quot;</span></span><br><span class="line">     <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Anthony Marklov&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;antman33@gmail.com&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>
<p>示例脚本：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -o <span class="string">&#x27;&quot;email&quot;: &quot;[^&quot;]*&#x27;</span> examplejsonfile.json | grep -o <span class="string">&#x27;[^&quot;]*$&#x27;</span></span><br></pre></td></tr></table></figure>
<p>我们使用 <code>-o</code>
选项仅选择与给定模式匹配的行。然后，我们指定模式<code>'"email": "[^"]*'</code>，这意味着我们想要键
<code>email</code> 的所有值。之后，我们传递 JSON
文件来查找模式。最后，我们使用另一个 <code>grep -o</code>
命令将结果通过管道输出，以删除除值之外的所有内容。</p>
<p>输出：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">andddy7@gmail.com </span><br><span class="line">antman33@gmail.com</span><br></pre></td></tr></table></figure>
<h2 id="使用python3解析json">使用<code>python3</code>解析JSON</h2>
<p>我们还可以使用 python 的 <code>json</code> 模块来处理 JSON 操作。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -s <span class="string">&#x27;https://jsonplaceholder.typicode.com/posts&#x27;</span> | \ python3 -c <span class="string">&quot;import sys, json; print(json.load(sys.stdin))&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="获取特定字段值">获取特定字段值</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl <span class="string">&quot;https://jsonplaceholder.typicode.com/posts&quot;</span> | \ </span><br><span class="line">    python3 -c <span class="string">&quot;import sys, json; data=json.load(sys.stdin); print([d[&#x27;id&#x27;] for d in data])&quot;</span></span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="获取第一个项目的标题">获取第一个项目的标题</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl <span class="string">&quot;https://jsonplaceholder.typicode.com/posts&quot;</span> | \ </span><br><span class="line">    python3 -c <span class="string">&quot;import sys, json; print(json.load(sys.stdin)[0][&#x27;title&#x27;])&quot;</span></span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;delectus aut autem&quot;</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/24/Shell%E8%84%9A%E6%9C%AC%E8%A7%A3%E6%9E%90YAML%E6%95%B0%E6%8D%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/24/Shell%E8%84%9A%E6%9C%AC%E8%A7%A3%E6%9E%90YAML%E6%95%B0%E6%8D%AE/" class="post-title-link" itemprop="url">Shell脚本解析YAML数据</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-24 10:14:06" itemprop="dateCreated datePublished" datetime="2024-06-24T10:14:06+08:00">2024-06-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="yaml语言简介">YAML语言简介</h2>
<p><code>AML</code> 是"YAML Ain't a Markup Language"（<code>YAML</code>
不是一种标记语言）的递归缩写。在开发的这种语言时，<code>YAML</code>
的意思其实是："Yet Another Markup Language"（仍是一种标记语言）。</p>
<p><code>YAML</code> 的语法和其他高级语言类似，
并且可以简单表达清单、散列表， 标量等数据形态。
它使用空白符号缩进和大量依赖外观的特色，
特别适合用来表达或编辑数据结构、各种配置文件、倾印调试内容、文件大纲（例如：许多电子邮件标题格式和<code>YAML</code>非常接近）。</p>
<p><code>YAML</code>常在<code>Linux</code>作为一种配置文件出现，详细使用规则参考：<a
target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote/yaml-intro.html">YAML入门教程</a></p>
<h2 id="shell中解析yaml">Shell中解析YAML</h2>
<p>在 Bash 中直接操作 YAML 需要一点创造性，因为 Bash 没有内置支持解析
YAML。然而，你可以使用外部工具，如
<code>yq</code>（一个轻量级且便携的命令行 YAML 处理器），来高效地与 YAML
文件交互。</p>
<h3 id="安装yaml解析器">安装YAML解析器</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S yq</span><br></pre></td></tr></table></figure>
<p>假设你有一个名为 <code>config.yaml</code> 的文件，内容如下：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">database:</span> </span><br><span class="line">    <span class="attr">host:</span> <span class="string">localhost</span> </span><br><span class="line">    <span class="attr">port:</span> <span class="number">5432</span> </span><br><span class="line"><span class="attr">user:</span> </span><br><span class="line">    <span class="attr">name:</span> <span class="string">admin</span> </span><br><span class="line">    <span class="attr">password:</span> <span class="string">secret</span></span><br></pre></td></tr></table></figure>
<ol type="1">
<li>要读取数据库主机，你可以如下使用 <code>yq</code>：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yq e <span class="string">&#x27;.database.host&#x27;</span> config.yaml</span><br><span class="line">&gt;localhost</span><br></pre></td></tr></table></figure>
<ol start="2" type="1">
<li>要在 <code>config.yaml</code> 中更新用户的名称，使用带
<code>-i</code>（就地）选项的 <code>yq eval</code> 命令：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yq e <span class="string">&#x27;.user.name = &quot;newadmin&quot;&#x27;</span> -i config.yaml</span><br></pre></td></tr></table></figure>
<p>用以下命令验证更改：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yq e <span class="string">&#x27;.user.name&#x27;</span> config.yaml</span><br><span class="line">&gt; newadmin</span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li>要在数据库部分下添加一个新字段 <code>timeout</code>：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yq e <span class="string">&#x27;.database.timeout = 30&#x27;</span> -i config.yaml</span><br></pre></td></tr></table></figure>
<ol start="4" type="1">
<li>要移除用户下的密码：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yq e <span class="string">&#x27;del(.user.password)&#x27;</span> -i config.yaml</span><br></pre></td></tr></table></figure>
<p>此操作将从配置中删除密码字段。</p>
<div class="note primary"><p>记住，<code>yq</code> 是一款强大的工具，具有更多功能，包括将 YAML
转换为 JSON、合并文件，甚至更复杂的操作。请参考 <code>yq</code>
文档以进一步探索。</p>
</div>
<h2 id="参考文章">参考文章</h2>
<ul>
<li><a
target="_blank" rel="noopener" href="https://lyyao09.github.io/2019/08/02/tools/The-usage-of-yq-read-write/">YAML处理工具yq之读写篇</a></li>
<li><a
target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/2357396">linux下轻量级工具：yq（json,yaml）格式转换工具安装和使用</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/mikefarah/yq">yq官网</a></li>
<li><a target="_blank" rel="noopener" href="https://mikefarah.gitbook.io/yq">yq-gitbook</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/24/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><span class="page-number current">25</span><a class="page-number" href="/page/26/">26</a><span class="space">&hellip;</span><a class="page-number" href="/page/56/">56</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/26/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; Sat Sep 03 2022 08:00:00 GMT+0800 (中国标准时间) – 
    <span itemprop="copyrightYear">2026</span>
    <span class="with-love">
      <i class="fa-solid fa-star"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">fengzhenhua</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/fungzhenhua" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://s4.zstatic.net/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://s4.zstatic.net/ajax/libs/pdfobject/2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://s4.zstatic.net/ajax/libs/mermaid/11.4.0/mermaid.min.js","integrity":"sha256-G8ouPAnw4zzMbnAenHnVz6h9XpKbNdOkrqTh7AadyHs="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://s4.zstatic.net/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
