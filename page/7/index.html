<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#9400D3"><meta name="generator" content="Hexo 5.4.2">
<link rel="preconnect" href="https://s4.zstatic.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#9400D3">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":true,"height":500},"bookmark":{"enable":true,"color":"#9400D3","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script>



<link rel="canonical" href="http://example.com/page/7/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/7/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>BNU-FZH</title>
  







<script async src="/lib/fireworks.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">BNU-FZH</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">fengzhenhua@outlook.com</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-导航"><a href="/%E5%AF%BC%E8%88%AA/" rel="section"><i class="fa fa-paper-plane fa-fw"></i>导航</a></li><li class="menu-item menu-item-软件"><a href="/%E8%BD%AF%E4%BB%B6/" rel="section"><i class="fa fa-briefcase fa-fw"></i>软件</a></li><li class="menu-item menu-item-收藏"><a href="/%E6%94%B6%E8%97%8F/" rel="section"><i class="fa fa-folder fa-fw"></i>收藏</a></li><li class="menu-item menu-item-工作"><a href="/%E5%B7%A5%E4%BD%9C/" rel="section"><i class="fa fa-folder fa-fw"></i>工作</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name"></p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">550</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://chat.deepseek.com/" title="深度求索 → https:&#x2F;&#x2F;chat.deepseek.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>深度求索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tongyi.com/" title="通义千问 → https:&#x2F;&#x2F;www.tongyi.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>通义千问</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.scnet.cn/ui/chatbot/" title="国家超算 → https:&#x2F;&#x2F;www.scnet.cn&#x2F;ui&#x2F;chatbot&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>国家超算</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yuanbao.tencent.com/chat" title="腾讯元宝 → https:&#x2F;&#x2F;yuanbao.tencent.com&#x2F;chat" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>腾讯元宝</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/" title="必应搜索 → https:&#x2F;&#x2F;cn.bing.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>必应搜索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.hao268.com/" title="网址之家 → https:&#x2F;&#x2F;www.hao268.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>网址之家</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ac.scmor.com/" title="思谋学术 → https:&#x2F;&#x2F;ac.scmor.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>思谋学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://search.essclick.com/" title="爱思学术 → https:&#x2F;&#x2F;search.essclick.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>爱思学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://scholar.lanfanshu.cn/" title="番薯学术 → https:&#x2F;&#x2F;scholar.lanfanshu.cn&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>番薯学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://xmsoushu.com/" title="熊猫搜书 → https:&#x2F;&#x2F;xmsoushu.com&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>熊猫搜书</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/translator" title="必应翻译 → https:&#x2F;&#x2F;cn.bing.com&#x2F;translator" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>必应翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.baidu.com/#zh/en" title="百度翻译 → https:&#x2F;&#x2F;fanyi.baidu.com&#x2F;#zh&#x2F;en" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>百度翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.youdao.com/?keyfrom=fanyi.logo" title="有道翻译 → https:&#x2F;&#x2F;fanyi.youdao.com&#x2F;?keyfrom&#x3D;fanyi.logo" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>有道翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.oxfordlearnersdictionaries.com/definition/english/" title="牛津翻译 → https:&#x2F;&#x2F;www.oxfordlearnersdictionaries.com&#x2F;definition&#x2F;english&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>牛津翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://tools.liumingye.cn/music/#/" title="音乐下载 → http:&#x2F;&#x2F;tools.liumingye.cn&#x2F;music&#x2F;#&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-music fa-fw"></i>音乐下载</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://wx.qq.com/" title="网页微信 → https:&#x2F;&#x2F;wx.qq.com" rel="noopener me" target="_blank"><i class="fab fa-weixin fa-fw"></i>网页微信</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://login.partner.microsoftonline.cn/" title="微软办公 → https:&#x2F;&#x2F;login.partner.microsoftonline.cn" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软办公</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mathsolver.microsoft.com/" title="微软数学 → https:&#x2F;&#x2F;mathsolver.microsoft.com" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软数学</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.mail.bnu.edu.cn/" title="师大邮箱 → https:&#x2F;&#x2F;www.mail.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>师大邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mail.sina.com.cn/" title="新浪邮箱 → https:&#x2F;&#x2F;mail.sina.com.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>新浪邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://192.168.1.14/" title="实验信息 → http:&#x2F;&#x2F;192.168.1.14&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>实验信息</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.aliyundrive.com/sign/in" title="阿里云盘 → https:&#x2F;&#x2F;www.aliyundrive.com&#x2F;sign&#x2F;in" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>阿里云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yun.139.com/w/#/" title="移动云盘 → https:&#x2F;&#x2F;yun.139.com&#x2F;w&#x2F;#&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>移动云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jianguoyun.com/d/login" title="坚果网盘 → https:&#x2F;&#x2F;www.jianguoyun.com&#x2F;d&#x2F;login" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>坚果网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://efss.qloud.my/index.php/login?clear=1" title="Next云盘 → https:&#x2F;&#x2F;efss.qloud.my&#x2F;index.php&#x2F;login?clear&#x3D;1" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>Next云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.123pan.com/" title="123 网盘 → https:&#x2F;&#x2F;www.123pan.com&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>123 网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://annas-archive.org/" title="安娜档案 → https:&#x2F;&#x2F;annas-archive.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>安娜档案</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://book.sciencereading.cn/" title="科学文库 → https:&#x2F;&#x2F;book.sciencereading.cn" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>科学文库</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ylibrary.org/" title="Ylibrary → https:&#x2F;&#x2F;ylibrary.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Ylibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tboxn.com/sites/320.html" title="Zlibrary → https:&#x2F;&#x2F;www.tboxn.com&#x2F;sites&#x2F;320.html" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Zlibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.koushare.com/" title="蔻享官网 → https:&#x2F;&#x2F;www.koushare.com" rel="noopener me" target="_blank"><i class="fas fa-globe-asia fa-fw"></i>蔻享官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.duolingo.cn/" title="多邻国官 → https:&#x2F;&#x2F;www.duolingo.cn" rel="noopener me" target="_blank"><i class="fas fa-school fa-fw"></i>多邻国官</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.bnu.edu.cn/" title="师大官网 → https:&#x2F;&#x2F;www.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>师大官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://one.bnu.edu.cn/" title="数字京师 → https:&#x2F;&#x2F;one.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>数字京师</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.runoob.com/font-awesome/fontawesome-icons-brand.html" title="图站图标 → https:&#x2F;&#x2F;www.runoob.com&#x2F;font-awesome&#x2F;fontawesome-icons-brand.html" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>图站图标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://shields.io/badges" title="项目微标 → https:&#x2F;&#x2F;shields.io&#x2F;badges" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>项目微标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jd.com/" title="京东购物 → https:&#x2F;&#x2F;www.jd.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cart-shopping fa-fw"></i>京东购物</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.taobao.com/" title="淘宝购物 → https:&#x2F;&#x2F;www.taobao.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cart-shopping fa-fw"></i>淘宝购物</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/" title="LaTeXLiv → https:&#x2F;&#x2F;www.latexlive.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXLiv</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/help" title="LaTeXHel → https:&#x2F;&#x2F;www.latexlive.com&#x2F;help" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXHel</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://p2t.breezedeus.com/" title="Pix2Text → https:&#x2F;&#x2F;p2t.breezedeus.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Pix2Text</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://simpletex.cn/" title="Simplete → https:&#x2F;&#x2F;simpletex.cn" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Simplete</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/02/18/%E4%BB%8E%E6%95%B0%E5%80%BC%E6%96%B9%E6%B3%95%E5%88%B0%E9%9A%90%E5%BC%8F%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/02/18/%E4%BB%8E%E6%95%B0%E5%80%BC%E6%96%B9%E6%B3%95%E5%88%B0%E9%9A%90%E5%BC%8F%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">从数值方法到隐式蒙特卡洛方法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-18 16:49:16" itemprop="dateCreated datePublished" datetime="2025-02-18T16:49:16+08:00">2025-02-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>隐式（Implicit）这一概念在不同的领域有着不同的应用和含义，但总体来说，它指的是那些依赖于未来状态或间接定义的过程，而不是直接明确地给出解决方案。下面我们将从数值分析、编程及隐式蒙特卡洛方法三个角度来探讨隐式的含义。</p>
<h2 id="数值分析中的隐式方法">数值分析中的隐式方法</h2>
<h3 id="定义与对比">定义与对比</h3>
<p>在数值分析中，特别是在解决微分方程时，隐式方法是指那些在计算下一个时间步的解时需要用到该时间步未知解的方法。这意味着为了求得下一时刻的状态，我们需要通过求解一个方程组来获得结果，因为方程中包含了待求解的变量。</p>
<ul>
<li><p><strong>显式方法</strong>：基于当前已知的信息预测下一时间步的状态。例如，在向前欧拉法中，我们利用当前时刻的状态直接计算出下一时刻的状态。</p></li>
<li><p><strong>隐式方法</strong>：考虑了未来时间点的信息。例如，在向后欧拉法中，为了确定下一时刻的状态，不仅需要当前时刻的状态信息，还需要该状态自身的未来值。这就导致了需要求解一个包含未知数的方程来找到确切的值。隐式方法的一个主要优点是可以使用较大的时间步长而不牺牲稳定性，特别适用于处理刚性问题。</p></li>
</ul>
<h2 id="编程中的隐式">编程中的隐式</h2>
<p>在编程领域，“隐式”通常指不需要开发者直接指定所有细节的行为。这些行为由编译器、解释器或其他机制自动推断或执行。</p>
<ul>
<li><p><strong>隐式类型转换</strong>：比如在某些语言中，当两个不同类型的数值进行运算时，可能会自动将一种类型转换为另一种类型以完成操作，而无需程序员手动指定转换过程。例如，在JavaScript中，数字和字符串可以直接相加，其中数字会自动转换为字符串再进行连接。</p></li>
<li><p><strong>隐式函数声明</strong>：在一些编程语言中，如果函数没有预先声明，编译器或解释器会根据函数调用的方式自动为其生成一个默认的声明。</p></li>
</ul>
<h2 id="隐式蒙特卡洛方法">隐式蒙特卡洛方法</h2>
<p>隐式蒙特卡洛（Implicit Monte Carlo,
IMC）是一种专门设计用来解决辐射传输问题的高级蒙特卡洛技术。IMC方法通过引入隐式时间离散化，显著提升了数值模拟的稳定性和准确性，尤其适用于处理复杂的辐射与物质相互作用问题。</p>
<ul>
<li><p><strong>传统蒙特卡洛方法</strong>：粒子（如光子）的轨迹是根据当前物理状态逐次随机抽样得到的。这种方法对于线性问题非常有效，但在处理非线性问题时可能遇到困难。</p></li>
<li><p><strong>隐式蒙特卡洛方法</strong>：通过对粒子行为的概率分布进行调整，使得计算过程能够更准确地反映真实的物理过程。具体来说，IMC通过考虑未来时间点的状态信息，即在计算下一时刻的状态时，不仅依赖于当前已知的信息，还考虑到该状态自身的未来值，从而提高了计算的稳定性和准确性。</p></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/02/18/%E4%BD%BF%E7%94%A8%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%96%B9%E6%B3%95%E6%B1%82%E8%A7%A3%E5%AE%9A%E7%A7%AF%E5%88%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/02/18/%E4%BD%BF%E7%94%A8%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%96%B9%E6%B3%95%E6%B1%82%E8%A7%A3%E5%AE%9A%E7%A7%AF%E5%88%86/" class="post-title-link" itemprop="url">使用蒙特卡洛方法求解定积分</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-18 14:15:10" itemprop="dateCreated datePublished" datetime="2025-02-18T14:15:10+08:00">2025-02-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="基本原理">基本原理</h1>
<p>蒙特卡洛方法求解定积分的理论依据是积分中值定理和大数定理。即</p>
<p><span
class="math display">\[\int_a^bf(x)dx=f(\xi)\cdot(b-a)\]</span></p>
<p>其中<span class="math inline">\(a\leq\xi\leq b\)</span>.
蒙特卡洛方法是随机在<span
class="math inline">\((a,b)\)</span>区间取点，然后将这个点当作<span
class="math inline">\(\xi\)</span>来计算面积，但是由于点<span
class="math inline">\(\xi\)</span>当前是随机的，这个积分值就不是准确的，但是当大量取点时，由于函数<span
class="math inline">\(f(x)\)</span>本身的作用，根据大数定量最终会稳定到准确值的附近，因为接近真实值的情况出现的概率更大。</p>
<h1 id="一维函数的定积分">一维函数的定积分</h1>
<p>假设我们想要计算如下函数在区间 <span class="math inline">\([0,
1]\)</span> 上的积分:</p>
<p><span class="math display">\[\int_0^1x^2dx\]</span></p>
<p>该积分的解析解是<span class="math inline">\(\frac{1}{3}\)</span>.
使用Python代码实现蒙特卡洛积分的代码为:</p>
<figure class="highlight python"><figcaption><span>一维函数积分</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">monte_carlo_integral</span>(<span class="params">f, a, b, N</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    使用蒙特卡洛方法估计函数f在[a,b]上的积分。</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    参数:</span></span><br><span class="line"><span class="string">        f: 要积分的函数。</span></span><br><span class="line"><span class="string">        a (float): 积分下限。</span></span><br><span class="line"><span class="string">        b (float): 积分上限。</span></span><br><span class="line"><span class="string">        N (int): 随机样本的数量。</span></span><br><span class="line"><span class="string">    返回:</span></span><br><span class="line"><span class="string">        float: 积分的蒙特卡洛估计值。</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    samples = np.random.uniform(a, b, N)  <span class="comment"># 在[a, b]上生成N个均匀分布的随机数</span></span><br><span class="line">    evaluations = f(samples)  <span class="comment"># 计算每个随机样本点处函数的值</span></span><br><span class="line">    integral_estimate = (b - a) * np.mean(evaluations)  <span class="comment"># 积分估计</span></span><br><span class="line">    <span class="keyword">return</span> integral_estimate</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义要积分的函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> x**<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行蒙特卡洛积分</span></span><br><span class="line">a, b = <span class="number">0</span>, <span class="number">1</span>  <span class="comment"># 积分范围</span></span><br><span class="line">N = <span class="number">100000</span>   <span class="comment"># 样本数量</span></span><br><span class="line">integral = monte_carlo_integral(f, a, b, N)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;蒙特卡洛积分估计值: <span class="subst">&#123;integral&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;真实值: <span class="subst">&#123;<span class="number">1</span>/<span class="number">3</span>&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
<h1 id="二维函数的定积分">二维函数的定积分</h1>
<p>二维函数的定积分同样也满足积分中值定理，所以蒙特卡洛方法是求解定积分的有效工具。本节我们求解定义在<span
class="math inline">\([0,1]\times[0,1]\)</span>上的二重积分:</p>
<p><span
class="math display">\[\iint_{[0,1]\times[0,1]]}(x^2+y^2)dxdy\]</span></p>
<p>该积分的解可以直接解析求得为<span
class="math inline">\(\frac{2}{3}\)</span>. 其 Python 代码实现为:</p>
<figure class="highlight python"><figcaption><span>二维函数定积分</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">monte_carlo_double_integral</span>(<span class="params">f, a1, b1, a2, b2, N</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    使用蒙特卡洛方法估计函数f在[a1,b1] x [a2,b2]上的二重积分。</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    参数:</span></span><br><span class="line"><span class="string">        f: 要积分的函数，接受两个参数x和y。</span></span><br><span class="line"><span class="string">        a1, b1 (float): 第一维的积分下限和上限。</span></span><br><span class="line"><span class="string">        a2, b2 (float): 第二维的积分下限和上限。</span></span><br><span class="line"><span class="string">        N (int): 随机样本的数量。</span></span><br><span class="line"><span class="string">    返回:</span></span><br><span class="line"><span class="string">        float: 积分的蒙特卡洛估计值。</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 在[a1, b1]和[a2, b2]上生成N个均匀分布的随机数对</span></span><br><span class="line">    x_samples = np.random.uniform(a1, b1, N)</span><br><span class="line">    y_samples = np.random.uniform(a2, b2, N)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 计算每个随机样本点处函数的值</span></span><br><span class="line">    evaluations = f(x_samples, y_samples)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 积分估计</span></span><br><span class="line">    area = (b1 - a1) * (b2 - a2)</span><br><span class="line">    integral_estimate = area * np.mean(evaluations)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> integral_estimate</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义要积分的函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">integrand</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="keyword">return</span> x**<span class="number">2</span> + y**<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行蒙特卡洛二重积分</span></span><br><span class="line">a1, b1 = <span class="number">0</span>, <span class="number">1</span>  <span class="comment"># 第一维积分范围</span></span><br><span class="line">a2, b2 = <span class="number">0</span>, <span class="number">1</span>  <span class="comment"># 第二维积分范围</span></span><br><span class="line">N = <span class="number">100000</span>     <span class="comment"># 样本数量</span></span><br><span class="line"></span><br><span class="line">integral = monte_carlo_double_integral(integrand, a1, b1, a2, b2, N)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;蒙特卡洛积分估计值: <span class="subst">&#123;integral&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;真实值: <span class="subst">&#123;<span class="number">2</span>/<span class="number">3</span>&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
<div class="note primary"><p>通过增加样本数量
<code>N</code>，可以提高积分估计的精度。尽管对于这个简单的二重积分问题，传统数值积分方法可能更高效且准确，但对于更高维度或复杂形状的积分区域，蒙特卡洛方法就显得尤为重要了。这种方法提供了一种通用的方法来解决那些难以通过常规手段求解的积分问题。</p>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/02/18/%E4%BD%BF%E7%94%A8%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%96%B9%E6%B3%95%E6%B1%82%E8%A7%A3%E4%B8%80%E9%98%B6%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/02/18/%E4%BD%BF%E7%94%A8%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%96%B9%E6%B3%95%E6%B1%82%E8%A7%A3%E4%B8%80%E9%98%B6%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B/" class="post-title-link" itemprop="url">使用蒙特卡洛方法求解一阶微分方程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-18 13:43:16" itemprop="dateCreated datePublished" datetime="2025-02-18T13:43:16+08:00">2025-02-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1
id="使用蒙特卡洛方法求解一阶线性常微分方程">使用蒙特卡洛方法求解一阶线性常微分方程</h1>
<p>在这个例子中，我们将展示如何使用蒙特卡洛方法来近似求解一个简单的一阶线性常微分方程，并与解析解进行比较。</p>
<h2 id="问题描述">问题描述</h2>
<p>考虑如下形式的初值问题：</p>
<p><span class="math display">\[\frac{dy}{dx}=-2xy,\quad y(0)=
1\]</span></p>
<p>其解析解为 <span class="math inline">\(y(x) =
e^{-x^2}\)</span>。我们将使用蒙特卡洛方法来近似这个解。</p>
<h2 id="python代码实现">Python代码实现</h2>
<p>以下是基于Python的简单实现，演示了如何使用蒙特卡洛方法来近似上述问题的解：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">monte_carlo_ode_solver</span>(<span class="params">f, x0, y0, x_end, num_samples=<span class="number">1000</span>, dx=<span class="number">0.05</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    使用蒙特卡洛方法求解一阶常微分方程。</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    参数:</span></span><br><span class="line"><span class="string">        f: 函数，定义了dy/dx = f(x, y)</span></span><br><span class="line"><span class="string">        x0 (float): 初始x值。</span></span><br><span class="line"><span class="string">        y0 (float): 初始y值。</span></span><br><span class="line"><span class="string">        x_end (float): x的最大值。</span></span><br><span class="line"><span class="string">        num_samples (int): 每一步中使用的样本数量。</span></span><br><span class="line"><span class="string">        dx (float): x方向上的步长。</span></span><br><span class="line"><span class="string">    返回:</span></span><br><span class="line"><span class="string">        x_points (numpy.ndarray): x坐标点。</span></span><br><span class="line"><span class="string">        y_estimated (numpy.ndarray): 对应每个x点估计的y值。</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    x_points = np.arange(x0, x_end+dx, dx)</span><br><span class="line">    y_estimated = np.zeros_like(x_points)</span><br><span class="line">    y_estimated[<span class="number">0</span>] = y0  <span class="comment"># 设置初始条件</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(x_points)):</span><br><span class="line">        current_x = x_points[i-<span class="number">1</span>]</span><br><span class="line">        current_y = y_estimated[i-<span class="number">1</span>]</span><br><span class="line">        </span><br><span class="line">        dy_samples = []</span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(num_samples):</span><br><span class="line">            <span class="comment"># 随机扰动dx</span></span><br><span class="line">            delta_x = dx * (np.random.rand() - <span class="number">0.5</span>)</span><br><span class="line">            <span class="comment"># 根据当前点的斜率计算dy</span></span><br><span class="line">            delta_y = f(current_x, current_y) * (dx + delta_x)</span><br><span class="line">            dy_samples.append(delta_y)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 计算平均dy并更新y值</span></span><br><span class="line">        avg_dy = np.mean(dy_samples)</span><br><span class="line">        y_estimated[i] = current_y + avg_dy</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> x_points, y_estimated</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义导数函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">2</span> * x * y</span><br><span class="line"></span><br><span class="line"><span class="comment"># 运行求解器</span></span><br><span class="line">x, y_mc = monte_carlo_ode_solver(f, x0=<span class="number">0</span>, y0=<span class="number">1</span>, x_end=<span class="number">2</span>, num_samples=<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算真实解用于比较</span></span><br><span class="line">y_true = np.exp(-x**<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制结果</span></span><br><span class="line">plt.plot(x, y_mc, label=<span class="string">&#x27;Monte Carlo Approximation&#x27;</span>)</span><br><span class="line">plt.plot(x, y_true, label=<span class="string">&#x27;True Solution&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show() </span><br></pre></td></tr></table></figure>
<h2 id="分析">分析</h2>
<p>在使用蒙特卡洛方法求解微分方程时，最关键的一步是
<code>delta_x = dx * (np.random.rand() - 0.5)</code>,
这表示对于步长<span
class="math inline">\(dx\)</span>在其中心附近扰动，并且保存每次扰动的所造成的<span
class="math inline">\(dy\)</span>值，当完成大量的数据采样时，根据大数定理，<span
class="math inline">\(dy\)</span>值会稳定到真实的<span
class="math inline">\(dy\)</span>的情况。进一步将此值追加到<span
class="math inline">\(y\)</span>，同时<span
class="math inline">\(dx\)</span>追加到<span
class="math inline">\(x\)</span>后，再进行下一个点的判断。所以蒙特卡洛方法基于大数定理是一个有效的方法。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/02/18/%E4%BD%BF%E7%94%A8%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%96%B9%E6%B3%95%E8%AE%A1%E7%AE%97%E5%9C%86%E5%91%A8%E7%8E%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/02/18/%E4%BD%BF%E7%94%A8%E8%92%99%E7%89%B9%E5%8D%A1%E6%B4%9B%E6%96%B9%E6%B3%95%E8%AE%A1%E7%AE%97%E5%9C%86%E5%91%A8%E7%8E%87/" class="post-title-link" itemprop="url">使用蒙特卡洛方法计算圆周率</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-18 10:38:17" itemprop="dateCreated datePublished" datetime="2025-02-18T10:38:17+08:00">2025-02-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="使用蒙特卡洛方法估算圆周率">使用蒙特卡洛方法估算圆周率</h1>
<p>在这篇博客文章中，我们将探讨如何使用蒙特卡洛方法来估算圆周率 <span
class="math inline">\(\pi\)</span>
的值，并提供一个简单的Python代码示例以及详细的代码解析。</p>
<h2 id="蒙特卡洛方法简介">蒙特卡洛方法简介</h2>
<p>蒙特卡洛方法是一种通过随机抽样进行数值计算的方法。它广泛应用于物理、工程、金融等领域。本文将演示如何利用这种方法估算圆周率
<span class="math inline">\(\pi\)</span>。</p>
<h2 id="python代码实现与解析">Python代码实现与解析</h2>
<h3 id="完整代码及解析">完整代码及解析</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入random模块，用于生成伪随机数</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义函数estimate_pi，接受参数num_samples表示要生成的随机点的数量</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">estimate_pi</span>(<span class="params">num_samples</span>):</span><br><span class="line">    <span class="comment"># 初始化计数器变量num_points_in_circle为0，用于记录落在单位圆内的点的数量</span></span><br><span class="line">    num_points_in_circle = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 使用for循环迭代num_samples次，下划线_表示我们不关心循环变量的具体值</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(num_samples):</span><br><span class="line">        <span class="comment"># 在每次循环中，使用random.uniform(-1, 1)生成两个介于-1到1之间的随机浮点数，分别赋给变量x和y</span></span><br><span class="line">        x, y = random.uniform(-<span class="number">1</span>, <span class="number">1</span>), random.uniform(-<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">        <span class="comment"># 如果该点位于半径为1的单位圆内（即检查x^2 + y^2 &lt;= 1），则增加num_points_in_circle计数器的值</span></span><br><span class="line">        <span class="keyword">if</span> x**<span class="number">2</span> + y**<span class="number">2</span> &lt;= <span class="number">1</span>:</span><br><span class="line">            num_points_in_circle += <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 根据公式4 * num_points_in_circle / num_samples来估算π的值</span></span><br><span class="line">    pi_estimate = <span class="number">4</span> * num_points_in_circle / num_samples</span><br><span class="line">    <span class="comment"># 返回计算出的π的估计值</span></span><br><span class="line">    <span class="keyword">return</span> pi_estimate</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置模拟次数为100,000</span></span><br><span class="line">num_samples = <span class="number">100000</span></span><br><span class="line"><span class="comment"># 调用estimate_pi函数获取π的估计值</span></span><br><span class="line">pi_estimate = estimate_pi(num_samples)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果，显示使用了多少个样本以及基于这些样本估计得到的π的值</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Estimated value of Pi using <span class="subst">&#123;num_samples&#125;</span> samples: <span class="subst">&#123;pi_estimate&#125;</span>&quot;</span>) </span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/02/16/%E8%A7%A3%E5%86%B3ArchLinux%E4%B8%8EWindows11%E5%8F%8C%E7%B3%BB%E7%BB%9F%E5%88%87%E6%8D%A2%E5%90%8E%E6%97%A0%E7%BA%BF%E7%BD%91%E5%8D%A1%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/02/16/%E8%A7%A3%E5%86%B3ArchLinux%E4%B8%8EWindows11%E5%8F%8C%E7%B3%BB%E7%BB%9F%E5%88%87%E6%8D%A2%E5%90%8E%E6%97%A0%E7%BA%BF%E7%BD%91%E5%8D%A1%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">解决ArchLinux与Windows11双系统切换后无线网卡无法启动的问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-16 17:14:52" itemprop="dateCreated datePublished" datetime="2025-02-16T17:14:52+08:00">2025-02-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>当用户从Windows 10/11切换到Arch
Linux时，如果发现无线网卡不见了，这通常是由于Windows的快速启动特性导致的。快速启动会使得某些硬件（如无线网卡）处于一种休眠状态，这样当你切换到Linux系统时，这些硬件可能不会被正确唤醒。</p>
<h1 id="解决方案">解决方案</h1>
<ul>
<li><p><strong>对于双系统的用户</strong>：建议去Windows那边执行一次真正的重启（而不是简单地关机再开机），因为Windows的“关机”选项实际上可能是快速启动，它并不会完全关闭计算机而是让系统进入一个类似休眠的状态。通过在Windows中选择“重启”，可以确保所有设备都被正确重置，包括无线网卡。</p>
<ul>
<li>进入Windows，然后点击“重启”而非“关机”。这通常能解决无线网卡在Linux中不显示的问题。</li>
</ul></li>
<li><p><strong>对于只有Arch
Linux的用户</strong>：如果您的机器只安装了Arch
Linux并且也遇到了同样的问题，那么问题的原因可能与其他因素有关，比如驱动程序、内核版本或者是电源管理设置等。需要进一步检查系统日志或尝试更新系统及固件。</p></li>
<li><p><strong>一劳永逸的解决方案</strong>：虽然通过重启Windows可以暂时解决问题，但为了从根本上避免这种情况的发生，您可以考虑在Windows中禁用快速启动功能。这样每次从Windows切换到Linux时都不会受到快速启动的影响，从而避免无线网卡无法被识别的问题。</p>
<ul>
<li>在管理员命令提示符窗口，输入：<code>powercfg /h on</code>命令,启用Windows快速启动；</li>
<li>输入：<code>powercfg /h off</code>命令,
关闭<code>Windows</code>快速启动。</li>
</ul></li>
</ul>
<div class="note primary"><p>综上所述，针对（Arch Linux + Windows
11），最直接有效的解决办法是通过Windows进行一次真正的重启来唤醒无线网卡。同时，考虑到长期使用的便利性，建议您在Windows中禁用快速启动功能。</p>
</div>
<h1 id="参考文章">参考文章</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://bbs.archlinuxcn.org/viewtopic.php?id=10875">Arch
Linux中文论坛讨论</a></li>
<li><a
target="_blank" rel="noopener" href="https://baijiahao.baidu.com/s?id=1785808633144735310">如何关闭或禁用Windows
10或11的快速启动！</a></li>
<li><a
target="_blank" rel="noopener" href="https://jingyan.baidu.com/article/9faa72318667aa473c28cbe6.html">Windows10系统启用和关闭快速启动的两种方法</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/02/10/Mandelbrot%E9%9B%86%E7%94%9F%E6%88%90%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/02/10/Mandelbrot%E9%9B%86%E7%94%9F%E6%88%90%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F/" class="post-title-link" itemprop="url">Mandelbrot集生成的两种方式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-10 16:22:12" itemprop="dateCreated datePublished" datetime="2025-02-10T16:22:12+08:00">2025-02-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="mandelbrot-集简介">Mandelbrot 集简介</h1>
<p>Mandelbrot
集是数学中一个非常著名的分形集合，它以法国数学家本华·曼德勃罗的名字命名。分形是一种具有自相似性质的几何形状，意味着无论放大多少倍，其部分看起来与整体相似。
Mandelbrot
集正是这种特性的典型代表，并且因其复杂而美丽的图形成为了计算机图形学、艺术以及数学研究中的重要主题。</p>
<p>Mandelbrot 集定义于复数平面上，由所有不使序列 $ z_{n+1} = z_n^2 + c $
发散至无穷大的点 $ c $ 组成，其中 $ z_0 = 0
$。换句话说，对于每一个位于复数平面上的点 $ c $，从 $ z=0 $
开始应用上述迭代公式，如果该序列保持有界，则点 $ c $ 属于 Mandelbrot
集；反之，如果序列趋向于无穷大，则该点不属于此集合。通常情况下，为了判断一个点是否属于
Mandelbrot
集，会设定一个最大迭代次数和逃逸半径（通常是2），如果在达到最大迭代次数前，序列的模超过了逃逸半径，则认为该点发散。</p>
<h1 id="直接实现方式">直接实现方式</h1>
<figure class="highlight python"><figcaption><span>直接保存为csv文件</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! /usr/bin/env python3</span></span><br><span class="line"><span class="comment"># vim:fenc=utf-8</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># Mandelbrot Set参数</span></span><br><span class="line">picname = <span class="string">&quot;Mandelbrot&quot;</span></span><br><span class="line">file_name = <span class="string">f&quot;<span class="subst">&#123;picname&#125;</span>.csv&quot;</span></span><br><span class="line">width, height = <span class="number">1000</span>, <span class="number">1000</span>  <span class="comment"># 图像的宽度和高度</span></span><br><span class="line">max_iter = <span class="number">100</span>  <span class="comment"># 最大迭代次数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">mandelbrot_set</span>(<span class="params">width, height, max_iter</span>):</span><br><span class="line">    x = np.linspace(-<span class="number">2.5</span>, <span class="number">1.5</span>, width)</span><br><span class="line">    y = np.linspace(-<span class="number">2</span>, <span class="number">2</span>, height)</span><br><span class="line">    escape_time = np.zeros((height, width))  <span class="comment"># 注意这里的维度顺序</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(width):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(height):</span><br><span class="line">            c = <span class="built_in">complex</span>(x[i], y[j])</span><br><span class="line">            z = <span class="number">0</span></span><br><span class="line">            n = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> <span class="built_in">abs</span>(z) &lt;= <span class="number">2</span> <span class="keyword">and</span> n &lt; max_iter:</span><br><span class="line">                z = z*z + c</span><br><span class="line">                n += <span class="number">1</span></span><br><span class="line">            escape_time[j, i] = n  <span class="comment"># 根据像素位置更新逃逸时间</span></span><br><span class="line">            </span><br><span class="line">    <span class="keyword">return</span> x, y, escape_time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算Mandelbrot集</span></span><br><span class="line">x_coords, y_coords, escape_time = mandelbrot_set(width, height, max_iter)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将结果保存为适合Veusz导入的格式</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(file_name, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    <span class="comment"># 写入X坐标行</span></span><br><span class="line">    file.write(<span class="string">&#x27;,&#x27;</span> + <span class="string">&#x27;,&#x27;</span>.join(<span class="built_in">map</span>(<span class="built_in">str</span>, x_coords)) + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(escape_time.shape[<span class="number">0</span>]):</span><br><span class="line">        <span class="comment"># 写入每行的数据，先写Y坐标，然后是该行的逃逸时间值</span></span><br><span class="line">        file.write(<span class="built_in">str</span>(y_coords[j]) + <span class="string">&#x27;,&#x27;</span> + <span class="string">&#x27;,&#x27;</span>.join(<span class="built_in">map</span>(<span class="built_in">str</span>, escape_time[j])) + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Mandelbrot集已成功保存到<span class="subst">&#123;file_name&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
<h1 id="使用-pandas-库保存数据">使用 Pandas 库保存数据</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! /usr/bin/env python3</span></span><br><span class="line"><span class="comment"># vim:fenc=utf-8</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">mandelbrot</span>(<span class="params">c, max_iter</span>):</span><br><span class="line">    z = <span class="number">0</span></span><br><span class="line">    n = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">abs</span>(z) &lt;= <span class="number">2</span> <span class="keyword">and</span> n &lt; max_iter:</span><br><span class="line">        z = z*z + c</span><br><span class="line">        n += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">mandelbrot_set</span>(<span class="params">xmin, xmax, ymin, ymax, width, height, max_iter</span>):</span><br><span class="line">    r1 = np.linspace(xmin, xmax, width)</span><br><span class="line">    r2 = np.linspace(ymin, ymax, height)</span><br><span class="line">    m = np.empty((width,height))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(width):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(height):</span><br><span class="line">            m[i,j] = mandelbrot(r1[i] + <span class="number">1j</span>*r2[j], max_iter)</span><br><span class="line">    <span class="keyword">return</span> m, r1, r2  <span class="comment"># 返回m以及对应的x和y坐标值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置参数并生成Mandelbrot集合</span></span><br><span class="line">xmin, xmax, ymin, ymax = -<span class="number">2.0</span>, <span class="number">1.0</span>, -<span class="number">1.5</span>, <span class="number">1.5</span></span><br><span class="line">width, height = <span class="number">800</span>, <span class="number">800</span></span><br><span class="line">max_iter = <span class="number">256</span></span><br><span class="line"></span><br><span class="line">m, r1, r2 = mandelbrot_set(xmin, xmax, ymin, ymax, width, height, max_iter)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示图像（可选）</span></span><br><span class="line"><span class="comment"># plt.imshow(m.T, extent=[xmin, xmax, ymin, ymax], cmap=&#x27;hot&#x27;, interpolation=&#x27;bilinear&#x27;)</span></span><br><span class="line"><span class="comment"># plt.colorbar()</span></span><br><span class="line"><span class="comment"># plt.title(&quot;Mandelbrot Set&quot;)</span></span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将结果保存为CSV文件</span></span><br><span class="line"><span class="comment"># 创建一个列表来保存数据点</span></span><br><span class="line">data_points = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(width):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(height):</span><br><span class="line">        data_points.append([r1[i], r2[j], m[i, j]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用pandas DataFrame保存数据</span></span><br><span class="line">df = pd.DataFrame(data_points, columns=[<span class="string">&#x27;Re&#x27;</span>, <span class="string">&#x27;Im&#x27;</span>, <span class="string">&#x27;Iteration&#x27;</span>])</span><br><span class="line">df.to_csv(<span class="string">&#x27;mandelbrot_set.csv&#x27;</span>, index=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Mandelbrot集合已成功保存至mandelbrot_set.csv&quot;</span>)</span><br></pre></td></tr></table></figure>
<h1 id="pandas-保存数据与直接保存数据的不同">Pandas
保存数据与直接保存数据的不同</h1>
<p>在处理和存储数据时，使用Pandas的<code>DataFrame</code>来保存数据与直接保存数据（例如将数据保存为纯文本、CSV文件等）有着显著的区别。以下是这两种方法的主要不同点：</p>
<h2 id="使用-pandas-dataframe保存数据">使用 Pandas
<code>DataFrame</code>保存数据</h2>
<h3 id="结构化存储">结构化存储</h3>
<ul>
<li><strong>表格形式</strong>：<code>DataFrame</code>提供了一个二维表格结构，支持行和列标签，并允许每列有不同的数据类型。</li>
<li><strong>强大的数据操作能力</strong>：内置了丰富的函数用于数据清洗、转换、筛选、聚合等高级功能。</li>
</ul>
<h3 id="索引和标签支持">索引和标签支持</h3>
<ul>
<li><strong>灵活访问</strong>：可以通过列名、行位置或布尔索引来选取子集，便于快速定位所需信息。</li>
<li><strong>多级索引</strong>：支持复杂的索引机制，使得数据管理和查询更加灵活。</li>
</ul>
<h3 id="缺失值处理">缺失值处理</h3>
<ul>
<li><strong>自动管理缺失数据</strong>：通过<code>NaN</code>表示缺失值，并提供了多种方法来清理或填补这些缺失值。</li>
</ul>
<h3 id="数据可视化和分析集成">数据可视化和分析集成</h3>
<ul>
<li><strong>与其他库的良好集成</strong>：可以方便地与NumPy、Matplotlib、Seaborn等科学计算和可视化库结合使用，增强数据分析能力。</li>
</ul>
<h2 id="直接保存数据">直接保存数据</h2>
<h3 id="简单的数据格式">简单的数据格式</h3>
<ul>
<li><strong>通用性高</strong>：直接存储的数据通常保存为原始格式，如CSV、TXT、JSON等，适合于结构相对简单、规模较小的数据集。</li>
<li><strong>轻量级</strong>：这种保存方式不依赖于外部库，适合需要跨平台使用的场景。</li>
</ul>
<h3 id="有限的数据处理能力">有限的数据处理能力</h3>
<ul>
<li><strong>缺乏高级特性</strong>：直接存储的数据没有内置的数据处理功能，如果需要进行数据处理，则需编写额外的代码或使用其他工具。</li>
<li><strong>基础操作</strong>：虽然可以直接读写数据，但复杂的数据操作如过滤、分组、聚合等需要额外的努力来实现。</li>
</ul>
<h3 id="通用性和可移植性">通用性和可移植性</h3>
<ul>
<li><strong>易于分享</strong>：由于直接存储的数据格式通常是通用的，因此可以在不同的编程语言和环境中读取和写入，增加了跨平台使用的便利性。</li>
</ul>
<p>总的来说，选择哪种方式取决于具体的应用需求和数据特点。<code>DataFrame</code>
提供了一种更为强大和灵活的方式来存储和处理数据，特别适用于复杂的数据分析任务；而直接保存数据更适合于简单场景，或者当你需要一种轻量级、跨平台的数据交换方式时。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/02/10/%E4%BB%8EJulia%E9%9B%86%E7%9A%84%E7%94%9F%E6%88%90%E7%9C%8Bcsv%E4%BA%8C%E7%BB%B4%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/02/10/%E4%BB%8EJulia%E9%9B%86%E7%9A%84%E7%94%9F%E6%88%90%E7%9C%8Bcsv%E4%BA%8C%E7%BB%B4%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="post-title-link" itemprop="url">从Julia集的生成看csv二维数据结构</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-10 10:52:56" itemprop="dateCreated datePublished" datetime="2025-02-10T10:52:56+08:00">2025-02-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="julia-集简介">Julia 集简介</h1>
<p>朱利亚集是分形几何中的一个重要概念，由法国数学家加斯东·朱利亚研究得出，通过迭代复数平面上的函数
<span class="math inline">\(f_c(z) = z^2 + c\)</span> 来定义，其中 <span
class="math inline">\(c\)</span> 为固定的复数参数。对于每一个给定的
<span class="math inline">\(c\)</span> 值，从任意初始点 <span
class="math inline">\(z_0\)</span> 开始进行迭代，如果序列 <span
class="math inline">\({zn}\)</span>
保持有界，则初始点属于该朱利亚集；反之，若序列趋向无穷大，则初始点不属于此集。这些集合并呈现出高度复杂和自相似的边界，其形态随不同的
<span class="math inline">\(c\)</span>
值变化，从连通区域到复杂的尘埃状分布不等，展现了丰富的几何结构和美丽的图案，既是数学研究的对象，也是艺术创作的源泉。</p>
<p>通过计算机绘制 Julia 集，需要指定一个 <span
class="math inline">\(c\)</span> 值， 然后取一个复平面上的一个区域 <span
class="math inline">\(A\)</span>， 对于此区域内的每一点按<span
class="math inline">\(f(z)\)</span>进行迭代, 同时设置一个最大迭代次数
<span class="math inline">\(N\)</span> 和逃逸半径 <span
class="math inline">\(R\)</span>. 对于复平面内的点如果<span
class="math inline">\(|z|&gt;R\)</span>, 则取强度为<span
class="math inline">\(0\)</span>; 如果 <span
class="math inline">\(|z|&lt;R\)</span>, 则使用 <span
class="math inline">\(f(z)\)</span> 迭代， 当迭代 <span
class="math inline">\(m\)</span> 次后点 <span
class="math inline">\(|z_m|&gt;R\)</span>, 则取强度为<span
class="math inline">\(m\)</span>, 如果迭代<span
class="math inline">\(N\)</span>次后仍然不满足<span
class="math inline">\(|z_N|&gt;R\)</span>, 则取强度为<span
class="math inline">\(N\)</span>. 如此操作后，对于复平面区域<span
class="math inline">\(A\)</span>内的每一点都赋予一个强度值，然后输出为
csv 的2D数据，按强度上色就构成了一个 Julia 集的图形显示。</p>
<h1 id="代码分析">代码分析</h1>
<h2 id="声明脚本为-python3-用-utf-8-编码">声明脚本为 python3 , 用 utf-8
编码</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! /usr/bin/env python3</span></span><br><span class="line"><span class="comment"># vim:fenc=utf-8</span></span><br></pre></td></tr></table></figure>
<h2 id="调用-numpy-库-同时设置初值-c-并定义保存文件的名称-picname">调用
numpy 库, 同时设置初值 c, 并定义保存文件的名称 picname</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">c = <span class="built_in">complex</span>(-<span class="number">0.70176</span>, -<span class="number">0.3842</span>)</span><br><span class="line">picname = <span class="string">&quot;Nebula&quot;</span></span><br><span class="line">file_name = <span class="string">f&quot;<span class="subst">&#123;picname&#125;</span>.csv&quot;</span></span><br><span class="line">width, height = <span class="number">1000</span>, <span class="number">1000</span>  <span class="comment"># 图像的宽度和高度</span></span><br><span class="line">max_iter = <span class="number">100</span>  <span class="comment"># 最大迭代次数</span></span><br></pre></td></tr></table></figure>
<h2 id="绘制程序">绘制程序</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">julia_set</span>(<span class="params">c, width, height, max_iter</span>):</span><br><span class="line">    x = np.linspace(-<span class="number">2</span>, <span class="number">2</span>, width)</span><br><span class="line">    y = np.linspace(-<span class="number">2</span>, <span class="number">2</span>, height)</span><br><span class="line">    escape_time = np.zeros((height, width))  <span class="comment"># 注意这里的维度顺序</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(width):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(height):</span><br><span class="line">            z = <span class="built_in">complex</span>(x[i], y[j])</span><br><span class="line">            n = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> <span class="built_in">abs</span>(z) &lt;= <span class="number">2</span> <span class="keyword">and</span> n &lt; max_iter:</span><br><span class="line">                z = z*z + c</span><br><span class="line">                n += <span class="number">1</span></span><br><span class="line">            escape_time[j, i] = n  <span class="comment"># 根据像素位置更新逃逸时间</span></span><br><span class="line">            </span><br><span class="line">    <span class="keyword">return</span> x, y, escape_time</span><br></pre></td></tr></table></figure>
<p>上述程序中：</p>
<ul>
<li>第1行：定义程序<code>julia_set</code>,
并设置了四个参数<code>c</code>, <code>width</code>, <code>height</code>
和 <code>max_iter</code>.</li>
<li>第2行：定义<code>x</code>数组，将<code>x</code>定义域<span
class="math inline">\(-2\)</span>到<span
class="math inline">\(2\)</span>划分成<code>width</code>等份.</li>
<li>第3行：定义<code>y</code>数组，将<code>y</code>定义域<span
class="math inline">\(-2\)</span>到<span
class="math inline">\(2\)</span>划分成<code>height</code>等份.</li>
<li>第4行：定义 <span class="math inline">\(height\times width\)</span>
矩阵<code>escape_time</code>，所有矩阵元默认取 <span
class="math inline">\(0\)</span>.</li>
<li>第5行：遍历<code>x</code>数组, 以取得每一个 <span
class="math inline">\(x\)</span>数组元 <span
class="math inline">\(x[i]\)</span>.</li>
<li>第6行：遍历<code>y</code>数组, 以取得每一个 <span
class="math inline">\(y\)</span>数组元 <span
class="math inline">\(y[j]\)</span>.</li>
<li>第7行：以<span class="math inline">\(x[i]\)</span> 为实部， <span
class="math inline">\(y[j]\)</span>为虚部，构建复数<span
class="math inline">\(z\)</span>.</li>
<li>第8行：对于每一个点<span class="math inline">\(z\)</span>,
默认逃逸次数为<span class="math inline">\(n=0\)</span>.</li>
<li>第9行：使用<code>while</code>对每一个点<span
class="math inline">\(z\)</span>判断，条件为<code>小于逃逸半径2</code>和<code>小于最大逃逸次数 max_iter</code>.</li>
<li>第10行：若满足条件，则迭代一次，同时逃逸次数 <span
class="math inline">\(n\)</span> 增加<span
class="math inline">\(1\)</span>,
若仍然满足第9行的条件，则继续循环，同时不断将判断的逃逸次数<span
class="math inline">\(n\)</span>赋值给矩阵<code>escape_time[j,i]</code>.</li>
<li>第11行：返回最后的<code>x</code>,<code>y</code>,<code>escape_time</code>
数组.</li>
</ul>
<h2 id="使用上述函数处理具体的参数">使用上述函数处理具体的参数</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 计算Julia集</span></span><br><span class="line">x_coords, y_coords, escape_time = julia_set(c, width, height, max_iter)</span><br></pre></td></tr></table></figure>
<h2 id="将结果保存为-csv-数据">将结果保存为 csv 数据</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(file_name, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    file.write(<span class="string">&#x27;,&#x27;</span> + <span class="string">&#x27;,&#x27;</span>.join(<span class="built_in">map</span>(<span class="built_in">str</span>, x_coords)) + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(escape_time.shape[<span class="number">0</span>]):</span><br><span class="line">        <span class="comment"># 写入每行的数据，先写Y坐标，然后是该行的逃逸时间值</span></span><br><span class="line">        file.write(<span class="built_in">str</span>(y_coords[j]) + <span class="string">&#x27;,&#x27;</span> + <span class="string">&#x27;,&#x27;</span>.join(<span class="built_in">map</span>(<span class="built_in">str</span>, escape_time[j])) + <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Julia集已成功保存到<span class="subst">&#123;file_name&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>上述程序中：</p>
<ul>
<li>第1行：打开文件<code>file_name</code>,
同时赋予<code>write</code>权限（即选项<code>w</code>）,
将其命名为<code>file</code>， 在后续程序中调用.</li>
<li>第2行：写入<code>x</code>坐标行, 数组以逗号<code>,</code>分隔,
行尾添加换行符<code>\n</code>.</li>
<li>第3行：遍历<code>escape_time</code>数组的第一列（也就是所有行数）,
写入每一行的数组，仍然以逗号<code>,</code>分隔，行尾添加换行符<code>\n</code>.</li>
<li>第4行：打印处理结果，同时使用<code>f</code>标记来使用变量<code>&#123;file_name&#125;</code>.</li>
</ul>
<div class="note primary"><p>注意：通过这一段程序，我们可以判断出<code>2d</code>数据的具体形式构成.
第1行是<code>x</code>坐标点，第1列是<code>y</code>坐标点，由<code>x</code>和<code>y</code>决定的点上则<code>(x,y)</code>所对应的强度值，这是一个二维数据表格，和数学上描点绘图的数据一致。</p>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/02/09/%E4%BF%AE%E5%A4%8Dveusz%E4%B8%8D%E8%83%BD%E5%90%AF%E5%8A%A8%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/02/09/%E4%BF%AE%E5%A4%8Dveusz%E4%B8%8D%E8%83%BD%E5%90%AF%E5%8A%A8%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">修复veusz不能启动的问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-09 17:52:35" itemprop="dateCreated datePublished" datetime="2025-02-09T17:52:35+08:00">2025-02-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>今天需要使用 veusz 处理一个 julia 集的二维图形，但是发现 veusz
不能正常启动了。由于 veusz 是一个使用 python 写的软件， 所以由于
archlinux 升级导致的问题可能性还是比较大的, 于是卸载 veusz
后重新安装，得到了错误提示：</p>
<figure class="highlight sh"><figcaption><span>paru -S veusz</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;/usr/lib/python3.13/site-packages/pyproject_hooks/_in_process/_in_process.py&quot;</span>, line 389, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    main()</span><br><span class="line">    ~~~~^^</span><br><span class="line">  File <span class="string">&quot;/usr/lib/python3.13/site-packages/pyproject_hooks/_in_process/_in_process.py&quot;</span>, line 373, <span class="keyword">in</span> main</span><br><span class="line">    json_out[<span class="string">&quot;return_val&quot;</span>] = hook(**hook_input[<span class="string">&quot;kwargs&quot;</span>])</span><br><span class="line">                             ~~~~^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;/usr/lib/python3.13/site-packages/pyproject_hooks/_in_process/_in_process.py&quot;</span>, line 143, <span class="keyword">in</span> get_requires_for_build_wheel</span><br><span class="line">    <span class="built_in">return</span> hook(config_settings)</span><br><span class="line">  File <span class="string">&quot;/usr/lib/python3.13/site-packages/setuptools/build_meta.py&quot;</span>, line 332, <span class="keyword">in</span> get_requires_for_build_wheel</span><br><span class="line">    <span class="built_in">return</span> self._get_build_requires(config_settings, requirements=[])</span><br><span class="line">           ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;/usr/lib/python3.13/site-packages/setuptools/build_meta.py&quot;</span>, line 302, <span class="keyword">in</span> _get_build_requires</span><br><span class="line">    self.run_setup()</span><br><span class="line">    ~~~~~~~~~~~~~~^^</span><br><span class="line">  File <span class="string">&quot;/usr/lib/python3.13/site-packages/setuptools/build_meta.py&quot;</span>, line 516, <span class="keyword">in</span> run_setup</span><br><span class="line">    super().run_setup(setup_script=setup_script)</span><br><span class="line">    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;/usr/lib/python3.13/site-packages/setuptools/build_meta.py&quot;</span>, line 318, <span class="keyword">in</span> run_setup</span><br><span class="line">    <span class="built_in">exec</span>(code, locals())</span><br><span class="line">    ~~~~^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;&lt;string&gt;&quot;</span>, line 38, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  File <span class="string">&quot;/home/feng/.cache/paru/clone/veusz/src/veusz-3.6.2/pyqt_setuptools.py&quot;</span>, line 11, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    import tomli</span><br><span class="line">ModuleNotFoundError: No module named <span class="string">&#x27;tomli&#x27;</span></span><br></pre></td></tr></table></figure>
<p>显然提示缺少 python 库 <code>tomli</code>, 于是使用 archlinux
自带的包管理器 <code>pacman</code> 安装 <code>tomli</code></p>
<figure class="highlight sh"><figcaption><span>install tomli</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S python-tomli</span><br></pre></td></tr></table></figure>
<p>之后再安装 <code>veusz</code>, 则问题解决。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/01/20/shell%E5%8F%98%E9%87%8F%E4%B8%8Eawk%E5%8F%98%E9%87%8F%E5%86%B2%E7%AA%81%E7%9A%84%E5%A4%84%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/01/20/shell%E5%8F%98%E9%87%8F%E4%B8%8Eawk%E5%8F%98%E9%87%8F%E5%86%B2%E7%AA%81%E7%9A%84%E5%A4%84%E7%90%86/" class="post-title-link" itemprop="url">shell变量与awk变量冲突的处理</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-01-20 15:02:02" itemprop="dateCreated datePublished" datetime="2025-01-20T15:02:02+08:00">2025-01-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="shell-中的特殊变量">Shell 中的特殊变量</h1>
<p>Shell
预定义了一些特殊变量，它们通常包含一个或两个连字符作为前缀：</p>
<ul>
<li><code>$0</code> - 当前脚本的名字。</li>
<li><code>$1</code>, <code>$2</code>, ... -
传递给脚本或函数的位置参数。</li>
<li><code>$#</code> - 传递给脚本或函数的参数个数。</li>
<li><code>$*</code> - 所有参数作为一个字符串。</li>
<li><code>$@</code> - 参数列表（与 <code>$*</code>
类似，但在引号中有区别）。</li>
<li><code>$?</code> - 上一条命令的退出状态。</li>
<li><code>$$</code> - 当前 Shell 的进程 ID。</li>
<li><code>$!</code> - 最后一个后台进程的 PID。</li>
</ul>
<h1 id="awk-内置变量">awk 内置变量</h1>
<p><code>awk</code> 提供了多个内置变量来访问输入数据和其他特性：</p>
<ul>
<li><strong><code>$n</code></strong> - 表示当前行的第 n
个字段（列），其中 <code>$1</code> 是第一列，<code>$2</code>
是第二列，依此类推。</li>
<li><strong><code>$0</code></strong> - 表示整个当前行的内容。</li>
<li><strong><code>NF</code></strong> - 当前行的字段数（列数）。</li>
<li><strong><code>NR</code></strong> -
到目前为止处理的总行数（全局行号）。</li>
<li><strong><code>FNR</code></strong> -
当前文件中的行号（对于多文件输入，每个新文件计数会重新开始）。</li>
<li><strong><code>FILENAME</code></strong> - 当前正在读取的文件名。</li>
<li><strong><code>FS</code></strong> -
字段分隔符，默认为空白字符（空格或制表符）。可以设置为其他值以改变字段划分规则。</li>
<li><strong><code>OFS</code></strong> -
输出字段分隔符，默认为空格。当使用逗号 <code>,</code>
分隔输出字段时，<code>awk</code> 会用这个值替换逗号。</li>
<li><strong><code>ORS</code></strong> - 输出记录分隔符，默认为换行符
<code>\n</code>。</li>
<li><strong><code>RS</code></strong> -
输入记录分隔符，默认为换行符，即每行作为一个记录。</li>
<li><strong><code>ARGC</code> 和 <code>ARGV</code></strong> - 类似于
Shell 的特殊变量，分别表示命令行参数的数量和数组。</li>
</ul>
<p>这些内置变量提供了对输入数据结构、格式以及程序运行环境的强大控制能力。</p>
<h1 id="冲突和解决">冲突和解决</h1>
<p>Shell 和 awk 同时内置了 <code>$n</code> 变量，在 Shell
脚本中使用变量会造成混乱。但是注意到：Shell 中使用双引号括起来的变量
<code>"$n"</code>
表示变量，而使用单引号<code>'$n'</code>不表示变量，但是 awk
在单引号<code>'$n'</code>中表示 awk 变量，
所以在任何情况下都使用单引号将 awk 的命令引起来就可以避免冲突。</p>
<h1 id="参考文章">参考文章</h1>
<ul>
<li><a
target="_blank" rel="noopener" href="https://zhidao.baidu.com/question/1960760332238490100.html">awk中使用$0与shell脚本$1有冲突怎么办</a></li>
<li><a
target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/ask/sof/116316122">awk参数$1，$2与bash输入参数冲突</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/01/19/%E4%BD%BF%E7%94%A8dig%E6%89%B9%E9%87%8F%E6%9F%A5%E8%AF%A2IP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/01/19/%E4%BD%BF%E7%94%A8dig%E6%89%B9%E9%87%8F%E6%9F%A5%E8%AF%A2IP/" class="post-title-link" itemprop="url">使用dig批量查询IP</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-01-19 19:27:24" itemprop="dateCreated datePublished" datetime="2025-01-19T19:27:24+08:00">2025-01-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="dig-命令简介"><code>dig</code> 命令简介</h1>
<p><code>dig</code>（Domain Information Groper）是 Linux 和 Unix
系统中用于查询 DNS（域名系统）的强大工具。它提供了对 DNS
查询的详细控制，并且可以用来执行各种类型的 DNS 查询，包括但不限于 A
记录、MX 记录、NS 记录、CNAME 记录、TXT 记录等。<code>dig</code>
是网络管理员和开发者调试 DNS
问题、验证域名配置以及获取有关互联网资源信息的重要工具。</p>
<h2 id="主要特点">主要特点</h2>
<ul>
<li><strong>多功能性</strong>：支持多种查询类型和选项，能够满足复杂的
DNS 查询需求。</li>
<li><strong>详细的输出</strong>：提供详尽的查询结果信息，默认情况下输出格式易于阅读，同时也支持简洁模式（如
<code>+short</code>）。</li>
<li><strong>灵活性</strong>：用户可以通过命令行参数自定义查询行为，例如指定
DNS 服务器、设置查询超时时间、递归查询等。</li>
<li><strong>批处理能力</strong>：支持从文件批量读取域名进行查询（使用
<code>-f</code> 参数），适合自动化脚本或大规模 DNS 数据收集。</li>
</ul>
<h2 id="基本用法">基本用法</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig [选项] [域名] [记录类型] </span><br></pre></td></tr></table></figure>
<h3 id="查询特定dns服务器">查询特定DNS服务器</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig @8.8.8.8 www.baidu.com</span><br></pre></td></tr></table></figure>
<h3 id="批量查询文件">批量查询文件</h3>
<p>创建一个包含域名列表的文本文件，并使用<code>-f</code>参数进行批量查询。</p>
<div class="tabs" id="批量查询"><ul class="nav-tabs"><li class="tab active"><a href="#批量查询-1">批量查询文件</a></li><li class="tab"><a href="#批量查询-2">domains.txt</a></li></ul><div class="tab-content"><div class="tab-pane active" id="批量查询-1"><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig -f domains.txt</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="批量查询-2"><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">www.baidu.com</span><br><span class="line">www.bing.com</span><br><span class="line">www.sina.com</span><br></pre></td></tr></table></figure></div></div></div>
<h3 id="批量查询数组">批量查询数组</h3>
<p>创建一个包含域名列表的数组，并使用<code>-f</code>参数进行批量查询。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">MH=(</span><br><span class="line">www.baidu.com</span><br><span class="line">www.bing.com</span><br><span class="line">www.sina.com</span><br><span class="line">)</span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%s\n&quot;</span> <span class="string">&quot;<span class="variable">$&#123;MH[@]&#125;</span>&quot;</span> | dig @119.29.29.29 -f /dev/stdin +noall +answer | awk <span class="string">&#x27;&#123;print $5, $1&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; Sat Sep 03 2022 08:00:00 GMT+0800 (中国标准时间) – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa-solid fa-star"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">fengzhenhua</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/fungzhenhua" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://s4.zstatic.net/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://s4.zstatic.net/ajax/libs/pdfobject/2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://s4.zstatic.net/ajax/libs/mermaid/11.4.0/mermaid.min.js","integrity":"sha256-G8ouPAnw4zzMbnAenHnVz6h9XpKbNdOkrqTh7AadyHs="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://s4.zstatic.net/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
