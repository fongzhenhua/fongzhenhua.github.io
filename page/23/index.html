<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#9400D3"><meta name="generator" content="Hexo 5.4.2">
<link rel="preconnect" href="https://s4.zstatic.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#9400D3">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":true,"height":500},"bookmark":{"enable":true,"color":"#9400D3","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script>



<link rel="canonical" href="http://example.com/page/23/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/23/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>BNU-FZH</title>
  







<script async src="/lib/fireworks.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">BNU-FZH</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">fengzhenhua@outlook.com</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-导航"><a href="/%E5%AF%BC%E8%88%AA/" rel="section"><i class="fa fa-paper-plane fa-fw"></i>导航</a></li><li class="menu-item menu-item-软件"><a href="/%E8%BD%AF%E4%BB%B6/" rel="section"><i class="fa fa-briefcase fa-fw"></i>软件</a></li><li class="menu-item menu-item-收藏"><a href="/%E6%94%B6%E8%97%8F/" rel="section"><i class="fa fa-folder fa-fw"></i>收藏</a></li><li class="menu-item menu-item-工作"><a href="/%E5%B7%A5%E4%BD%9C/" rel="section"><i class="fa fa-folder fa-fw"></i>工作</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name"></p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">546</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://chat.deepseek.com/" title="深度求索 → https:&#x2F;&#x2F;chat.deepseek.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>深度求索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tongyi.com/" title="通义千问 → https:&#x2F;&#x2F;www.tongyi.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>通义千问</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.scnet.cn/ui/chatbot/" title="国家超算 → https:&#x2F;&#x2F;www.scnet.cn&#x2F;ui&#x2F;chatbot&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>国家超算</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yuanbao.tencent.com/chat" title="腾讯元宝 → https:&#x2F;&#x2F;yuanbao.tencent.com&#x2F;chat" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>腾讯元宝</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/" title="必应搜索 → https:&#x2F;&#x2F;cn.bing.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>必应搜索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.hao268.com/" title="网址之家 → https:&#x2F;&#x2F;www.hao268.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>网址之家</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ac.scmor.com/" title="思谋学术 → https:&#x2F;&#x2F;ac.scmor.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>思谋学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://search.essclick.com/" title="爱思学术 → https:&#x2F;&#x2F;search.essclick.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>爱思学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://scholar.lanfanshu.cn/" title="番薯学术 → https:&#x2F;&#x2F;scholar.lanfanshu.cn&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>番薯学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://xmsoushu.com/" title="熊猫搜书 → https:&#x2F;&#x2F;xmsoushu.com&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>熊猫搜书</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/translator" title="必应翻译 → https:&#x2F;&#x2F;cn.bing.com&#x2F;translator" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>必应翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.baidu.com/#zh/en" title="百度翻译 → https:&#x2F;&#x2F;fanyi.baidu.com&#x2F;#zh&#x2F;en" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>百度翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.youdao.com/?keyfrom=fanyi.logo" title="有道翻译 → https:&#x2F;&#x2F;fanyi.youdao.com&#x2F;?keyfrom&#x3D;fanyi.logo" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>有道翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.oxfordlearnersdictionaries.com/definition/english/" title="牛津翻译 → https:&#x2F;&#x2F;www.oxfordlearnersdictionaries.com&#x2F;definition&#x2F;english&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>牛津翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://tools.liumingye.cn/music/#/" title="音乐下载 → http:&#x2F;&#x2F;tools.liumingye.cn&#x2F;music&#x2F;#&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-music fa-fw"></i>音乐下载</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://wx.qq.com/" title="网页微信 → https:&#x2F;&#x2F;wx.qq.com" rel="noopener me" target="_blank"><i class="fab fa-weixin fa-fw"></i>网页微信</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://login.partner.microsoftonline.cn/" title="微软办公 → https:&#x2F;&#x2F;login.partner.microsoftonline.cn" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软办公</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mathsolver.microsoft.com/" title="微软数学 → https:&#x2F;&#x2F;mathsolver.microsoft.com" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软数学</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.mail.bnu.edu.cn/" title="师大邮箱 → https:&#x2F;&#x2F;www.mail.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>师大邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mail.sina.com.cn/" title="新浪邮箱 → https:&#x2F;&#x2F;mail.sina.com.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>新浪邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://192.168.1.14/" title="实验信息 → http:&#x2F;&#x2F;192.168.1.14&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>实验信息</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.aliyundrive.com/sign/in" title="阿里云盘 → https:&#x2F;&#x2F;www.aliyundrive.com&#x2F;sign&#x2F;in" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>阿里云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yun.139.com/w/#/" title="移动云盘 → https:&#x2F;&#x2F;yun.139.com&#x2F;w&#x2F;#&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>移动云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jianguoyun.com/d/login" title="坚果网盘 → https:&#x2F;&#x2F;www.jianguoyun.com&#x2F;d&#x2F;login" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>坚果网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://efss.qloud.my/index.php/login?clear=1" title="Next云盘 → https:&#x2F;&#x2F;efss.qloud.my&#x2F;index.php&#x2F;login?clear&#x3D;1" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>Next云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.123pan.com/" title="123 网盘 → https:&#x2F;&#x2F;www.123pan.com&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>123 网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://annas-archive.org/" title="安娜档案 → https:&#x2F;&#x2F;annas-archive.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>安娜档案</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://book.sciencereading.cn/" title="科学文库 → https:&#x2F;&#x2F;book.sciencereading.cn" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>科学文库</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ylibrary.org/" title="Ylibrary → https:&#x2F;&#x2F;ylibrary.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Ylibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tboxn.com/sites/320.html" title="Zlibrary → https:&#x2F;&#x2F;www.tboxn.com&#x2F;sites&#x2F;320.html" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Zlibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.koushare.com/" title="蔻享官网 → https:&#x2F;&#x2F;www.koushare.com" rel="noopener me" target="_blank"><i class="fas fa-globe-asia fa-fw"></i>蔻享官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.duolingo.cn/" title="多邻国官 → https:&#x2F;&#x2F;www.duolingo.cn" rel="noopener me" target="_blank"><i class="fas fa-school fa-fw"></i>多邻国官</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.bnu.edu.cn/" title="师大官网 → https:&#x2F;&#x2F;www.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>师大官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://one.bnu.edu.cn/" title="数字京师 → https:&#x2F;&#x2F;one.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>数字京师</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.runoob.com/font-awesome/fontawesome-icons-brand.html" title="图站图标 → https:&#x2F;&#x2F;www.runoob.com&#x2F;font-awesome&#x2F;fontawesome-icons-brand.html" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>图站图标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://shields.io/badges" title="项目微标 → https:&#x2F;&#x2F;shields.io&#x2F;badges" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>项目微标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/" title="LaTeXLiv → https:&#x2F;&#x2F;www.latexlive.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXLiv</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/help" title="LaTeXHel → https:&#x2F;&#x2F;www.latexlive.com&#x2F;help" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXHel</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://p2t.breezedeus.com/" title="Pix2Text → https:&#x2F;&#x2F;p2t.breezedeus.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Pix2Text</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://simpletex.cn/" title="Simplete → https:&#x2F;&#x2F;simpletex.cn" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Simplete</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/07/05/Linux%E4%B8%AD%E4%BD%BF%E7%94%A8inxi%E8%8E%B7%E5%8F%96%E5%90%84%E7%A7%8D%E4%BF%A1%E6%81%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/05/Linux%E4%B8%AD%E4%BD%BF%E7%94%A8inxi%E8%8E%B7%E5%8F%96%E5%90%84%E7%A7%8D%E4%BF%A1%E6%81%AF/" class="post-title-link" itemprop="url">Linux中使用inxi获取各种信息</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-07-05 16:55:55" itemprop="dateCreated datePublished" datetime="2024-07-05T16:55:55+08:00">2024-07-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>inix</code> 是一个用于获取 Linux
系统信息的终端命令。能够获取软件和硬件的详细信息，比如计算机型号、内核版本、发行版号以及桌面环境等信息，甚至可以读取主存模块占用主板的哪块
RAM 卡槽等详细信息。</p>
<p><code>inxi</code> 还可以用于监控系统中正在消耗 CPU
或者内存资源的进程。</p>
<p>在本文中，我将展示使用 <code>inxi</code> 命令获取系统信息的常用操作。</p>
<p>首先，我将展示下如何安装 <code>inxi</code> 命令。</p>
<h3 id="在-linux-上安装-inxi">在 Linux 上安装 inxi</h3>
<p><code>inxi</code> 是一个非常流行的工具，所以在大多数 Linux
发行版仓库中都可以轻松获取到该工具。不过还没有流行到各大 Linux
发行版默认就安装了该软件，所以需要我们自己安装一下。</p>
<p>在 Ubuntu/Debian 发行版系统中，安装命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install inxi</span><br></pre></td></tr></table></figure>
<p>在 Fedora/RHEL8-based 等发行版中，安装命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> dnf install -y epel-release</span><br><span class="line"><span class="built_in">sudo</span> dnf install -y inxi</span><br></pre></td></tr></table></figure>
<p>在 <code>Arch Linux</code> 以及它的派生分支版本中，安装命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S inxi</span><br></pre></td></tr></table></figure>
<h3 id="使用-inxi-获取系统信息">使用 inxi 获取系统信息</h3>
<p>你可以在终端运行 <code>inxi</code> 命令来总体浏览下系统信息。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inxi</span><br></pre></td></tr></table></figure>
<p>如下图所示，运行 <code>inxi</code> 命令可以简要浏览
CPU、时钟频率（<code>speed/min/max</code>）、内核（<code>Kernel</code>）、内存（<code>Mem</code>）、磁盘存储空间（<code>Storage</code>）、运行进程数量（<code>Procs</code>）以及
Shell 等信息。</p>
<figure>
<img
src="https://img.linux.net.cn/data/attachment/album/202112/17/134938gckyz33o3ybxggbs.jpg"
alt="The default output of inxi command" />
<figcaption aria-hidden="true">The default output of inxi
command</figcaption>
</figure>
<p>使用 <code>-b</code> 参数可以获取更为详细的系统信息。<code>-b</code> 参数会读取更多有关
CPU、驱动器、当前运行进程、主板 UEFI
版本、GPU、显示分辨率以及网络设备等详细信息。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inxi -b</span><br></pre></td></tr></table></figure>
<figure>
<img
src="https://img.linux.net.cn/data/attachment/album/202112/17/134938wzhamzbmbl7b11lk.jpg"
alt="Detailed hardware and software information about machine as reported by inxi" />
<figcaption aria-hidden="true">Detailed hardware and software
information about machine as reported by inxi</figcaption>
</figure>
<p>类似 <code>-b</code> 参数使用方法，<code>inxi</code> 还有许多其他的参数可供使用。你可以综合使用这些参数来获取你关心的信息。</p>
<p>让我们看几个实例。</p>
<h3 id="获取音频设备信息">获取音频设备信息</h3>
<p>使用 <code>-A</code> 参数可以获取有关音频（输出）设备信息，包括物理音频（输出）设备、声音服务器以及音频驱动等详细信息。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inxi -A</span><br></pre></td></tr></table></figure>
<figure>
<img
src="https://img.linux.net.cn/data/attachment/album/202112/17/134938q3y2pjpsps3qpymq.jpg"
alt="Output of inxi command when “-A” flag is used" />
<figcaption aria-hidden="true">Output of inxi command when “-A” flag is
used</figcaption>
</figure>
<h3 id="获取电池信息">获取电池信息</h3>
<p>使用 <code>-B</code> 参数，可以获取有关电池的信息（如果安装了电池）。你将读取到例如以 <code>Wh</code>（瓦特小时）为单位的当前电池电量和状况。</p>
<p>因为我使用的是台式机，所以这里仅仅作为一个示例，让我们看看使用 <code>inxi -B</code> 会输出什么。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Battery:   ID-1: BAT0 charge: 50.0 Wh (100.0%) condition: 50.0/50.0</span><br></pre></td></tr></table></figure>
<h3 id="获取-cpu-信息">获取 CPU 信息</h3>
<p><code>-C</code> 参数用于获取有关 CPU 的详细信息。比如包括 CPU
缓存大小、频率（单位 <code>MHz</code>，如果有多核，会显示每个核心的频率）、核心数、CPU
型号以及 CPU 是 32 位还是 64 位。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inxi -C</span><br></pre></td></tr></table></figure>
<figure>
<img
src="https://img.linux.net.cn/data/attachment/album/202112/17/134939ag2s0byetgbcarce.jpg"
alt="Detailed CPU information displayed by inxi" />
<figcaption aria-hidden="true">Detailed CPU information displayed by
inxi</figcaption>
</figure>
<p>注意，如果是在虚拟机中使用 <code>inix -C</code>，<code>inxi</code> 读取到的 <code>CPU</code> 的最大和最小频率可能异常。下面是一个在四核
Debian 11 虚拟机中使用 <code>-C</code> 参数的示例输出。</p>
<figure>
<img
src="https://img.linux.net.cn/data/attachment/album/202112/17/134939u2isin8zhccrrhhn.jpg"
alt="An example output of using the “-C” flag in a Virtual Machine" />
<figcaption aria-hidden="true">An example output of using the “-C” flag
in a Virtual Machine</figcaption>
</figure>
<h3 id="获取更多的系统信息">获取更多的系统信息</h3>
<p>使用 <code>-F</code> 参数可以获取更详细的系统信息（类似 <code>-b</code> 参数，但会更为详细）。几乎囊括了所有层次的系统信息。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inxi -F</span><br></pre></td></tr></table></figure>
<p><img
src="https://img.linux.net.cn/data/attachment/album/202112/17/134939fcdz7eg4fsqf8plz.jpg" /></p>
<h3 id="获取图形显示相关信息">获取图形显示相关信息</h3>
<p><code>-G</code> 参数可以获取和图形相关的信息。</p>
<p>它会显示所有的图形设备（GPU）、正在使用的 GPU
驱动（有助于检查是否使用 Nvidia 驱动还是 nouveau
驱动）、显示输出分辨率和驱动程序版本。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inxi -G</span><br></pre></td></tr></table></figure>
<p><img
src="https://img.linux.net.cn/data/attachment/album/202112/17/134940kkuiwcakzkkv1utm.jpg" /></p>
<h3 id="获取运行进程信息">获取运行进程信息</h3>
<p><code>-I</code> 参数（大写字母 <code>i</code>）显示正在运行的进程、当前
shell 、内存（内存使用情况）以及 <code>inxi</code> 版本号等信息。</p>
<figure>
<img
src="https://img.linux.net.cn/data/attachment/album/202112/17/134940p7ccatw7weemte8n.png"
alt="inxi get running process info" />
<figcaption aria-hidden="true">inxi get running process
info</figcaption>
</figure>
<h3 id="获取内存信息">获取内存信息</h3>
<p>可能你已经猜到了，<code>-m</code> 参数可以获取与内存相关的信息。</p>
<p>它读取了如总可用内存、最大内存容量（硬件或 CPU
支持的）、主板物理内存插槽数、是否存在
ECC、插入的内存插槽，以及枚举每个插槽中运行的内存模块的大小和运行速度等信息。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inxi -m</span><br></pre></td></tr></table></figure>
<p>要使用 <code>-m</code> 参数获取更详细的信息，例如最大容量、每个插槽的内存模块信息等，需要超级用户权限。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> inxi -m</span><br></pre></td></tr></table></figure>
<p><img
src="https://img.linux.net.cn/data/attachment/album/202112/17/134941vu61m9tqdxugq2gt.jpg" /></p>
<p>如果只是希望简短的输出内存信息，可以使用 <code>-memory-short</code> 参数。</p>
<p>使用 <code>-memroy-short</code> 参数将会只显示总内存以及当前已使用的内存量。</p>
<h3 id="查看正在使用的包存储库">查看正在使用的包存储库</h3>
<p>当使用 <code>-r</code> 参数时，会列举当前正在使用的包管理仓库或者更新本地仓库缓存中的所有存储库列表。</p>
<figure>
<img
src="https://img.linux.net.cn/data/attachment/album/202112/17/134941kfwpalmlftzwm916.png"
alt="List of repositories in use" />
<figcaption aria-hidden="true">List of repositories in use</figcaption>
</figure>
<h3 id="获取-raid-设备信息">获取 RAID 设备信息</h3>
<p><code>-R</code> 参数用于获取所有 RAID 设备相关信息。</p>
<p>令人惊喜的是，它甚至显示了有关 ZFS RAID（默认情况下，多数 Linux
系统不包含该文件系统）的信息。它显示了 RAID
设备上文件系统的详细信息、状态（包含离线状态、总大小和可用大小等）。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inxi -R</span><br></pre></td></tr></table></figure>
<p><img
src="https://img.linux.net.cn/data/attachment/album/202112/17/134941pj8dni7qjdnw4d3n.jpg" /></p>
<h3 id="在-linux-终端中查询天气对这是可以的">在 Linux
终端中查询天气（对，这是可以的）</h3>
<p>利用 <code>-W</code> 参数，你可以查询地球上任何地方的天气情况。</p>
<p><code>-W</code> 参数后面，需要携带以下中的任一一个体现位置的信息</p>
<ul>
<li>邮政编码</li>
<li>纬度</li>
<li>城市（及州）、国家（不能含有空格，使用 “+” 替换空格）</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inxi -W Baroda,India</span><br></pre></td></tr></table></figure>
<figure>
<img
src="https://img.linux.net.cn/data/attachment/album/202112/17/134942ja1ue68kvor8ecsu.jpg"
alt="Use of the “-W” flag with inxi followed by the city,country location descriptor" />
<figcaption aria-hidden="true">Use of the “-W” flag with inxi followed
by the city,country location descriptor</figcaption>
</figure>
<h3 id="监控系统资源使用情况">监控系统资源使用情况</h3>
<p><code>inxi</code> 除了提供有关已安装的硬件和驱动的信息外，还可以用于资源监控。</p>
<p>使用 <code>-t</code> 参数可以显示进程信息。你还可以可选项 <code>-c</code> （用于
CPU）和 <code>-m</code>（用于内存）。这些选项结合使用可以按指定数量列出进程信息。</p>
<p>下面是一些使用 <code>-t</code> 参数监控资源信息的示例。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inxi -t</span><br></pre></td></tr></table></figure>
<p>命令 <code>inxi -t</code> 默认效果等同于 <code>inxi -t cm5</code> 的效果。</p>
<figure>
<img
src="https://img.linux.net.cn/data/attachment/album/202112/17/134942w2nsininwbwj2fsc.jpg"
alt="No difference in output of “inti -t” and “inxi -t cm5”" />
<figcaption aria-hidden="true">No difference in output of “inti -t” and
“inxi -t cm5”</figcaption>
</figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inxi -t cm10</span><br></pre></td></tr></table></figure>
<p><img
src="https://img.linux.net.cn/data/attachment/album/202112/17/134942zwuo9ukw9t8f9b12.jpg" /></p>
<p>偶尔需要监控资源使用情况时，该工具挺管用。如果需要更多的资源监控功能，则推荐使用 <a
target="_blank" rel="noopener" href="https://itsfoss.com/linux-system-monitoring-tools/">专用系统资源监控工具</a>。</p>
<h3 id="总结">总结</h3>
<p>对于需要诊断计算机问题以及获取那些并不熟悉的软硬件信息的人来说，<code>inxi</code> 工具是十分便利且有用的。它能识别那些消耗
CPU、内存的进程；可以检查是否安装了合适的图形驱动程序、主板 UEFI/BIOS
是否需要更新等等。</p>
<p>事实上，在 <code>inxi</code> 开源社区论坛上，我们要求那些寻求帮助的成员提供 <code>inxi</code> 命令输出内容以便判断他们当前正在使用什么样的系统环境。</p>
<p>我知道也有其他的工具可以读取 Linux
上的硬件信息，不过 <code>inxi</code> 同时能读取硬件和软件信息，这也是我喜欢它的地方所在。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/07/05/Shell%E8%84%9A%E6%9C%AC%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/05/Shell%E8%84%9A%E6%9C%AC%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8/" class="post-title-link" itemprop="url">Shell脚本判断文件或文件夹是否存在</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-07-05 16:37:20" itemprop="dateCreated datePublished" datetime="2024-07-05T16:37:20+08:00">2024-07-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在日常<code>Shell</code>脚本的编写过程中，经常遇到判断文件或文件夹是否存在的问题，有时候也需要判断文件的新旧，所以本文罗列出<code>Shell</code>对文件的相关判断方法：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-e 判断对象是否存在</span><br><span class="line">-d 判断对象是否存在，并且为目录</span><br><span class="line">-f 判断对象是否存在，并且为常规文件</span><br><span class="line">-L 判断对象是否存在，并且为符号链接</span><br><span class="line">-h 判断对象是否存在，并且为软链接</span><br><span class="line">-s 判断对象是否存在，并且长度不为0</span><br><span class="line">-r 判断对象是否存在，并且可读</span><br><span class="line">-w 判断对象是否存在，并且可写</span><br><span class="line">-x 判断对象是否存在，并且可执行</span><br><span class="line">-O 判断对象是否存在，并且属于当前用户</span><br><span class="line">-G 判断对象是否存在，并且属于当前用户组</span><br><span class="line">-nt 判断file1是否比file2新  [ <span class="string">&quot;/data/file1&quot;</span> -nt <span class="string">&quot;/data/file2&quot;</span> ]</span><br><span class="line">-ot 判断file1是否比file2旧  [ <span class="string">&quot;/data/file1&quot;</span> -ot <span class="string">&quot;/data/file2&quot;</span> ]</span><br></pre></td></tr></table></figure>
<h2 id="应用举例">应用举例</h2>
<h3 id="文件夹不存在则创建">文件夹不存在则创建</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ ! -d <span class="string">&quot;/data/&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">    <span class="built_in">mkdir</span> /data</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;文件夹已经存在&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h3 id="文件存在则删除">文件存在则删除</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ ! -f <span class="string">&quot;/data/filename&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;文件不存在&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">rm</span> -f /data/filename</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h3 id="判断文件夹是否存在">判断文件夹是否存在</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ -d <span class="string">&quot;/data/&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;文件夹存在&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;文件夹不存在&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h3 id="判断文件是否存在">判断文件是否存在</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ -f <span class="string">&quot;/data/filename&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;文件存在&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;文件不存在&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/07/05/sed%E5%91%BD%E4%BB%A4%E7%9A%84%E6%95%B0%E6%8D%AE%E6%90%9C%E5%AF%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/05/sed%E5%91%BD%E4%BB%A4%E7%9A%84%E6%95%B0%E6%8D%AE%E6%90%9C%E5%AF%BB/" class="post-title-link" itemprop="url">sed命令的数据搜寻</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-07-05 10:41:36" itemprop="dateCreated datePublished" datetime="2024-07-05T10:41:36+08:00">2024-07-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>先创建一个测试文件<code>testfile</code>, 如下</p>
<figure class="highlight sh"><figcaption><span>testfile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> testfile <span class="comment">#查看testfile 中的内容  </span></span><br><span class="line">HELLO LINUX!  </span><br><span class="line">Linux is a free unix-type opterating system.  </span><br><span class="line">This is a linux testfile!  </span><br><span class="line">Linux <span class="built_in">test</span> </span><br><span class="line">Google</span><br><span class="line">Taobao</span><br><span class="line">Runoob</span><br><span class="line">Tesetfile</span><br><span class="line">Wiki</span><br></pre></td></tr></table></figure>
<h2 id="数据的搜寻并显示">数据的搜寻并显示</h2>
<figure class="highlight sh"><figcaption><span>搜索 testfile 有 oo 关键字的行:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">nl</span> testfile | sed -n <span class="string">&#x27;/oo/p&#x27;</span></span><br><span class="line">     5  Google</span><br><span class="line">     7  Runoob</span><br></pre></td></tr></table></figure>
<h2 id="数据的搜寻并删除">数据的搜寻并删除</h2>
<figure class="highlight sh"><figcaption><span>删除 testfile 所有包含 oo 的行，其他行输出</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">nl</span> testfile | sed  <span class="string">&#x27;/oo/d&#x27;</span></span><br><span class="line">     1  HELLO LINUX!  </span><br><span class="line">     2  Linux is a free unix-type opterating system.  </span><br><span class="line">     3  This is a linux testfile!  </span><br><span class="line">     4  Linux <span class="built_in">test</span> </span><br><span class="line">     6  Taobao</span><br><span class="line">     8  Tesetfile</span><br><span class="line">     9  Wiki</span><br></pre></td></tr></table></figure>
<h2 id="数据的搜寻并执行命令">数据的搜寻并执行命令</h2>
<p>搜索 testfile，找到 oo
对应的行，执行后面花括号中的一组命令，每个命令之间用分号分隔，这里把 oo
替换为 kk，再输出这行：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">nl</span> testfile | sed -n <span class="string">&#x27;/oo/&#123;s/oo/kk/;p;q&#125;&#x27;</span>  </span><br><span class="line">     5  Gkkgle</span><br></pre></td></tr></table></figure>
<h2 id="参考资料">参考资料</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-sed.html">Linux sed
命令</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/07/04/paru%E7%9A%84%E6%9C%AA%E7%9F%A5%E9%80%89%E9%A1%B9%E9%94%99%E8%AF%AFFileManager/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/04/paru%E7%9A%84%E6%9C%AA%E7%9F%A5%E9%80%89%E9%A1%B9%E9%94%99%E8%AF%AFFileManager/" class="post-title-link" itemprop="url">paru的未知选项错误FileManager</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-07-04 22:55:13" itemprop="dateCreated datePublished" datetime="2024-07-04T22:55:13+08:00">2024-07-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>前几天配置好的新电脑后，逐步完成<code>ArchLinux</code>的使用细节配置，但是在使用<code>paru</code>安装软件时会出现一个提示：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">错误：选项节 [options] 中有未知的选项 <span class="string">&#x27;FileManager&#x27;</span></span><br></pre></td></tr></table></figure>
<p>这源自于<code>paru</code>的配置文件<code>/etc/paru.conf</code>中出现了错误，即将<code>[bin]</code>前的注释去掉，即修改为：</p>
<figure class="highlight sh"><figcaption><span>/etc/paru.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Binary OPTIONS</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">[bin]</span><br><span class="line">FileManager = vifm</span><br></pre></td></tr></table></figure>
<p>注意：在之前的配置中我的<code>[bin]</code>是被注释掉的，但是能正常工作，或许是升级后作者修复了这个<code>bug</code>，因些需要严格的启动这个选项。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/07/03/%E8%89%BE%E8%BE%BE%E8%89%BEPPT%E7%94%9F%E6%88%90%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/03/%E8%89%BE%E8%BE%BE%E8%89%BEPPT%E7%94%9F%E6%88%90%E5%99%A8/" class="post-title-link" itemprop="url">艾达艾PPT生成器</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-07-03 21:32:40" itemprop="dateCreated datePublished" datetime="2024-07-03T21:32:40+08:00">2024-07-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>工作和学习中编写<code>PPT</code>是一件很平常的事情，但是做的多了就需要提高效率。目前网络上的<code>AI</code>生成<code>PPT</code>的工具有很多，但是大多需要注册或者有使用次数限制，这非常不方便。本文隆重介绍一个永久免费的，免注册的工具<label style="color:red">艾达艾PPT生成器</label>。点击官网直接进入：</p>
<blockquote class="blockquote-center">
<p><a
target="_blank" rel="noopener" href="https://aippt.antdanceai.com">https://aippt.antdanceai.com</a></p>

</blockquote>
<p>官方的介绍：</p>
<p>adAI 艾达艾ai一键生成ppt工具，是adAI
艾达艾旗下一个通过ai能力，一键全自动生成图文信息的ppt工具。adAI 艾达艾ai
ppt工具，可以在2分钟内，根据用户输入的对ppt制作的要求，一键生成精美页面的ppt文字内容和针对性配图。</p>
<p>adAI
艾达艾ai一键生成ppt工具，通过针对数十万种ppt生成格式的训练，用户只需要通过简洁清晰描述需求，即可转化为高质量的ppt文字结构的内容。并且通过针对每页的ppt标题，智能理解标题语义并根据语义，智能匹配对应的配图。实现了一键自动化生成图文并茂的ppt。并且支持一键免费下载生成的ppt。如果对生成的ppt需要进行编辑和调整，只需要通过wps
或PowerPoint打开后即可编辑。</p>
<p>adAI 艾达艾ai
ppt还创新的采用了新的商业模式。对于用户而言，这是一个真正免费的
，并且免注册登录的，也无需科学上网即可使用的ai
ppt生成工具。只是在生成的ppt最后一页带有
广告。用户可以随时删除。这个广告是通过adAI
艾达艾的千人千面ai算法实现基于用户输入的ppt提示词智能匹配的。比如用户输入如果策划一场车展，那么匹配的广告会跟：车、展会、策划相关。做到精准广告匹配。</p>
<p>adAI 艾达艾人工智能科技有限公司，致力于通过ai重构传统营销模式，除了ai
ppt工具以外，还提供基于 ai的全自动内容营销服务。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/07/02/Hexo%E4%B8%AD%E8%BE%93%E5%85%A5%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/02/Hexo%E4%B8%AD%E8%BE%93%E5%85%A5%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F/" class="post-title-link" itemprop="url">Hexo中输入数学公式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-07-02 17:04:41" itemprop="dateCreated datePublished" datetime="2024-07-02T17:04:41+08:00">2024-07-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>根据<code>Next</code>主题官方文档<a
target="_blank" rel="noopener" href="https://theme-next.js.org/docs/third-party-services/math-equations.html?highlight=latex">Math
Equation</a>配置好<code>Hexo</code>对数学公式的支持，对于一些小问题可以写成<code>LaTeX</code>记录在博客中。但是这里面遇到的问题是，<code>MarkDown</code>毕竟不是针对<code>LaTeX</code>设计的，所以一些特殊的宏包在博客中是不能使用的，对于一些特殊复杂的公式需要撰写<code>tex</code>文件编译，而不是发表在博客上。对于一些简单的公式，如果在<code>Hexo</code>博客上编写，应当注意使用原始的<code>LaTeX</code>命令，以增强其兼容性，对于一些数学符号的输入，请参考：<a
target="_blank" rel="noopener" href="https://www.latexlive.com/help#d15">关于LaTeX公式编辑
Introduce</a>,
而对于<code>Hexo</code>支持的数学公式格式，为了方便使用，直接引用其官方的例子。</p>
<h2 id="支持的数学公式">支持的数学公式</h2>
<p>在<code>Hexo</code>中开启数学支持，有两种插件支持，其中<code>MathJax</code>依赖<code>JavaScript</code>,但其支持的数学公式更多，而<code>KaTeX</code>不依赖<code>JavaScript</code>,
同时速度更快，但是其持的数学公式少一些，因些根据<code>Next</code>主题官方，推荐使用<code>MathJax</code>.它们支持的<code>TeX/LaTeX</code>命令参考:</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://docs.mathjax.org/en/latest/input/tex/macros/index.html">MathJax支持的TeX/LaTeX命令</a></li>
<li><a
target="_blank" rel="noopener" href="https://katex.org/docs/supported.html">KaTeX支持的TeX/LaTeX命令</a></li>
</ul>
<h2 id="simple-equations">Simple Equations</h2>
<p>For simple equations, use the following form to give a tag,</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span><span class="keyword">\begin</span>&#123;equation&#125; <span class="keyword">\label</span>&#123;eq1&#125;</span><br><span class="line">e=mc<span class="built_in">^</span>2</span><br><span class="line"><span class="keyword">\end</span>&#123;equation&#125;<span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure>
<p><span class="math display">\[\begin{equation} \label{eq1}
e=mc^2
\end{equation}\]</span></p>
<p>Then, you can refer to this equation in your text easily by using
something like:</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The famous matter-energy equation <span class="built_in">$</span><span class="keyword">\eqref</span>&#123;eq1&#125;<span class="built_in">$</span> proposed by Einstein...</span><br></pre></td></tr></table></figure>
<p>The famous matter-energy equation <span
class="math inline">\(\eqref{eq1}\)</span> proposed by Einstein...</p>
<h2 id="multi-line-equations">Multi-line Equations</h2>
<p>For multi-line equations, inside the <code>equation</code>
environment, you can use the <code>aligned</code> environment to split
it into multiple lines:</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span><span class="keyword">\begin</span>&#123;equation&#125; <span class="keyword">\label</span>&#123;eq2&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;aligned&#125;</span><br><span class="line">a <span class="built_in">&amp;</span>= b + c <span class="keyword">\\</span></span><br><span class="line">  <span class="built_in">&amp;</span>= d + e + f + g <span class="keyword">\\</span></span><br><span class="line">  <span class="built_in">&amp;</span>= h + i</span><br><span class="line"><span class="keyword">\end</span>&#123;aligned&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;equation&#125;<span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure>
<p><span class="math display">\[\begin{equation} \label{eq2}
\begin{aligned}
a &amp;= b + c \\
  &amp;= d + e + f + g \\
  &amp;= h + i
\end{aligned}
\end{equation}\]</span></p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Equation <span class="built_in">$</span><span class="keyword">\eqref</span>&#123;eq2&#125;<span class="built_in">$</span> is a multi-line equation.</span><br></pre></td></tr></table></figure>
<p>Equation <span class="math inline">\(\eqref{eq2}\)</span> is a
multi-line equation.</p>
<h2 id="multiple-aligned-equations">Multiple Aligned Equations</h2>
<p>We can use <code>align</code> environment to align multiple
equations. Each of these equations will get its own numbers.</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span><span class="keyword">\begin</span>&#123;align&#125;</span><br><span class="line">a <span class="built_in">&amp;</span>= b + c <span class="keyword">\label</span>&#123;eq3&#125; <span class="keyword">\\</span></span><br><span class="line">x <span class="built_in">&amp;</span>= yz <span class="keyword">\label</span>&#123;eq4&#125; <span class="keyword">\\</span></span><br><span class="line">l <span class="built_in">&amp;</span>= m - n <span class="keyword">\label</span>&#123;eq5&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;align&#125;<span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure>
<p><span class="math display">\[\begin{align}
a &amp;= b + c \label{eq3} \\
x &amp;= yz \label{eq4} \\
l &amp;= m - n \label{eq5}
\end{align}\]</span></p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">There are three aligned equations: equation <span class="built_in">$</span><span class="keyword">\eqref</span>&#123;eq3&#125;<span class="built_in">$</span>, equation <span class="built_in">$</span><span class="keyword">\eqref</span>&#123;eq4&#125;<span class="built_in">$</span> and equation <span class="built_in">$</span><span class="keyword">\eqref</span>&#123;eq5&#125;<span class="built_in">$</span>.</span><br></pre></td></tr></table></figure>
<p>There are three aligned equations: equation <span
class="math inline">\(\eqref{eq3}\)</span>, equation <span
class="math inline">\(\eqref{eq4}\)</span> and equation <span
class="math inline">\(\eqref{eq5}\)</span>.</p>
<p>Since <code>align</code> in and of itself is a complete equation
environment (read <a
target="_blank" rel="noopener" href="https://tex.stackexchange.com/questions/95402/what-is-the-difference-between-aligned-in-displayed-mode-and-starred-align">here</a>
about the difference between <code>aligned</code> and <code>align</code>
in LaTeX). You do not need to wrap it with equation environment.</p>
<h2 id="exclude-equations-from-numbering">Exclude Equations from
Numbering</h2>
<p>In the <code>align</code> environment, if you do not want to number
one or some equations, just use <code>\nonumber</code> right behind
these equations. Like the following:</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span><span class="keyword">\begin</span>&#123;align&#125;</span><br><span class="line">-4 + 5x <span class="built_in">&amp;</span>= 2 + y <span class="keyword">\nonumber</span> <span class="keyword">\\</span></span><br><span class="line">w + 2 <span class="built_in">&amp;</span>= -1 + w <span class="keyword">\\</span></span><br><span class="line">ab <span class="built_in">&amp;</span>= cb</span><br><span class="line"><span class="keyword">\end</span>&#123;align&#125;<span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure>
<p><span class="math display">\[\begin{align}
-4 + 5x &amp;= 2 + y \nonumber \\
w + 2 &amp;= -1 + w \\
ab &amp;= cb
\end{align}\]</span></p>
<h2 id="use-tag-to-tag-equations">Use <code>\tag</code> to Tag
Equations</h2>
<p>Sometimes, you want to use more «exotic» style to refer your
equation. You can use <code>\tag&#123;&#125;</code> to achieve this. For
example:</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span>x+1<span class="keyword">\over</span><span class="keyword">\sqrt</span>&#123;1-x<span class="built_in">^</span>2&#125; <span class="keyword">\tag</span>&#123;i&#125;<span class="keyword">\label</span>&#123;eq<span class="built_in">_</span>tag&#125;<span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure>
<p><span class="math display">\[x+1\over\sqrt{1-x^2}
\tag{i}\label{eq_tag}\]</span></p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Equation <span class="built_in">$</span><span class="keyword">\eqref</span>&#123;eq<span class="built_in">_</span>tag&#125;<span class="built_in">$</span> use `<span class="keyword">\tag</span>&#123;&#125;` instead of automatic numbering.</span><br></pre></td></tr></table></figure>
<p>Equation <span class="math inline">\(\eqref{eq_tag}\)</span> use
<code>\tag&#123;&#125;</code> instead of automatic numbering.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/07/02/%E5%A6%82%E4%BD%95%E6%B7%B1%E5%88%BB%E7%90%86%E8%A7%A3%E4%BB%8E%E4%BA%8C%E9%A1%B9%E5%88%86%E5%B8%83%E5%88%B0%E6%B3%8A%E6%9D%BE%E5%88%86%E5%B8%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/02/%E5%A6%82%E4%BD%95%E6%B7%B1%E5%88%BB%E7%90%86%E8%A7%A3%E4%BB%8E%E4%BA%8C%E9%A1%B9%E5%88%86%E5%B8%83%E5%88%B0%E6%B3%8A%E6%9D%BE%E5%88%86%E5%B8%83/" class="post-title-link" itemprop="url">如何深刻理解从二项分布到泊松分布</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-07-02 15:57:50" itemprop="dateCreated datePublished" datetime="2024-07-02T15:57:50+08:00">2024-07-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="二项分布和泊松分布的表达式">二项分布和泊松分布的表达式</h2>
<ul>
<li><p>二项分布： <span class="math display">\[
P(x=k)=C_n^kp^k(1-p)^{n-k}\]</span></p></li>
<li><p>泊松分布： <span
class="math display">\[P(x=k)=\frac{\lambda^k}{k!}e^{-\lambda}\]</span></p></li>
</ul>
<h2 id="一个现实生活中的例子">一个现实生活中的例子</h2>
<p>一条汽车单向行驶的公路边有个便利店，店家经过一周的统计，得到数据：上个周一共有100辆次的车从这个便利店通过，其中有5辆次的车来买了东西。那么，店家现在想用这个数据来推测，下周，有6辆次的车会在这个便利店买东西的概率是多少？</p>
<h3
id="现在假设我们只知道二项分布而对泊松分布一无所知我们如何通过构建二项分布的数学模型来解决这个问题呢">现在，假设我们只知道二项分布而对泊松分布一无所知，我们如何通过构建二项分布的数学模型来解决这个问题呢？</h3>
<p>这是二项分布的经典场景。对于通过的每一辆车，它只有两种可能的观测结果，那就是买东西和不买东西。这是一个
<code>0-1</code>
分布。现在我们做一个假设，假设每辆车通过时停下来买东西的概率是一样的（这样做假设不会影响整体的推测，因为做统计时，我们只统计了通过的车的总辆次和停下来买东西的车的总次数，也就是说做统计时每辆车是没有区别的）。通过买东西的车的总辆次
<code>/</code> 通过的车的总辆次，我们能得到每一辆车的 <code>0-1</code>
分布，任意一辆车停下来买东西的概率 <code>P</code> 为： <span
class="math inline">\(\frac{5}{100}=0.05\)</span></p>
<table>
<thead>
<tr>
<th>行为</th>
<th>买东西</th>
<th>不买东西</th>
</tr>
</thead>
<tbody>
<tr>
<td>P</td>
<td>0.05</td>
<td>0.95</td>
</tr>
</tbody>
</table>
<p>现在，我们已经通过对之前统计的数据的分析，知道了任意一辆车通过时停下来买东西的概率。如何通过这个<code>0-1</code>分布来做预测？那就做独立重复实验（也就是伯努利试验），假设有
<code>n</code> 辆车在下个周通过该路口，每辆车停下来买东西的概率都是
<code>p</code>，则有 <code>k</code> 辆车到商店买东西的概率为：</p>
<p><span class="math display">\[P(x=k)=C_n^kp^k(1-p)^{n-k}\]</span></p>
<p>为此，我们必须颇为无奈地对下个周通过这条路的车的总辆次做个假设，那就是也通过<code>100</code>辆。现在我们就能做预测啦！</p>
<p><span
class="math display">\[P(x=6)=C_{100}^{6}\times-.005^6\times(1-0.05)^{100-6}\approx0.15\]</span></p>
<h3
id="如果以时间为维度来考量二项分布就会出问题">如果以时间为维度来考量，二项分布就会出问题</h3>
<p>上一种通过二项分布来做预测的方法，依赖于我们需要做一个假设，即下一个周通过这条路的车的总辆次是<code>100</code>辆。现在我们想绕过需要对总辆次做假设这一障碍，用时间来作为观察的基准。但是因为二项分布所对应的伯努利实验的每一次实验是零散的，所以不得不将连续的时间进行分割。这就要涉及到单位时间，我们不妨把单位时间设置成小时，<span
class="math inline">\(1周=7\times24=168小时\)</span>。根据之前的观察，一共有
<code>5</code>
辆车次的车去到商店买东西，也就是说，每小时有车进商店买东西的概率为 <span
class="math inline">\(P=\frac{5}{168}\approx
0.02976\)</span>。好像，我们又可以像上面那样去建立一个关于单位时间的<code>0-1</code>分布了。但是其实这个模型缺陷就出来了，由于考察的对象是单位时间，它的结果不再只有两个，即该时间段进入商店买东西的车的数量除了<code>0</code>、<code>1</code>，还可能是<code>2、3、4、…</code>，所以其实用<code>0-1</code>分布来对单位时间进入商店的车的数量进行模拟是不太科学的。</p>
<p>那怎么办呢？自然而然，会想到将单位时间继续分割为更小的单位时间，如果把小时分割为分钟，那每小时就可以做<code>60</code>次独立重复实验，也就是说这下每小时最多可以有<code>60</code>辆车进入商店买东西了。但是这样仍然不满足时间这个连续的度量，要是出现极端情况，每小时有<code>70</code>辆车进入商店呢，这个模型又没法满足了。自然而然，我们想到将时间无限的分割下去。在非常非常小的一段时间里，我们就能做<code>0-1</code>分布的假设了，即在这段时间里只有
<code>0</code> 或 <code>1</code>
辆车进入商店买东西。但是无限的分割时间之后，我们还怎么计算这个无穷小的单位时间里车进入商店的概率呢？答案是，根本就不用去计算。因为我们的观测量是一个周汽车进入商店的辆次的总数，不妨把它记为
<span class="math inline">\(\lambda\)</span>，它满足下面的等式：</p>
<p><span class="math display">\[ \lambda = np \]</span></p>
<p>其中 <code>n</code>
为将一周的时间无限分割成的无穷小的单位时间的总份数，而 <code>p</code>
是分割成这么多份数之后，根据观测值 <span
class="math inline">\(\lambda\)</span>
所计算出来的该单位时间里有车辆进入商店的概率。</p>
<h3 id="从二项式公式推导泊松公式">从二项式公式推导泊松公式</h3>
<p><span class="math display">\[\begin{equation}\label{eq:poisson}
\begin{aligned}
P(X=k)&amp;=\lim_{n\to\infty} C_n^kp^k(1-p)^{n-k} \\
    &amp;= \lim_{n\to\infty}
C_n^k(\frac{\lambda}{n})^k(1-\frac{\lambda}{n})^{n-k}\\
    &amp;=\lim_{n\to\infty}
\frac{n\times(n-1)\times\cdots\times(n-k+1)}{k!}(\frac{\lambda}{n})^k(1-\frac{\lambda}{n})^n(1-\frac{\lambda}{n})^{-k}\\
    &amp;=\lim_{n\to\infty}
\frac{n\times(n-1)\times\cdots\times(n-k+1)}{k!}\frac{\lambda^k}{n^k}(1-\frac{\lambda}{n})^{-k}(1-\frac{\lambda}{n})^{n}\\
    &amp;=1\times\frac{\lambda^k}{k!}\times 1\times e^{-\lambda}\\
    &amp;=\frac{\lambda^k}{k!}e^{-\lambda}
\end{aligned}
\end{equation}\]</span></p>
<p>推导之后我们发现，其实根本不需要用到 <code>n</code> 和 <code>p</code>
这两个数据，而只有观测值 <span
class="math inline">\(\lambda\)</span>。到这里是不是觉得泊松大大干了一件非常有价值的事情！</p>
<h3
id="通过泊松分布来对这个问题进行预测">通过泊松分布来对这个问题进行预测</h3>
<p>根据之前的统计， <span class="math inline">\(\lambda = 5\)</span>
<span class="math display">\[P(X=6) = \frac{5^6}{6!}e^{-5} \approx
0.1462\]</span></p>
<h3 id="总结">总结</h3>
<p>根据二项分布推导出了泊松分布，并不代表二项分布就没有泊松分布先进，只是对于解决连续时间的这种问题，显然泊松分布更好用。但是有些情况下，二项分布会更好用。</p>
<h2 id="声明">声明</h2>
<p>本文引用自：<a
target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_40064300/article/details/134628610">如何深刻理解从二项式分布到泊松分布</a>,
只是对数学公式部分重新编写以适应<code>Next</code>主题。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/07/02/Nvidia-ArchLinux-Wayland%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/07/02/Nvidia-ArchLinux-Wayland%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">Nvidia-ArchLinux-Wayland安装教程</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-07-02 13:43:09" itemprop="dateCreated datePublished" datetime="2024-07-02T13:43:09+08:00">2024-07-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>As you know, the transition to Wayland from the traditional Xorg
server in the Linux ecosystem has been a hot topic that caused much
controversy and, admittedly, a fair share of troubleshooting.</p>
<p>While Wayland promises a more streamlined and secure interface than
its predecessor, Xorg, users have often encountered hurdles,
particularly regarding compatibility with NVIDIA graphics cards.</p>
<p>In other words, the journey hasn’t always been without bumps, from
rendering issues to compatibility quirks. However, it’s becoming
increasingly clear that the NVIDIA and Wayland combo, while not yet a
perfect match, is evolving into a viable, working solution for many.</p>
<p>Still, with the proper guidance and a bit of patience, using NVIDIA
with Wayland on Arch is not just a possibility but a largely workable
solution. You can approach this transition with confidence.</p>
<p>This guide is designed to do precisely this: usher you through the
setup process and offer solutions to ensure you can take most of your
NVIDIA and Wayland experience on Arch Linux. So, let’s get started.</p>
<h2 id="install-nvidia-driver">1、Install NVIDIA Driver</h2>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S nvidia nvidia-settings</span><br></pre></td></tr></table></figure>
<h2 id="set-environment-variables">2、Set Environment Variables</h2>
<p>With NVIDIA’s introduction of GBM (Generic Buffer Management)
support, a crucial component of the Linux graphics stack that provides
an API for allocating buffers for graphics rendering and display, many
compositors have adopted it as their default. So, to force GBM as a
backend, we need to set some environment variables.</p>
<p>Open the “<em>/etc/environment</em>” file, paste the following two
lines, then save the file and exit.</p>
<figure class="highlight sh"><figcaption><span>/etc/environment</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GBM_BACKEND=nvidia-drm</span><br><span class="line">__GLX_VENDOR_LIBRARY_NAME=nvidia</span><br></pre></td></tr></table></figure>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland07.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland07-1024x396.jpg"
alt="Set environment variables." /></a></p>
<h2 id="loading-the-nvidia-modules-at-system-boot">3、Loading the NVIDIA
Modules at System Boot</h2>
<p>To ensure that the NVIDIA modules are loaded at the earliest possible
stage, i.e., on the system boot, we need to add the ‘<em>nvidia</em>,’
‘<em>nvidia_modeset</em>,’ ‘<em>nvidia_uvm</em>,’ and
‘<em>nvidia_drm</em>‘ modules to the initramfs – a temporary root file
system loaded into memory as part of the boot process before the real
root file system is mounted.</p>
<p>This is possible by entering them in the “<em>MODULES</em>” section
of the “<em>/etc/mkinitcpio.conf</em>” file. This is a configuration
file for mkinitcpio, a tool Arch uses to generate initial ramdisk
images.</p>
<p>So, open the “<em>/etc/mkinitcpio.conf</em>” file. Then, enter the
modules mentioned above, as the final version should look like this:</p>
<figure class="highlight sh"><figcaption><span>/etc/mkinitcpio.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MODULES=(nvidia nvidia_modeset nvidia_uvm nvidia_drm)</span><br></pre></td></tr></table></figure>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland03.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland03.jpg"
alt="Loading the NVIDIA modules at system boot." /></a></p>
<p>Great, but we’re not done with this file yet. Scroll down and remove
the “<em>kms</em>” from the “<em>HOOKS</em>” section. This ensures that
the initramfs will avoid including the open-source “<em>nouveau</em>”
driver to mess with the work of the proprietary NVIDIA one we have
installed and rely on.</p>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland04.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland04.jpg"
alt="Removing KMS from the Hooks." /></a></p>
<p>We’ve finished modifying “<em>/etc/mkinitcpio.conf</em>“. Save your
changes and close the file. Next, we’ll proceed to regenerate the
initramfs. To do this, execute the following command:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> mkinitcpio -P</span><br></pre></td></tr></table></figure>
<p>In the command’s output, you might notice messages like “<em>WARNING:
Possibly missing firmware for module…</em>” These shouldn’t cause
concern and are unrelated to the modifications we are currently
implementing.</p>
<h2 id="enable-drm">4、Enable DRM</h2>
<p>DRM (Direct Rendering Manager) is a subsystem of the Linux kernel
responsible for interfacing with GPUs. It provides a framework for
graphics drivers to enable direct access to the graphics hardware, which
is crucial for performance in rendering tasks, 3D graphics, video
playback, and more.</p>
<p>NVIDIA provides proprietary graphics drivers for Linux that use the
DRM subsystem to interact with their GPUs. These drivers are essential
for getting the best performance and feature support on NVIDIA hardware
under Linux.</p>
<p>Enabling the DRM kernel mode setting is required for Wayland
compositors to function properly. So, we will pass it as a parameter to
the Linux kernel during its initial boot through the GRUB
bootloader.</p>
<p>Open its configuration file<code>/etc/default/grub</code>. Locate the
line that begins with “<em>GRUB_CMDLINE_LINUX_DEFAULT</em>” and append
“<em>nvidia-drm.modeset=1</em>” to its end. The completed line should
resemble the example provided below.</p>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland05.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland05-1024x501.jpg"
alt="Enabling DRM (Direct Rendering Manager) via GRUB." /></a></p>
<p>Finally, regenerate the GRUB configuration by running:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland06.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland06-1024x396.jpg"
alt="Regenerating the main GRUB configuration file." /></a></p>
<h2 id="testing-wayland-with-nvidia-on-arch-linux">5、Testing Wayland
with NVIDIA on Arch Linux</h2>
<p>You are all set up. Now, reboot your Arch system. At the login screen
of the display manager you’re using, choose the Wayland Session
option.</p>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland09.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland09-1024x640.jpg"
alt="Switching to Wayland session on Arch." /></a></p>
<p>Log in and enjoy a seamless Wayland experience with NVIDIA and your
beloved Arch Linux.</p>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland10.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland10-1024x640.jpg"
alt="Arch Linux is running on Wayland with NVIDIA GPU." /></a></p>
<p>In addition, to verify that the NVIDIA DRM settings were correctly
applied after a reboot, execute the following command; in response, you
should get “<em>Y</em>.”</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">cat</span> /sys/module/nvidia_drm/parameters/modeset</span><br></pre></td></tr></table></figure>
<p><a
target="_blank" rel="noopener" href="https://linuxiac.b-cdn.net/wp-content/uploads/2024/04/nvidia-arch-wayland11.jpg"><img
src="https://cdn.shortpixel.ai/spai/q_lossy+ret_img+to_auto/linuxiac.com/wp-content/uploads/2024/04/nvidia-arch-wayland11.jpg"
alt="Verifying the NVIDIA DRM settings." /></a></p>
<h2 id="设置-nvidia-电源管理">6、设置 nvidia 电源管理</h2>
<ol type="1">
<li><p>Create a file
<code>/etc/modprobe.d/nvidia-power-management.conf</code> with the
following content: <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">options nvidia NVreg_PreserveVideoMemoryAllocations=1 NVreg_TemporaryFilePath=/var/tmp</span><br></pre></td></tr></table></figure></p></li>
<li><p><code>sudo update-initramfs -c -k all</code> to re-generate the
kernels.
此处我没有执行成功命令，但是并没有影响，系统正常配置成功。</p></li>
<li><p>Reboot</p></li>
<li><p>Go to suspend mode.</p></li>
<li><p>Get an error when trying to load a saved state.</p></li>
</ol>
<h2 id="配置wayland">7、配置wayland</h2>
<p>经过上述配置后，我发现重启系统将会默认进入到<code>x11</code>,
它是可以正常工作的，效果良好。但是，既然有强大的独立<code>nvidia</code>显卡，我们还是需要设置好<code>nvidia</code>.
下述根据 <a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/GDM#Wayland_and_the_proprietary_NVIDIA_driver">Wayland
and the proprietary NVIDIA driver</a>主操作，详细信息可以参考。</p>
<ul>
<li><p>启用<code>nvidia</code>相关服务 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> nvidia-suspend.service nvidia-hibernate.service nvidia-resume.service</span><br></pre></td></tr></table></figure> 此项参考：<a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/NVIDIA/Tips_and_tricks#Preserve_video_memory_after_suspend">Preserve
video memory after suspend</a></p></li>
<li><p>强制启用<code>Wayland</code>, As of GDM 42 and NVIDIA driver 510,
GDM defaults to Wayland. For older NVIDIA drivers (in between version
470 and 510), GDM has chipset-dependent udev rules to use Xorg rather
than Wayland. To force-enable Wayland, override these rules by creating
the following symlink: <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">ln</span> -s /dev/null /etc/udev/rules.d/61-gdm.rules</span><br></pre></td></tr></table></figure></p></li>
</ul>
<p>注意：如果没有第<code>6</code>到<code>7</code>步，在<code>GNOME</code>桌面环境启动后，<code>GDM</code>不能显示<code>wayland</code>启动选项，而只是默认启动<code>Xorg</code>,
设置好<code>6</code>和<code>7</code>后，系统正常进入到<code>wayland</code>。</p>
<h2 id="bottom-line">8、Bottom Line</h2>
<p>In the end, it’s essential to clarify a key point. Our guide has
confidently demonstrated that Wayland can operate smoothly with NVIDIA
on an Arch system. This, however, does not extend to guaranteeing that
every application, game, or desktop environment will also function
flawlessly.</p>
<p>The compatibility of these components with Wayland varies and is
dependent on the extent to which they have integrated support for
it.</p>
<p>For example, desktop environments like KDE Plasma and GNOME offer
very good support for Wayland, ensuring a seamless experience. On the
other hand, environments like Cinnamon, with only basic Wayland support,
may not deliver the same smoothness. So, it’s important to consider
these differences.</p>
<p>Similarly, using the Hyprland dynamic tiling Wayland compositor would
result in a smooth user experience, whereas others that are still
dependent on Xorg may not offer the necessary support for Wayland. This
variability in compatibility applies to individual applications too, so
it’s important to be aware of potential issues when using specific
software.</p>
<p>In conclusion, navigating the complexities of setting up Wayland on
Arch can seem daunting, especially for those wielding the power of
NVIDIA GPUs, who have historically faced hurdles ranging from rendering
glitches to compatibility concerns.</p>
<p>Yet, with the proper knowledge, a dash of perseverance, and our
guidance, the hurdles that once seemed impossible begin to shrink to the
level that, with the correct setup, NVIDIA and Wayland can indeed create
a synergy that brings out the best in your Arch setup.</p>
<p>Finally, we recommend referring to the specific <a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Wayland">Wayland</a> and <a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/NVIDIA">NVIDIA</a> sections on
the official Arch wiki for a more comprehensive understanding. They
provide detailed information on setting up and troubleshooting Wayland
and NVIDIA on Arch, making them valuable resources for further
exploration.</p>
<p>And, of course, we’d love to hear your feedback or thoughts, so
please don’t hesitate to share them in the comment box below.</p>
<h2 id="references">9、References</h2>
<ul>
<li><a
target="_blank" rel="noopener" href="https://linuxiac.com/nvidia-with-wayland-on-arch-setup-guide/">NVIDIA
+ Wayland on Arch: A Comprehensive Setup Guide</a></li>
<li><a
target="_blank" rel="noopener" href="https://www.maketecheasier.com/wayland-work-with-nvidia-graphics-cards/">How
to Get Wayland to Work on Nvidia Graphics Cards</a></li>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv25617874/">ArchLinux
安装Nvidia 驱动使用Wayland</a></li>
<li><a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Wayland">Wayland-ArchWiki</a></li>
<li><a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/NVIDIA">Nvidia-ArchWiki</a></li>
<li><a target="_blank" rel="noopener" href="https://sh.alynx.one/posts/NVIDIA-GNOME-Wayland/">NVIDIA
驱动和 GNOME 和 Wayland</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/29/Shell%E8%84%9A%E6%9C%AC%E6%88%AA%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%98%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/29/Shell%E8%84%9A%E6%9C%AC%E6%88%AA%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%98%E9%87%8F/" class="post-title-link" itemprop="url">Shell脚本截取字符串变量</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-29 22:58:45" itemprop="dateCreated datePublished" datetime="2024-06-29T22:58:45+08:00">2024-06-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>对于一个数组，使用<code>#</code>表示删除左侧的部分，<code>%</code>表示删除右侧的部分，同时支持正则表达式。例如:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">url=<span class="string">&quot;https://gitlab.com/fengzhenhua/script/-/raw/<span class="variable">$USB_REMORT_SH</span>\?inline\=false&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$url</span> |sed -e <span class="string">&#x27;s/\(.\)/\1\n/g&#x27;</span> |grep <span class="string">&quot;/&quot;</span> |<span class="built_in">wc</span> -l</span><br><span class="line">&gt; 7 <span class="comment"># $url中一共有7个`/`</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;url#*//*/*/*/&#125;</span></span><br><span class="line">&gt;</span><br><span class="line">-/raw/<span class="variable">$USB_REMORT_SH</span>\?inline\=<span class="literal">false</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;url%/<span class="variable">$&#123;url#*//*/*/*/&#125;</span>&#125;</span></span><br><span class="line">&gt;</span><br><span class="line">https://gitlab.com/fengzhenhua/script</span><br></pre></td></tr></table></figure>
<div class="note primary"><p>注意：此处不同与网上的教程，网上的一些教程如<a
target="_blank" rel="noopener" href="https://blog.csdn.net/jined/article/details/124196546">Shell
8种字符串截取方法</a>等，指明了截取字符串时某一个字符的方法，但是对于<code>*</code>的理解没有做深入分析，而本文指出其代表若干字符，是正则表达式的一部分。于是在截取网址时，使用正则表达式给出<code>*//*/*/*/</code>方便的取得了相要的地址部分。</p>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/06/29/Shell%E8%84%9A%E6%9C%AC%E7%BB%9F%E8%AE%A1%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%96%E6%96%87%E4%BB%B6%E4%B8%AD%E7%89%B9%E5%AE%9A%E5%AD%97%E7%AC%A6%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2024/06/29/Shell%E8%84%9A%E6%9C%AC%E7%BB%9F%E8%AE%A1%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%96%E6%96%87%E4%BB%B6%E4%B8%AD%E7%89%B9%E5%AE%9A%E5%AD%97%E7%AC%A6%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0/" class="post-title-link" itemprop="url">Shell脚本统计字符串或文件中特定字符出现的次数</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-06-29 22:38:15" itemprop="dateCreated datePublished" datetime="2024-06-29T22:38:15+08:00">2024-06-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在编写<code>Shell</code>脚本中需要判断网址中的<code>/</code>出现的次数，进而获取网址的结构，然后根据需要可以截取部分网址。假设我们有一个字符串“Hello
Bash”：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ STRING=<span class="string">&quot;Hello Bash&quot;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$STRING</span></span><br><span class="line">Hello Bash</span><br></pre></td></tr></table></figure>
<p>使用 bash
shell，我们现在可以计算任何给定字符的出现次数。例如，让我们计算字符
<code>l</code> 出现的次数：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$STRING</span> | sed -e <span class="string">&#x27;s/\(.\)/\1\n/g&#x27;</span> | grep l | <span class="built_in">wc</span> -l</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<p><code>sed</code>
命令首先将任何给定的字符串分成多行。其中每行包含一个字符：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$STRING</span> | sed -e <span class="string">&#x27;s/\(.\)/\1\n/g&#x27;</span> </span><br><span class="line">H</span><br><span class="line">e</span><br><span class="line">l</span><br><span class="line">l</span><br><span class="line">o</span><br><span class="line"> </span><br><span class="line">B</span><br><span class="line">a</span><br><span class="line">s</span><br><span class="line">h</span><br></pre></td></tr></table></figure>
<p>之后我们可以使用<code>grep</code>命令来仅搜索特定字符。在本例中，我们仅打印字符
<code>l</code>：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$STRING</span> | sed -e <span class="string">&#x27;s/\(.\)/\1\n/g&#x27;</span> | grep l</span><br><span class="line">l</span><br><span class="line">l</span><br></pre></td></tr></table></figure>
<p>剩下的就是使用 wc -l 来简单地计算行数：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$STRING</span> | sed -e <span class="string">&#x27;s/\(.\)/\1\n/g&#x27;</span> | grep l | <span class="built_in">wc</span> -l</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<p>相同的策略也可用于计算文件中字符的出现次数。下面的 bash shell
命令计算字符 <code>l</code> 在文件 <code>/etc/services</code>
中出现的次数：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> $ <span class="built_in">cat</span> /etc/services | sed -e <span class="string">&#x27;s/\(.\)/\1\n/g&#x27;</span> | grep l | <span class="built_in">wc</span> -l</span><br><span class="line">9298</span><br></pre></td></tr></table></figure>
<p>然而，计算字符出现次数的另一种方法是使用 grep 的
<code>--only-matching</code> 或 <code>-o</code>
选项仅打印匹配的字符：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ grep -o l /etc/services | <span class="built_in">wc</span> -l</span><br><span class="line">9298</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/22/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/">22</a><span class="page-number current">23</span><a class="page-number" href="/page/24/">24</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/24/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; Sat Sep 03 2022 08:00:00 GMT+0800 (中国标准时间) – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa-solid fa-star"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">fengzhenhua</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/fungzhenhua" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://s4.zstatic.net/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://s4.zstatic.net/ajax/libs/pdfobject/2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://s4.zstatic.net/ajax/libs/mermaid/11.4.0/mermaid.min.js","integrity":"sha256-G8ouPAnw4zzMbnAenHnVz6h9XpKbNdOkrqTh7AadyHs="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://s4.zstatic.net/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
