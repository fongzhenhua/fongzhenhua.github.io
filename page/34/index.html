<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#9400D3"><meta name="generator" content="Hexo 5.4.2">
<link rel="preconnect" href="https://s4.zstatic.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#9400D3">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":true,"height":500},"bookmark":{"enable":true,"color":"#9400D3","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script>



<link rel="canonical" href="http://example.com/page/34/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/34/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>BNU-FZH</title>
  







<script async src="/lib/fireworks.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">BNU-FZH</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">fengzhenhua@outlook.com</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-导航"><a href="/%E5%AF%BC%E8%88%AA/" rel="section"><i class="fa fa-paper-plane fa-fw"></i>导航</a></li><li class="menu-item menu-item-软件"><a href="/%E8%BD%AF%E4%BB%B6/" rel="section"><i class="fa fa-briefcase fa-fw"></i>软件</a></li><li class="menu-item menu-item-收藏"><a href="/%E6%94%B6%E8%97%8F/" rel="section"><i class="fa fa-folder fa-fw"></i>收藏</a></li><li class="menu-item menu-item-工作"><a href="/%E5%B7%A5%E4%BD%9C/" rel="section"><i class="fa fa-folder fa-fw"></i>工作</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name"></p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">550</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://chat.deepseek.com/" title="深度求索 → https:&#x2F;&#x2F;chat.deepseek.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>深度求索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tongyi.com/" title="通义千问 → https:&#x2F;&#x2F;www.tongyi.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>通义千问</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.scnet.cn/ui/chatbot/" title="国家超算 → https:&#x2F;&#x2F;www.scnet.cn&#x2F;ui&#x2F;chatbot&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>国家超算</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yuanbao.tencent.com/chat" title="腾讯元宝 → https:&#x2F;&#x2F;yuanbao.tencent.com&#x2F;chat" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>腾讯元宝</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/" title="必应搜索 → https:&#x2F;&#x2F;cn.bing.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>必应搜索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.hao268.com/" title="网址之家 → https:&#x2F;&#x2F;www.hao268.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>网址之家</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ac.scmor.com/" title="思谋学术 → https:&#x2F;&#x2F;ac.scmor.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>思谋学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://search.essclick.com/" title="爱思学术 → https:&#x2F;&#x2F;search.essclick.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>爱思学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://scholar.lanfanshu.cn/" title="番薯学术 → https:&#x2F;&#x2F;scholar.lanfanshu.cn&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>番薯学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://xmsoushu.com/" title="熊猫搜书 → https:&#x2F;&#x2F;xmsoushu.com&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>熊猫搜书</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/translator" title="必应翻译 → https:&#x2F;&#x2F;cn.bing.com&#x2F;translator" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>必应翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.baidu.com/#zh/en" title="百度翻译 → https:&#x2F;&#x2F;fanyi.baidu.com&#x2F;#zh&#x2F;en" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>百度翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.youdao.com/?keyfrom=fanyi.logo" title="有道翻译 → https:&#x2F;&#x2F;fanyi.youdao.com&#x2F;?keyfrom&#x3D;fanyi.logo" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>有道翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.oxfordlearnersdictionaries.com/definition/english/" title="牛津翻译 → https:&#x2F;&#x2F;www.oxfordlearnersdictionaries.com&#x2F;definition&#x2F;english&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>牛津翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://tools.liumingye.cn/music/#/" title="音乐下载 → http:&#x2F;&#x2F;tools.liumingye.cn&#x2F;music&#x2F;#&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-music fa-fw"></i>音乐下载</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://wx.qq.com/" title="网页微信 → https:&#x2F;&#x2F;wx.qq.com" rel="noopener me" target="_blank"><i class="fab fa-weixin fa-fw"></i>网页微信</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://login.partner.microsoftonline.cn/" title="微软办公 → https:&#x2F;&#x2F;login.partner.microsoftonline.cn" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软办公</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mathsolver.microsoft.com/" title="微软数学 → https:&#x2F;&#x2F;mathsolver.microsoft.com" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软数学</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.mail.bnu.edu.cn/" title="师大邮箱 → https:&#x2F;&#x2F;www.mail.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>师大邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mail.sina.com.cn/" title="新浪邮箱 → https:&#x2F;&#x2F;mail.sina.com.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>新浪邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://192.168.1.14/" title="实验信息 → http:&#x2F;&#x2F;192.168.1.14&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>实验信息</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.aliyundrive.com/sign/in" title="阿里云盘 → https:&#x2F;&#x2F;www.aliyundrive.com&#x2F;sign&#x2F;in" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>阿里云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yun.139.com/w/#/" title="移动云盘 → https:&#x2F;&#x2F;yun.139.com&#x2F;w&#x2F;#&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>移动云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jianguoyun.com/d/login" title="坚果网盘 → https:&#x2F;&#x2F;www.jianguoyun.com&#x2F;d&#x2F;login" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>坚果网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://efss.qloud.my/index.php/login?clear=1" title="Next云盘 → https:&#x2F;&#x2F;efss.qloud.my&#x2F;index.php&#x2F;login?clear&#x3D;1" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>Next云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.123pan.com/" title="123 网盘 → https:&#x2F;&#x2F;www.123pan.com&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>123 网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://annas-archive.org/" title="安娜档案 → https:&#x2F;&#x2F;annas-archive.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>安娜档案</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://book.sciencereading.cn/" title="科学文库 → https:&#x2F;&#x2F;book.sciencereading.cn" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>科学文库</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ylibrary.org/" title="Ylibrary → https:&#x2F;&#x2F;ylibrary.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Ylibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tboxn.com/sites/320.html" title="Zlibrary → https:&#x2F;&#x2F;www.tboxn.com&#x2F;sites&#x2F;320.html" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Zlibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.koushare.com/" title="蔻享官网 → https:&#x2F;&#x2F;www.koushare.com" rel="noopener me" target="_blank"><i class="fas fa-globe-asia fa-fw"></i>蔻享官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.duolingo.cn/" title="多邻国官 → https:&#x2F;&#x2F;www.duolingo.cn" rel="noopener me" target="_blank"><i class="fas fa-school fa-fw"></i>多邻国官</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.bnu.edu.cn/" title="师大官网 → https:&#x2F;&#x2F;www.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>师大官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://one.bnu.edu.cn/" title="数字京师 → https:&#x2F;&#x2F;one.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>数字京师</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.runoob.com/font-awesome/fontawesome-icons-brand.html" title="图站图标 → https:&#x2F;&#x2F;www.runoob.com&#x2F;font-awesome&#x2F;fontawesome-icons-brand.html" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>图站图标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://shields.io/badges" title="项目微标 → https:&#x2F;&#x2F;shields.io&#x2F;badges" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>项目微标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jd.com/" title="京东购物 → https:&#x2F;&#x2F;www.jd.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cart-shopping fa-fw"></i>京东购物</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.taobao.com/" title="淘宝购物 → https:&#x2F;&#x2F;www.taobao.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cart-shopping fa-fw"></i>淘宝购物</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/" title="LaTeXLiv → https:&#x2F;&#x2F;www.latexlive.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXLiv</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/help" title="LaTeXHel → https:&#x2F;&#x2F;www.latexlive.com&#x2F;help" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXHel</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://p2t.breezedeus.com/" title="Pix2Text → https:&#x2F;&#x2F;p2t.breezedeus.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Pix2Text</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://simpletex.cn/" title="Simplete → https:&#x2F;&#x2F;simpletex.cn" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Simplete</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/31/vim-latex%E7%BC%96%E8%BE%91%E5%A4%9A%E5%90%88%E4%B8%80%E6%96%87%E4%BB%B6%E6%97%B6%E7%9A%84%E4%B8%80%E9%94%AE%E7%BC%96%E8%AF%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/31/vim-latex%E7%BC%96%E8%BE%91%E5%A4%9A%E5%90%88%E4%B8%80%E6%96%87%E4%BB%B6%E6%97%B6%E7%9A%84%E4%B8%80%E9%94%AE%E7%BC%96%E8%AF%91/" class="post-title-link" itemprop="url">vim-latex编辑多合一文件时的一键编译</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-31 02:49:04" itemprop="dateCreated datePublished" datetime="2023-12-31T02:49:04+08:00">2023-12-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在使用<code>vim</code>或<code>nvim</code>编译<code>latex</code>文件时，对于单个源文件，自然使用<code>vim-latex</code>插件足够应对，但是对于一个多合一文件，比如说一本书，这里会有一个主文件，然后各个章节分开来写，但是每次写一部分后都要切换到主文件编译，然后再回到当前章节文件编辑，这显然是十分低效率的。于是研究使用一键编译，在多合一文件时能够直接编译主文件，设计思路是：</p>
<ol type="1">
<li><p>建立一个文件夹，<label style="color:red">文件夹名称就是要编译的主文件名称</label>.
例如：<code>特殊函数/特殊函数.tex</code></p></li>
<li><p>绑定'F10'映射到编译命令，使用shell命令截取文件夹的名称，也就获得了主文件的名称，进而直接编译就可以了，文件夹内的其他子文件就不用再管了。</p></li>
<li><p>映射设置，位于'~/.config/nvim/lua/plg/vim-latex.lua`中，相关部分设置为：
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--绑定快捷键</span></span><br><span class="line">vim.api.nvim_create_autocmd(<span class="string">&quot;FileType&quot;</span>,&#123;</span><br><span class="line">    pattern = <span class="string">&quot;tex&quot;</span>,</span><br><span class="line">    callback = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">        <span class="comment">-- 配置F4打开模板</span></span><br><span class="line">        vim.api.nvim_set_keymap(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;F4&gt;&quot;</span>, <span class="string">&quot;:TTemplate&lt;CR&gt;&quot;</span>, &#123;noremap = <span class="literal">true</span>, silent = <span class="literal">true</span>&#125;)</span><br><span class="line">        <span class="comment">-- 配置pdflatex编译，原vim-latex中使用\ll 默认 xelatex 编译</span></span><br><span class="line">        vim.api.nvim_set_keymap(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;F6&gt;&quot;</span>, <span class="string">[[&lt;cmd&gt;!pdflatex % &lt;CR&gt;]]</span>, &#123;noremap = <span class="literal">true</span>, silent = <span class="literal">true</span>&#125;)</span><br><span class="line">        <span class="comment">-- 配置F8编译 aux辅助文件，直接根据数据库生成文献引用, 注意使用%:t:r 截取文件名</span></span><br><span class="line">        vim.api.nvim_set_keymap(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;F8&gt;&quot;</span>, <span class="string">[[&lt;cmd&gt;!bibtex %:t:r.aux &lt;CR&gt;]]</span>, &#123;noremap = <span class="literal">true</span>, silent = <span class="literal">true</span>&#125;)</span><br><span class="line">        <span class="comment">-- 配置F10编译多合一文件时，以当前目录名为主文件，以节省时间</span></span><br><span class="line">        vim.api.nvim_set_keymap(<span class="string">&quot;n&quot;</span>, <span class="string">&quot;&lt;F10&gt;&quot;</span>, <span class="string">[[&lt;cmd&gt;!xelatex $(echo $PWD|awk -F&quot;/&quot; &#x27;&#123;print $NF&#125;&#x27;).tex &lt;CR&gt;]]</span>, &#123;noremap = <span class="literal">true</span>, silent = <span class="literal">true</span>&#125;)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p></li>
<li><p>多合一文件的结构参考 <figure class="highlight tex"><figcaption><span>特殊函数</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[a4paper,fontset = windows]&#123;ctexbook&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;xeCJKfntef&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>[svgnames]&#123;xcolor&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>[margin=2cm]&#123;geometry&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;tikz&#125;</span><br><span class="line"><span class="keyword">\usetikzlibrary</span>&#123;patterns&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;float&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;amsfonts&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;amssymb&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;mathtools&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;amsthm&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;amsmath&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;physics&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;multicol&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;lineno&#125;</span><br><span class="line"><span class="comment">%\usepackage&#123;mathpazo&#125;</span></span><br><span class="line"><span class="keyword">\usepackage</span>[</span><br><span class="line">  pdfborder=0 0 0,</span><br><span class="line">  bookmarksnumbered=true</span><br><span class="line">]&#123;hyperref&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>[user=teacher]&#123;cexam&#125;  </span><br><span class="line"><span class="keyword">\usepackage</span>&#123;colornote&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>[fontwarning=off]&#123;ctrlwarning&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;pgfplots&#125;</span><br><span class="line"><span class="keyword">\pgfplotsset</span>&#123;compat=1.18&#125;</span><br><span class="line"><span class="comment">%\usepackage&#123;doc&#125;</span></span><br><span class="line"><span class="comment">%\usepackage&#123;draftwatermark&#125;</span></span><br><span class="line"><span class="comment">%\SetWatermarkText&#123;冯振华&#125;</span></span><br><span class="line"><span class="keyword">\includeonly</span>&#123;</span><br><span class="line">  Gamma函数,</span><br><span class="line">  Reimannζ函数,</span><br><span class="line">  常系数线性微分方程,</span><br><span class="line">  特殊函数的微分解法,</span><br><span class="line">  积分变换,</span><br><span class="line">  特殊函数的积分解法,</span><br><span class="line">  Whittaker,</span><br><span class="line">  椭圆函数,</span><br><span class="line">  不等式高级水平必备,</span><br><span class="line">  线性代数,</span><br><span class="line">  张量分析,</span><br><span class="line">  附录,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="comment">%\title&#123;\Huge 特殊函数新解&#125;</span></span><br><span class="line"><span class="comment">%\author&#123; 冯振华&#125;</span></span><br><span class="line"><span class="comment">%\date&#123;2020年12月3日&#125;</span></span><br><span class="line"><span class="comment">%\maketitle</span></span><br><span class="line"><span class="keyword">\input</span>&#123;coverpage&#125;</span><br><span class="line"><span class="keyword">\tableofcontents</span></span><br><span class="line"><span class="keyword">\include</span>&#123;Gamma函数&#125;</span><br><span class="line"><span class="keyword">\include</span>&#123;Reimannζ函数&#125;</span><br><span class="line"><span class="keyword">\include</span>&#123;常系数线性微分方程&#125;</span><br><span class="line"><span class="keyword">\include</span>&#123;特殊函数的微分解法&#125;</span><br><span class="line"><span class="keyword">\include</span>&#123;积分变换&#125;</span><br><span class="line"><span class="keyword">\include</span>&#123;特殊函数的积分解法&#125;</span><br><span class="line"><span class="keyword">\include</span>&#123;Whittaker&#125;</span><br><span class="line"><span class="keyword">\include</span>&#123;椭圆函数&#125;</span><br><span class="line"><span class="keyword">\include</span>&#123;不等式高级水平必备&#125;</span><br><span class="line"><span class="keyword">\include</span>&#123;线性代数&#125;</span><br><span class="line"><span class="keyword">\include</span>&#123;张量分析&#125;</span><br><span class="line"><span class="keyword">\include</span>&#123;附录&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure></p></li>
</ol>
<div class="note warning"><p>注意：在绑定到<code>F10</code>的编译命令中，本来应当借助于vimscript的内置变量，但是<code>%:h</code>返回值是当前目录的缩写<code>.</code>,
而我需要的是和主文件同名的文件夹名，同时也没有使用<code>shell</code>截取字符串的方法，因为<code>##</code>或<code>%</code>都被vimscript解析成它的命令用来替换，所以直接使用了<code>awk</code>来截截取文件夹名，从而也获得了主文件的名称。同时注意，由于使用了<code>主文件/主文件.tex</code>的命名方式，在多文件<code>latex</code>的编辑过程中，应当遵守这个规定命名。同时键位<code>F9</code>已经分配给了<code>nabla</code>插件，用来显示公式，所以此处多合一编辑分配了最后一个键位<code>F10</code>。</p>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/31/vim%E4%B8%AD%E8%A1%A8%E7%A4%BA%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95%E5%92%8C%E5%BD%93%E5%89%8D%E6%96%87%E4%BB%B6%E5%90%8D%E7%9A%84%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/31/vim%E4%B8%AD%E8%A1%A8%E7%A4%BA%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95%E5%92%8C%E5%BD%93%E5%89%8D%E6%96%87%E4%BB%B6%E5%90%8D%E7%9A%84%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">vim中表示当前目录和当前文件名的方法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-31 01:01:11" itemprop="dateCreated datePublished" datetime="2023-12-31T01:01:11+08:00">2023-12-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在编写vim或nvim配置文件时需要用到当前目录和文件名，所以此罗列出来：</p>
<table>
<thead>
<tr>
<th style="text-align: left;">符号</th>
<th style="text-align: left;">表示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">%</td>
<td style="text-align: left;">当前完整的文件名</td>
</tr>
<tr>
<td style="text-align: left;">%:h</td>
<td
style="text-align: left;">文件名的头部，即文件目录.例如../path/test.c就会为../path</td>
</tr>
<tr>
<td style="text-align: left;">%:t</td>
<td
style="text-align: left;">文件名的尾部.例如../path/test.c就会为test.c</td>
</tr>
<tr>
<td style="text-align: left;">%:r</td>
<td
style="text-align: left;">无扩展名的文件名.例如../path/test就会成为test</td>
</tr>
<tr>
<td style="text-align: left;">%:e</td>
<td style="text-align: left;">扩展名</td>
</tr>
<tr>
<td style="text-align: left;">%:t:r.aux</td>
<td style="text-align: left;">文件名.aux</td>
</tr>
</tbody>
</table>
<figure class="highlight vim"><figcaption><span>各种效果</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Examples, when the <span class="keyword">file</span> name <span class="keyword">is</span> <span class="string">&quot;src/version.c&quot;</span>, current dir</span><br><span class="line"><span class="string">&quot;/home/mool/vim&quot;</span>: &gt;</span><br><span class="line">  :<span class="keyword">p</span>            /home/mool/<span class="keyword">vim</span>/src/<span class="keyword">version</span>.<span class="keyword">c</span></span><br><span class="line">  :<span class="keyword">p</span>:.                       src/<span class="keyword">version</span>.<span class="keyword">c</span></span><br><span class="line">  :<span class="keyword">p</span>:~                 ~/<span class="keyword">vim</span>/src/<span class="keyword">version</span>.<span class="keyword">c</span></span><br><span class="line">  :h                       src</span><br><span class="line">  :<span class="keyword">p</span>:h            /home/mool/<span class="keyword">vim</span>/src</span><br><span class="line">  :<span class="keyword">p</span>:h:h        /home/mool/<span class="keyword">vim</span></span><br><span class="line">  :t                       <span class="keyword">version</span>.<span class="keyword">c</span></span><br><span class="line">  :<span class="keyword">p</span>:t                       <span class="keyword">version</span>.<span class="keyword">c</span></span><br><span class="line">  :r                       src/<span class="keyword">version</span></span><br><span class="line">  :<span class="keyword">p</span>:r            /home/mool/<span class="keyword">vim</span>/src/<span class="keyword">version</span></span><br><span class="line">  :<span class="variable">t:r</span>                       <span class="keyword">version</span></span><br><span class="line">  :<span class="keyword">e</span>                           <span class="keyword">c</span></span><br><span class="line">  :s?<span class="keyword">version</span>?main?               src/main.<span class="keyword">c</span></span><br><span class="line">  :s?<span class="keyword">version</span>?main?:<span class="keyword">p</span>    /home/mool/<span class="keyword">vim</span>/src/main.<span class="keyword">c</span></span><br><span class="line">  :<span class="keyword">p</span>:gs?/?\\?        \home\mool\<span class="keyword">vim</span>\src\<span class="keyword">version</span>.<span class="keyword">c</span></span><br><span class="line"></span><br><span class="line">Examples, when the <span class="keyword">file</span> name <span class="keyword">is</span> <span class="string">&quot;src/version.c.gz&quot;</span>: &gt;</span><br><span class="line">  :<span class="keyword">p</span>            /home/mool/<span class="keyword">vim</span>/src/<span class="keyword">version</span>.<span class="keyword">c</span>.gz</span><br><span class="line">  :<span class="keyword">e</span>                             gz</span><br><span class="line">  :<span class="keyword">e</span>:<span class="keyword">e</span>                           <span class="keyword">c</span>.gz</span><br><span class="line">  :<span class="keyword">e</span>:<span class="keyword">e</span>:<span class="keyword">e</span>                       <span class="keyword">c</span>.gz</span><br><span class="line">  :<span class="keyword">e</span>:<span class="keyword">e</span>:r                       <span class="keyword">c</span></span><br><span class="line">  :r                       src/<span class="keyword">version</span>.<span class="keyword">c</span></span><br><span class="line">  :r:<span class="keyword">e</span>                           <span class="keyword">c</span></span><br><span class="line">  :r:r                       src/<span class="keyword">version</span></span><br><span class="line">  :r:r:r                   src/versio</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/29/%E8%A7%A3%E5%86%B3KDE%E4%BD%BF%E7%94%A8ntfs3%E6%8C%82%E8%BD%BDntfs%E7%A1%AC%E7%9B%98%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/29/%E8%A7%A3%E5%86%B3KDE%E4%BD%BF%E7%94%A8ntfs3%E6%8C%82%E8%BD%BDntfs%E7%A1%AC%E7%9B%98%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">解决KDE使用ntfs3挂载ntfs硬盘失败的问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-29 11:05:59" itemprop="dateCreated datePublished" datetime="2023-12-29T11:05:59+08:00">2023-12-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>近期重装了<code>ArchLinux</code>，但是又遇到<code>KDE Plasma5</code>桌面环境下无法挂载<code>Windows</code>所在硬盘问题，具体是什么原因造成的尚不明确，但是百度之后找到了解决方法：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> ntfsfix -d /dev/nvme0n1p6</span><br></pre></td></tr></table></figure>
<p>注意：第一条命令需要加参数<code>-d</code>,
按好多资料没有加<code>-d</code>修复无效。原因参考资料：<a
target="_blank" rel="noopener" href="https://bbs.archlinux.org/viewtopic.php?id=271650">Mounting ntfs
partition by ntfs3 failed</a>：</p>
<div class="note info"><p>Check your dmesg for errors with ntfs3. Chances are the volume is
still marked dirty, and ntfs3 will not mount a partition where that is
the case without the force option. ntfsfix without any arguments will
actively set the dirty bit, so that a chkdsk from Windows can do a real
check/analysis. If you don't have that handy and want to clear the dirty
bit despite ntfsfix not being entirely a good checking tool you can pass
the -d argument to ntfsfix.</p>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/23/%E4%BB%80%E4%B9%88%E6%98%AFArch%E7%94%A8%E6%88%B7%E4%BB%93%E5%BA%93%EF%BC%88AUR%EF%BC%89%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%EF%BC%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/23/%E4%BB%80%E4%B9%88%E6%98%AFArch%E7%94%A8%E6%88%B7%E4%BB%93%E5%BA%93%EF%BC%88AUR%EF%BC%89%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%EF%BC%9F/" class="post-title-link" itemprop="url">什么是Arch用户仓库（AUR）以及如何使用？</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-23 02:45:54" itemprop="dateCreated datePublished" datetime="2023-12-23T02:45:54+08:00">2023-12-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>如果你一直在使用 <a target="_blank" rel="noopener" href="https://www.archlinux.org/">Arch Linux</a>
或其他基于 Arch 的发行版，如 Manjaro，那么可能会遇到
AUR。你尝试安装新软件，有人建议从 AUR 中安装它。这让你感到困惑。什么是
AUR？为什么使用它？如何使用 AUR？我将在本文中回答这些问题。</p>
<h2 id="什么是-aur">什么是 AUR？</h2>
<p>AUR 表示 Arch 用户仓库(Arch User Repository)。它是针对基于 Arch 的
Linux 发行版用户的社区驱动的仓库。它包含名为 <a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/PKGBUILD">PKGBUILD</a>
的包描述，它可让你使用 <a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Makepkg">makepkg</a>
从源代码编译软件包，然后通过 <a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Pacman#Additional_commands">pacman</a>（Arch
Linux 中的软件包管理器）安装。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/12/23/%E4%BB%80%E4%B9%88%E6%98%AFArch%E7%94%A8%E6%88%B7%E4%BB%93%E5%BA%93%EF%BC%88AUR%EF%BC%89%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%EF%BC%9F/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/22/Zsh%E9%85%8D%E7%BD%AE%E5%BF%AB%E9%80%9F%E8%B7%AF%E5%BE%84%E8%B7%B3%E8%BD%AC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/22/Zsh%E9%85%8D%E7%BD%AE%E5%BF%AB%E9%80%9F%E8%B7%AF%E5%BE%84%E8%B7%B3%E8%BD%AC/" class="post-title-link" itemprop="url">Zsh配置快速路径跳转</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-22 23:47:33" itemprop="dateCreated datePublished" datetime="2023-12-22T23:47:33+08:00">2023-12-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>使用<code>Linux</code>过程中最频繁的命令就是路径跳转<code>cd</code>,
但是它需要输入完整的路径，显然是一个麻烦的工作，然后我们有几个工具可以解决快速路径跳转的问题，它们分别是：<code>fasd</code>、<code>autojump</code>
、<code>z.sh</code>、<code>zsh-z-git</code>、<code>z.lua</code>
。其中前两个可以使用<code>pacman</code>安装，而<code>zsh-z-git</code>是以<code>z.sh</code>构建的，<code>z.lua</code>是国人实现的，后面这三个使用<code>paru</code>从<code>aur</code>源中安装，我试用了<code>zsh-z-git</code>感觉良好。通过文章<a
target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/56077546">一个会学习你习惯的 cd 命令
- z.lua</a>
获知这几个<code>zsh</code>插件中<code>z.lua</code>的性能最快，比<code>z.sh</code>快三倍，比<code>fasd/autojump</code>快十倍以上，于是决定删除<code>zsh-z-git</code>安装<code>z.lua</code>。</p>
<h2 id="安装和配置z.lua">安装和配置<code>z.lua</code></h2>
<ol type="1">
<li><p>安装<code>z.lua</code> <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paru --skipreview --needed --noconfirm -S z.lua</span><br></pre></td></tr></table></figure></p></li>
<li><p>配置启用<code>z.lua</code> <figure class="highlight sh"><figcaption><span>~/.zshrc</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /usr/share/z.lua/z.lua.plugin.zsh</span><br><span class="line">or</span><br><span class="line"><span class="built_in">eval</span> <span class="string">&quot;<span class="subst">$(lua /usr/share/z.lua/z.lua --init zsh enhanced once)</span>&quot;</span></span><br></pre></td></tr></table></figure></p></li>
</ol>
<div class="note warning"><p>注意：启用<code>z.lua</code>作用上述两种方法都可以，第一种方法比较符合<code>zsh</code>的要求，而第二种方法是官网给出的方法，这里我使用了第二种方法，因为官方文件中还有一名话：</p>
<p>Options like "enhanced", "once" and "fzf" can be used after --init
too.</p>
<p>因为它可以增加选项，所以我采用了官方的方法,
具体使用方法见下面参考文章。</p>
</div>
<h2 id="参考文章">参考文章</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/skywind3000/z.lua">z.lua官网</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/56077546">一个会学习你习惯的
cd 命令 - z.lua</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/22/%E8%A7%A3%E5%86%B3%E7%AC%94%E8%AE%B0%E6%9C%AC%E9%A3%8E%E6%89%87%E4%B8%80%E7%9B%B4%E8%BD%AC%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/22/%E8%A7%A3%E5%86%B3%E7%AC%94%E8%AE%B0%E6%9C%AC%E9%A3%8E%E6%89%87%E4%B8%80%E7%9B%B4%E8%BD%AC%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">解决笔记本风扇一直转的问题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-22 21:26:14" itemprop="dateCreated datePublished" datetime="2023-12-22T21:26:14+08:00">2023-12-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>正确的解决方法：</p>
<h2 id="关闭kde-plasma5-文件索引">关闭<code>KDE Plasma5</code>
文件索引！</h2>
<ul>
<li>使用命令关闭 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">balooctl <span class="built_in">disable</span></span><br><span class="line">balooctl <span class="built_in">suspend</span></span><br><span class="line">balooctl status</span><br></pre></td></tr></table></figure></li>
</ul>
<p>第一条命令是<label style="color:red">禁用索引框架</label>，第二条命令是<label style="color:red">立刻停止索引</label>，
而我在<code>ArchLinux</code>中直接<code>sudo kill</code>掉进程也是立杆见影！第三条命令是<label style="color:red">查看索引状态</label>。</p>
<ul>
<li><p>通过点击<code>系统设置</code>→<code>搜索</code>→<code>文件搜索</code>→<code>去掉启用文件索引</code>前的对号→右下角<code>应用</code></p></li>
<li><p>如果不想停用，可以编辑 <code>~/.config/baloofilerc</code>
，在里面添加<code>exclude folders</code>一项来忽略某些目录，加速<code>baloo index</code>速度。</p></li>
</ul>
<h2 id="关闭gnome3文件索引">关闭<code>Gnome3</code>文件索引</h2>
<ul>
<li><p>使用<code>gsettings</code>禁用<code>tracker-miner</code>应用
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gsettings set org.freedesktop.Tracker.Miner.Files crawling-interval -2</span><br><span class="line">gsettings set org.freedesktop.Tracker.Miner.Files enable-monitors false</span><br></pre></td></tr></table></figure> 同时删除旧数据<code>tracker reset --hard</code></p></li>
<li><p>或者禁止<code>tracker-*</code>软件启动 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo sed -i &quot;s/X-GNOME-Autostart-enabled=true/X-GNOME-Autostart-enabled=false/g&quot; /etc/xdg/autostart/tracker-*.desktop</span><br><span class="line">tracker reset --hard</span><br><span class="line">tracker reset --hard</span><br></pre></td></tr></table></figure></p></li>
</ul>
<h2 id="问题分析说明">问题分析说明</h2>
<p>通过命令<code>ps aux</code>查看了一下系统进程情况，发现是一个叫<code>baloo_file_extractor</code>
的进程占用了<label style="color:red">84%</label>以上的CPU资源，怪不得<code>CPU</code>一直产热，风扇一直转个不停呢，然后<code>sudko kill</code>它，大约2秒钟系统就安静了。这是一个什么东西？
参看<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Baloo">Baloo-ArchWiki</a>,
原来这是一个索引程序，它一直在扫描文件建立索引，所以即使等它运行完，如果再有文件变化，那它照样会消耗掉大量资源！
这让我想起来，原来使用<code>Gnome3</code>的时候，也遇到类似的问题，我知道刚装好的系统要索引，所以就一直等他索引完成，尽管后面的使用过程中会有风扇转，我一直误以为是驱动不兼容导致的！但是当前的Linux版本足够新根本不存在兼容问题。在使用过程中，大家都知道自己的文件放在哪里，很少使用搜索功能，所以直接关闭就是最佳的解决方案。</p>
<hr />
<p>我的电脑Thinkpad T490,
当配置完<code>ArchLinux</code>后，发现系统确实足够流畅，但是发现只使用电池的情况下电脑很安静，只要接能电源风扇就会一直转个不停，噪音很大，不能让人静下心来工作。排查问题时，发现一般笔记本电脑默认开启了<code>睿频加速技术（Turbo Boost）</code>,
也就是说CPU本身是有一个基准频率的，但是开启睿频后会提高CPU的速度，但是带来的问题却是风扇一直不停的转，产生了噪音，现在的笔记本基准频率已经够用了，所以默认的开启睿频反倒不是一个最佳的选择。于是打开高级电源管理工具<code>TLP-UI</code>,
左侧选中<code>处理器</code>, 然后在右侧找到<code>CPU_BOOST</code>,
选中两项<code>CPU_BOOST_ON_AC</code>和<code>CPU_BOOST_ON_BAT</code>并关闭，然后输入<code>root</code>密码就可以了。同时对比其他的项，将<code>AC</code>电源的项改成与<code>BAT</code>一样的设置，这样电脑就足够安静了。这里我修改的项还有：<code>CPU_ENGERGY_PERF_POLICY_ON_AC</code>
→<code>balance_power</code> , <code>CPU_MAX_PERF_ON_AC</code>→
<code>99</code>, <code>CPU_MAX_PERF_ON_BAT</code>→<code>30</code>,
关闭<code>CPU_HWP_DYN_BOOST_ON_AC_ID_TITLE</code>,
<code>PLATFORM_PROFILE_ON_AC_ID_TITLE</code>→<code>low-power</code>,
于是基本和电源模式和电池模式就一样了，实际测试电脑也确实安静的工作了。</p>
<div class="note info"><p>注意：最初在BIOS中关闭了超线程<code>Hyper-Threading Technology</code>,
这实际上就是虚拟内核，关闭后硬件显示4核，打开后发现是8核，其与电脑发热量没有最直接关系，同时也尝试关闭了动态节能技术<code>Intel SpeedStep</code>,
但是都没有解决因发热风扇一直转的问题。最终确定，这个睿频才是导致发热的元凶，关闭之后对于平时的工作也没有什么影响。</p>
</div>
<details>
<summary>
<label style="color:blue">什么是英特尔® 睿频加速技术？</label>
</summary>
<p>英特尔® 睿频加速技术的工作原理是什么？</p>
<p>CPU
并不总是需要以最大频率运行。有些程序更依赖内存来平稳运行，而另一些则属于
CPU 密集型。英特尔®
睿频加速技术就是用来解决这种不平衡问题的节能方案：它允许 CPU
在处理轻负载时以基本时钟速度运行，而在处理高负载时提升至更高的时钟速度。</p>
<p>以低时钟速率（处理器每秒执行的周期数）运行可以让处理器的功耗更低，从而减少热量，并对笔记本电脑的电池寿命产生积极影响。但是当需要更高的速度时，英特尔®
睿频加速技术会动态地提高时钟速率来进行补偿。这有时称为“算法超频”。</p>
<p>英特尔® 睿频加速技术可以在安全温度和功率限制内，将 CPU
速度提升到最高睿频。这样就可以提升单线程和多线程应用程序（利用多个处理器内核的程序）的性能。</p>
<p>如果您想知道如何启用睿频技术，不要担心 ——
它被设置为默认启用。您无需下载或配置任何东西。</p>
<p>什么是最大睿频？</p>
<p>处理轻负荷时，CPU
以其规格中列出的基本频率运行。（在使用节能英特尔SpeedStep® 技术调节 CPU
速度时，频率会更低。） 在处理标记为高性能的硬件线程时，英特尔®
睿频加速技术可将时钟速度提高到最大睿频。</p>
<p>例如，英特尔® 酷睿™ i9-9900K 处理器的基本频率为 3.60 GHz，最大睿频为
5.00
GHz。需要注意的是，根据所处情况，特定的CPU可能不会总是达到其最大睿频。速度的动态提升会根据工作负载和可用的热余量而变化。</p>
在比较 CPU
时钟速度时，最大睿频是通常要记住的关键数字。它反映了处理器在超频前的峰值性能。1除了内核数和高级功能外，这也是选购
CPU 时要考虑的重点因素之一。
</details>
<p><code>Windows</code>用户关闭睿频请参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/503821003">Windows11
高级电源管理: 调节CPU和风扇</a></li>
<li><a
target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv12372895/">通过对win10注册表修改来关闭睿频(高性能/已禁用来回切换)</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/22/vim%E5%92%8Cneovim%E4%B8%AD%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2Fcitx5%E8%BE%93%E5%85%A5%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/22/vim%E5%92%8Cneovim%E4%B8%AD%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2Fcitx5%E8%BE%93%E5%85%A5%E6%B3%95/" class="post-title-link" itemprop="url">vim和neovim中自动切换Fcitx5输入法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-22 12:30:43" itemprop="dateCreated datePublished" datetime="2023-12-22T12:30:43+08:00">2023-12-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在使用vim或neovim编辑文件时，需要经常在插入模式和编辑模式来回切换，之前已经记录了方法，但本文作为一个正式的版本记录一下，并随ArchLinux的更新相应改变。</p>
<h2 id="源自fcitx5-archwiki的方法">源自Fcitx5-ArchWiki的方法</h2>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fcitx5state=<span class="built_in">system</span>(<span class="string">&quot;fcitx5-remote&quot;</span>)</span><br><span class="line"><span class="keyword">autocmd</span> InsertLeave * :<span class="keyword">silent</span> <span class="keyword">let</span> fcitx5state=<span class="built_in">system</span>(<span class="string">&quot;fcitx5-remote&quot;</span>)[<span class="number">0</span>] | <span class="keyword">silent</span> !fcitx5-remote -<span class="keyword">c</span></span><br><span class="line"><span class="keyword">autocmd</span> InsertEnter * :<span class="keyword">silent</span> <span class="keyword">if</span> fcitx5state == <span class="number">2</span> | <span class="keyword">call</span> <span class="built_in">system</span>(<span class="string">&quot;fcitx5-remote -o&quot;</span>) | <span class="keyword">endif</span></span><br></pre></td></tr></table></figure>
<div class="note info"><p>注意：vim将上述代码添加到<code>~/.vimrc</code>,
neovim将上述代码添加到<code>~/.config/nvim/init.vim</code></p>
</div>
<h2 id="使用插件fcitx.vim">使用插件<code>fcitx.vim</code></h2>
<p>由于不同的插件管理器多少有差异，此处不记录详细配置，请将<code>lilydjwg/fcitx.vim</code>放入到配置文件对应位置即可。插件和官方的脚本区别在于：</p>
<p><code>ArchLinux</code>官方脚本可以实现在一个文件中输入法的切换，即按<code>Esc</code>后切换为英文输入法，再切换到插入模式后<code>Fcitx5</code>自动切换为刚才输入时的输入法。这个功能基本满足大家的要求。插件<code>fcitx.vim</code>的优势在于可以记录不同文件的输入法状态，例如有两个文件A和B,
编辑文件A时插入模式使用中文输入，编辑文件B时插入模式使用英文输入，在A或B按<code>Esc</code>后统一转换成了英文输入法，但是在A文件中插入时<code>Fcitx5</code>就切换到中文输入法，在B文件中插入时<code>Fcitx5</code>就切换到英文输入法。</p>
<p>由于<code>ArchLinux</code>脚本仅是一段简单代码，基本上不占用启动时间，所以vim或nvim都启动的很快，而插件<code>fcitx.vim</code>虽然功能强大，但是需要借助于<code>python3</code>和<code>python-dbus</code>,所以启动会慢一些，使用<code>Lazy</code>插件管理器，在<code>nvim</code>启动时发现插件<code>fcitx.vim</code>占用了<code>90ms</code>左右的时间，它是所有插件中占用时间最多的，其他的插件最多也就几秒.</p>
<p>由于同时编辑两种文本一个为中文另一个为英文的概率很小，从性能和实现简易程度上讲优先考虑使用<code>Fcitx5-ArchWiki</code>所提供的脚本，如果您在工作中经常处理多个文件，且这多个文件分别使用不同语言，需要分别记录不同的输入状态，那请使用插件<code>fcitx.vim</code>.</p>
<details>
<summary>
<label style="color:blue">fcitx.vim官方READM.md文件</label>
</summary>
<p>Keep and restore fcitx state for each buffer separately when
leaving/re-entering insert mode or search mode. Like always typing
English in normal mode, but Chinese in insert mode.</p>
<p>D-Bus only works with the same user so this won't work with
<code>sudo vim</code>. See the <code>fcitx5-server</code> branch for an
experimental implementation that supports <code>sudo vim</code>.</p>
<p>By default, it use python3 and D-Bus to toggle IME state. If you set
<code>g:fcitx5_remote</code> to the executable path of
<code>fcitx5-remote</code> <strong>BEFORE</strong> loading the plugin,
it will use <code>fcitx5-remote</code> instead of python and D-Bus. In
this case, python3 support is optional.</p>
<p>Usually <code>fcitx5-remote</code> mode is way faster to start up
since Python script need quite some time for the initial load if you
don't use any other plugins that load Python. The Python version will be
faster while switching.</p>
<p>Base requirements:</p>
<ul>
<li>fcitx 5</li>
</ul>
<p>Requirements for Python mode (<code>g:fcitx5_remote</code> is not
set):</p>
<ul>
<li>Vim with Python 3 compiled in</li>
<li>The python-dbus package</li>
</ul>
<p>Requirements for <code>fcitx5-remote</code> mode
(<code>g:fcitx5_remote</code> is set):</p>
<ul>
<li>fcitx5-remote</li>
</ul>
<p>If you are using <code>fcitx5-rime</code> (which has its own state),
<code>let g:fcitx5_rime = 1</code> in your <code>.vimrc</code>.</p>
<p>The <code>FcitxCurrentIM()</code> function can be used to get current
IM's name.</p>
<p>Links:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/lilydjwg/fcitx.vim">git repo</a></li>
<li><a
target="_blank" rel="noopener" href="https://www.vim.org/scripts/script.php?script_id=3764">www.vim.org</a></li>
</ul>
<p>Warning:</p>
<ol type="1">
<li>If you use Vim in terminal, to avoid the Esc delay, please set
<code>'ttimeoutlen'</code> to 100 or some other value. And check
screen's <code>maptimeout</code> or tmux's <code>escape-time</code>
option if you use it too.</li>
</ol>
<hr />
<p>在离开或重新进入插入模式或搜索模式时自动记录和恢复每个缓冲区各自的输入法状态，以便在普通模式下始终是英文输入模式，切换回插入模式时恢复离开前的输入法输入模式。</p>
<p>D-Bus 只在同一用户时有效，所以使用 <code>sudo vim</code>
时本代码就失效了。在 <code>fcitx5-server</code>
分支有一个实验性的版本支持 <code>sudo vim</code> 的用法。</p>
<p>本插件默认会使用 Python 3 并通过 D-Bus 来切换输入法状态。
但如果你在加载插件<strong>之前</strong>设置了
<code>g:fcitx5_remote</code> 为你已安装的 <code>fcitx5-remote</code>
可执行文件的路径，那么本插件会使用它来切换输入法状态；此模式下本插件并不需要
Python。</p>
<p>如果你没有其他使用 Python 的 Vim 插件，本插件的 Python
模式初始化可能会显著拖慢启动时间；而 <code>fcitx5-remote</code>
模式则没有这个问题。Python 模式会在切换时更快。</p>
<p>基本要求：</p>
<ul>
<li>fcitx 5</li>
</ul>
<p>使用 Python 模式的要求（未设置 <code>g:fcitx5_remote</code>）：</p>
<ul>
<li>带有 Python 3 支持的 Vim</li>
<li>python-dbus 包</li>
</ul>
<p>使用 <code>fcitx5-remote</code> 模式的要求（需设置
<code>g:fcitx5_remote</code>）：</p>
<ul>
<li>fcitx5-remote</li>
</ul>
<p>如果使用 <code>fcitx5-rime</code>（它自己有输入状态），在
<code>.vimrc</code> 中设置 <code>let g:fcitx5_rime = 1</code>。</p>
<p><code>FcitxCurrentIM()</code> 函数可以用于获取当前输入法的名字。</p>
<p>链接：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/lilydjwg/fcitx.vim">git 仓库</a></li>
<li><a
target="_blank" rel="noopener" href="https://www.vim.org/scripts/script.php?script_id=3764">www.vim.org</a></li>
</ul>
<p>注意事项:</p>
<ol type="1">
<li>终端下请设置 Vim <code>'ttimeoutlen'</code>
选项为较小值（如100），否则退出插入模式时会有较严重的延迟。同样会造成延迟的还有
screen 的 <code>maptimeout</code> 选项以及 tmux 的
<code>escape-time</code> 选项。</li>
<li>请在 fcitx5-configtool
中确认英语是第一个输入法，中文是第二个输入法，rime 用户可能需要设置
<code>g:fcitx5_rime = 1</code>。</li>
</ol>
</details>
<h2 id="其他插件替代方案">其他插件替代方案</h2>
<ul>
<li><a
target="_blank" rel="noopener" href="https://hub.yzuu.cf/alohaia/fcitx.nvim">alohaia/Fcitx.nvim</a> :
纯<code>Lua</code>编写的插件</li>
<li><a target="_blank" rel="noopener" href="https://hub.yzuu.cf/h-hg/fcitx.nvim">h-hg/fcitx.nvim</a>:
纯<code>Lua</code>编写的插件</li>
<li><a
target="_blank" rel="noopener" href="https://hub.yzuu.cf/rlue/vim-barbaric">rlue/vim-brabraic</a>:
纯<code>vim script</code>编写的插件</li>
</ul>
<div class="note warning"><p>注意：由于这些插件我并没有一一测试，所以请大家自行决定如何选择使用。</p>
</div>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/21/Neovim%E6%8F%92%E4%BB%B6%E7%AE%A1%E7%90%86Packer%E5%88%87%E6%8D%A2%E4%B8%BALazy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/21/Neovim%E6%8F%92%E4%BB%B6%E7%AE%A1%E7%90%86Packer%E5%88%87%E6%8D%A2%E4%B8%BALazy/" class="post-title-link" itemprop="url">Neovim插件管理Packer切换为Lazy</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-21 19:39:29" itemprop="dateCreated datePublished" datetime="2023-12-21T19:39:29+08:00">2023-12-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>今天本想解决<code>Neovim</code>自动化配置脚本编写问题，意外得知<code>Packer</code>已经不再维护，其官方仓库<a
target="_blank" rel="noopener" href="https://github.com/wbthomason/packer.nvim">packer.nvim</a>
写到：</p>
<div class="note info"><p>This repository is currently unmaintained. For the time being (as of
August, 2023), it is recommended to use one of the following plugin
managers instead:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/folke/lazy.nvim">lazy.nvim</a>: Most
stable and maintained plugin manager for Nvim.</li>
<li><a target="_blank" rel="noopener" href="https://github.com/lewis6991/pckr.nvim">pckr.nvim</a>:
Spiritual successor of packer.nvim. Functional but not as stable as
lazy.nvim.</li>
</ul>
</div>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/12/21/Neovim%E6%8F%92%E4%BB%B6%E7%AE%A1%E7%90%86Packer%E5%88%87%E6%8D%A2%E4%B8%BALazy/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/20/%E4%B8%BAvim-templates%E6%8F%92%E4%BB%B6%E7%BC%96%E5%86%99%E6%A8%A1%E6%9D%BF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/20/%E4%B8%BAvim-templates%E6%8F%92%E4%BB%B6%E7%BC%96%E5%86%99%E6%A8%A1%E6%9D%BF/" class="post-title-link" itemprop="url">为vim-templates插件编写模板</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-20 19:28:54" itemprop="dateCreated datePublished" datetime="2023-12-20T19:28:54+08:00">2023-12-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>vim-templates</code>是一款相当好用的<code>vim</code>插件，同时支持<code>neovim</code>,
当使用<code>vim</code>或<code>neovim</code>建立文件时，此插件会导入预先设置模板，这大大提高了工作效率。虽然默认配置了好多的模板，但都是一些通用模板，于是就需要自己定义模板，在定义模板的过程中一些变量的引用是重要的内容。本文从官方网站：
<a
target="_blank" rel="noopener" href="https://github.com/tibabit/vim-templates">tibabit/vim-templates</a>
的<code>README.md</code>文件中截取相关变量部分，以方便编写模板之用。同时也可以在安装插件后，使用命令：<code>:help template.txt</code>调出使用细节。</p>
<h2 id="customization">Customization</h2>
<h3 id="creating-your-own-templates">Creating your own templates</h3>
<ul>
<li>Create a file <code>&lt;template_name&gt;.template</code> inside a
folder which is searched by the plugin( <a href="#search-paths">see
below</a>), e.g. if you want to create a template file for a c++ main
file you can name it <code>cppmain.template</code> or
<code>cppm.template</code></li>
<li>Open the file and edit, for example</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/12/20/%E4%B8%BAvim-templates%E6%8F%92%E4%BB%B6%E7%BC%96%E5%86%99%E6%A8%A1%E6%9D%BF/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/20/Linux%E5%8A%A0%E5%AF%86%E5%8E%8B%E7%BC%A9%E5%92%8C%E8%A7%A3%E5%8E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/12/20/Linux%E5%8A%A0%E5%AF%86%E5%8E%8B%E7%BC%A9%E5%92%8C%E8%A7%A3%E5%8E%8B/" class="post-title-link" itemprop="url">Linux加密压缩和解压</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-20 18:18:55" itemprop="dateCreated datePublished" datetime="2023-12-20T18:18:55+08:00">2023-12-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>在创建备份文件时，有些文件需要加密保存，这时使用命令加密文件就显得必不可少，当使用的时候运行脚本过程再解压，但是要求输入密码，而密码是掌握在作者手中的，所以确保了隐私安全。</p>
<h2 id="使用zip压缩和解压">使用ZIP压缩和解压</h2>
<ol type="1">
<li><p>命令中直接输入密码 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zip -rP yourpassword package.zip package</span><br></pre></td></tr></table></figure></p></li>
<li><p>交互分步输入密码 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zip -re package.zip package</span><br></pre></td></tr></table></figure></p></li>
<li><p>ZIP解压缩 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip package.zip </span><br></pre></td></tr></table></figure></p></li>
</ol>
<h2 id="使用tar压缩和解压">使用TAR压缩和解压</h2>
<ol type="1">
<li><p>TAR加密压缩 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zcvf - ./package | openssl des3 -salt -k yourpassword | <span class="built_in">dd</span> of=meiyou.tar.gz</span><br></pre></td></tr></table></figure></p></li>
<li><p>TAR解压缩 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=meiyou.tar.gz | openssl des3 -d -k yourpassword |tar zxf -</span><br></pre></td></tr></table></figure></p></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="上一页" aria-label="上一页" href="/page/33/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/33/">33</a><span class="page-number current">34</span><a class="page-number" href="/page/35/">35</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><a class="extend next" rel="next" title="下一页" aria-label="下一页" href="/page/35/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; Sat Sep 03 2022 08:00:00 GMT+0800 (中国标准时间) – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa-solid fa-star"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">fengzhenhua</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/fungzhenhua" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://s4.zstatic.net/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://s4.zstatic.net/ajax/libs/pdfobject/2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://s4.zstatic.net/ajax/libs/mermaid/11.4.0/mermaid.min.js","integrity":"sha256-G8ouPAnw4zzMbnAenHnVz6h9XpKbNdOkrqTh7AadyHs="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://s4.zstatic.net/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
