<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#9400D3"><meta name="generator" content="Hexo 5.4.2">
<link rel="preconnect" href="https://s4.zstatic.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#9400D3">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":true,"height":500},"bookmark":{"enable":true,"color":"#9400D3","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script>



<link rel="canonical" href="http://example.com/2021/10/25/Manjaro%E9%85%8D%E7%BD%AE2021%E7%89%88/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://example.com/2021/10/25/Manjaro%E9%85%8D%E7%BD%AE2021%E7%89%88/","path":"2021/10/25/Manjaro配置2021版/","title":"Manjaro配置2021版"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Manjaro配置2021版 | BNU-FZH</title>
  







<script async src="/lib/fireworks.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">BNU-FZH</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">fengzhenhua@outlook.com</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-导航"><a href="/%E5%AF%BC%E8%88%AA/" rel="section"><i class="fa fa-paper-plane fa-fw"></i>导航</a></li><li class="menu-item menu-item-软件"><a href="/%E8%BD%AF%E4%BB%B6/" rel="section"><i class="fa fa-briefcase fa-fw"></i>软件</a></li><li class="menu-item menu-item-收藏"><a href="/%E6%94%B6%E8%97%8F/" rel="section"><i class="fa fa-folder fa-fw"></i>收藏</a></li><li class="menu-item menu-item-工作"><a href="/%E5%B7%A5%E4%BD%9C/" rel="section"><i class="fa fa-folder fa-fw"></i>工作</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2"><span class="nav-number">1.</span> <span class="nav-text">自动部署</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%8B%E5%8A%A8%E9%83%A8%E7%BD%B2"><span class="nav-number">2.</span> <span class="nav-text">手动部署</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%9C%AC%E4%BA%BA%E4%B8%8D%E6%83%B3%E4%BD%BF%E7%94%A8%E7%9A%84manjaro%E5%86%85%E7%BD%AE%E8%BD%AF%E4%BB%B6"><span class="nav-number">3.</span> <span class="nav-text">删除本人不想使用的Manjaro内置软件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E5%BF%85%E5%A4%87%E5%B7%A5%E5%85%B7"><span class="nav-number">4.</span> <span class="nav-text">安装必备工具</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AEfcitx5"><span class="nav-number">5.</span> <span class="nav-text">设置fcitx5</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E4%BA%8E%E4%BB%A5xorg%E4%BD%9C%E4%B8%BA%E6%98%BE%E7%A4%BA%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AEfcitx5"><span class="nav-number">5.1.</span> <span class="nav-text">对于以xorg作为显示服务器的系统设置fcitx5</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E4%BA%8E%E4%BB%A5wayland%E4%BD%9C%E4%B8%BA%E6%98%BE%E7%A4%BA%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AEfcitx5"><span class="nav-number">5.2.</span> <span class="nav-text">对于以wayland作为显示服务器的系统设置fcitx5</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vim-nvim-%E4%B8%8B-fcitx5-%E4%B8%AD%E8%8B%B1%E6%96%87%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2"><span class="nav-number">5.3.</span> <span class="nav-text">vim （nvim) 下 Fcitx5
中英文自动切换</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AEzsh%E4%B8%BB%E9%A2%98"><span class="nav-number">6.</span> <span class="nav-text">设置zsh主题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E5%AD%97%E4%BD%93"><span class="nav-number">7.</span> <span class="nav-text">安装字体</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E5%BE%AE%E4%BF%A1"><span class="nav-number">8.</span> <span class="nav-text">安装微信</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7xtreme"><span class="nav-number">9.</span> <span class="nav-text">安装下载工具xtreme</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85wps-office"><span class="nav-number">10.</span> <span class="nav-text">安装wps-office</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEhexo"><span class="nav-number">11.</span> <span class="nav-text">安装配置Hexo</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85texlive"><span class="nav-number">12.</span> <span class="nav-text">安装TexLive</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8texlive%E9%95%9C%E5%83%8F%E5%AE%89%E8%A3%85texlive"><span class="nav-number">12.1.</span> <span class="nav-text">使用texlive镜像安装TexLive</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8pacman%E5%AE%89%E8%A3%85texlive"><span class="nav-number">12.2.</span> <span class="nav-text">使用pacman安装TexLive</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vim%E7%BC%96%E8%BE%91markdown"><span class="nav-number">13.</span> <span class="nav-text">vim编辑markdown</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AEvim%E7%BC%96%E8%BE%91%E5%99%A8"><span class="nav-number">14.</span> <span class="nav-text">配置vim编辑器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8latex%E7%BC%96%E8%AF%91%E6%96%87%E6%A1%A3%E6%97%B6latex-hooks-warning"><span class="nav-number">15.</span> <span class="nav-text">使用latex编译文档时LaTeX hooks Warning</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E4%B8%80"><span class="nav-number">15.1.</span> <span class="nav-text">解决方法一</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="nav-number">15.2.</span> <span class="nav-text">解决方法二</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#manjaro-%E5%8D%87%E7%BA%A7%E5%90%8E%E5%87%BA%E7%8E%B0%E6%97%A0%E5%A3%B0%E9%9F%B3%E7%8E%B0%E5%83%8F"><span class="nav-number">16.</span> <span class="nav-text">Manjaro 升级后出现无声音现像</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E9%97%AD%E8%AD%A6%E5%91%8A%E6%8F%90%E7%A4%BA%E5%A3%B0%E9%9F%B3"><span class="nav-number">17.</span> <span class="nav-text">关闭警告提示声音</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#gnome3%E9%BB%98%E8%AE%A4%E5%BF%AB%E6%8D%B7%E6%8F%B5%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="nav-number">18.</span> <span class="nav-text">Gnome3默认快捷揵的设置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AEneovim"><span class="nav-number">19.</span> <span class="nav-text">配置neovim</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name"></p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">559</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://www.zxxk.com/" title="学科资源 → https:&#x2F;&#x2F;www.zxxk.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>学科资源</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://zujuan.xkw.com/" title="组卷题库 → https:&#x2F;&#x2F;zujuan.xkw.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>组卷题库</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://192.168.1.14/" title="实验信息 → http:&#x2F;&#x2F;192.168.1.14&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>实验信息</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhixue.com/" title="智学阅卷 → https:&#x2F;&#x2F;www.zhixue.com" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>智学阅卷</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://chat.deepseek.com/" title="深度求索 → https:&#x2F;&#x2F;chat.deepseek.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>深度求索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tongyi.com/" title="通义千问 → https:&#x2F;&#x2F;www.tongyi.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>通义千问</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.scnet.cn/ui/chatbot/" title="国家超算 → https:&#x2F;&#x2F;www.scnet.cn&#x2F;ui&#x2F;chatbot&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>国家超算</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yuanbao.tencent.com/chat" title="腾讯元宝 → https:&#x2F;&#x2F;yuanbao.tencent.com&#x2F;chat" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>腾讯元宝</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/" title="必应搜索 → https:&#x2F;&#x2F;cn.bing.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>必应搜索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.hao268.com/" title="网址之家 → https:&#x2F;&#x2F;www.hao268.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>网址之家</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ac.scmor.com/" title="思谋学术 → https:&#x2F;&#x2F;ac.scmor.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>思谋学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://search.essclick.com/" title="爱思学术 → https:&#x2F;&#x2F;search.essclick.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>爱思学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://scholar.lanfanshu.cn/" title="番薯学术 → https:&#x2F;&#x2F;scholar.lanfanshu.cn&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>番薯学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://xmsoushu.com/" title="熊猫搜书 → https:&#x2F;&#x2F;xmsoushu.com&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>熊猫搜书</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/translator" title="必应翻译 → https:&#x2F;&#x2F;cn.bing.com&#x2F;translator" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>必应翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.baidu.com/#zh/en" title="百度翻译 → https:&#x2F;&#x2F;fanyi.baidu.com&#x2F;#zh&#x2F;en" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>百度翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.youdao.com/?keyfrom=fanyi.logo" title="有道翻译 → https:&#x2F;&#x2F;fanyi.youdao.com&#x2F;?keyfrom&#x3D;fanyi.logo" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>有道翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.oxfordlearnersdictionaries.com/definition/english/" title="牛津翻译 → https:&#x2F;&#x2F;www.oxfordlearnersdictionaries.com&#x2F;definition&#x2F;english&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>牛津翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://wx.qq.com/" title="网页微信 → https:&#x2F;&#x2F;wx.qq.com" rel="noopener me" target="_blank"><i class="fab fa-weixin fa-fw"></i>网页微信</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://login.partner.microsoftonline.cn/" title="微软办公 → https:&#x2F;&#x2F;login.partner.microsoftonline.cn" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软办公</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mathsolver.microsoft.com/" title="微软数学 → https:&#x2F;&#x2F;mathsolver.microsoft.com" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软数学</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.mail.bnu.edu.cn/" title="师大邮箱 → https:&#x2F;&#x2F;www.mail.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>师大邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mail.sina.com.cn/" title="新浪邮箱 → https:&#x2F;&#x2F;mail.sina.com.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>新浪邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.aliyundrive.com/sign/in" title="阿里云盘 → https:&#x2F;&#x2F;www.aliyundrive.com&#x2F;sign&#x2F;in" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>阿里云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yun.139.com/w/#/" title="移动云盘 → https:&#x2F;&#x2F;yun.139.com&#x2F;w&#x2F;#&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>移动云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jianguoyun.com/d/login" title="坚果网盘 → https:&#x2F;&#x2F;www.jianguoyun.com&#x2F;d&#x2F;login" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>坚果网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://efss.qloud.my/index.php/login?clear=1" title="Next云盘 → https:&#x2F;&#x2F;efss.qloud.my&#x2F;index.php&#x2F;login?clear&#x3D;1" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>Next云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.123pan.com/" title="123 网盘 → https:&#x2F;&#x2F;www.123pan.com&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>123 网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://annas-archive.org/" title="安娜档案 → https:&#x2F;&#x2F;annas-archive.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>安娜档案</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://book.sciencereading.cn/" title="科学文库 → https:&#x2F;&#x2F;book.sciencereading.cn" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>科学文库</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ylibrary.org/" title="Ylibrary → https:&#x2F;&#x2F;ylibrary.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Ylibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tboxn.com/sites/320.html" title="Zlibrary → https:&#x2F;&#x2F;www.tboxn.com&#x2F;sites&#x2F;320.html" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Zlibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.koushare.com/" title="蔻享官网 → https:&#x2F;&#x2F;www.koushare.com" rel="noopener me" target="_blank"><i class="fas fa-globe-asia fa-fw"></i>蔻享官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.duolingo.cn/" title="多邻国官 → https:&#x2F;&#x2F;www.duolingo.cn" rel="noopener me" target="_blank"><i class="fas fa-school fa-fw"></i>多邻国官</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.bnu.edu.cn/" title="师大官网 → https:&#x2F;&#x2F;www.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>师大官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://one.bnu.edu.cn/" title="数字京师 → https:&#x2F;&#x2F;one.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>数字京师</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.runoob.com/font-awesome/fontawesome-icons-brand.html" title="图站图标 → https:&#x2F;&#x2F;www.runoob.com&#x2F;font-awesome&#x2F;fontawesome-icons-brand.html" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>图站图标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://shields.io/badges" title="项目微标 → https:&#x2F;&#x2F;shields.io&#x2F;badges" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>项目微标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jd.com/" title="京东购物 → https:&#x2F;&#x2F;www.jd.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cart-shopping fa-fw"></i>京东购物</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.taobao.com/" title="淘宝购物 → https:&#x2F;&#x2F;www.taobao.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cart-shopping fa-fw"></i>淘宝购物</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/" title="LaTeXLiv → https:&#x2F;&#x2F;www.latexlive.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXLiv</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/help" title="LaTeXHel → https:&#x2F;&#x2F;www.latexlive.com&#x2F;help" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXHel</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://p2t.breezedeus.com/" title="Pix2Text → https:&#x2F;&#x2F;p2t.breezedeus.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Pix2Text</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://simpletex.cn/" title="Simplete → https:&#x2F;&#x2F;simpletex.cn" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Simplete</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/10/25/Manjaro%E9%85%8D%E7%BD%AE2021%E7%89%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Manjaro配置2021版 | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Manjaro配置2021版
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-10-25 18:45:23" itemprop="dateCreated datePublished" datetime="2021-10-25T18:45:23+08:00">2021-10-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>2021年 10月 25日 星期一 19:28:12 CST
我在升级Manjaro的拓展插件后，发现这些插件都出现了问题，不能正常工作。这个工作是在浏览器中借助<a
target="_blank" rel="noopener" href="https://extensions.gnome.org/">GNOME Shell Extensions</a>
来安装的，同时如果这些插件有更新，则系统会给出提示。然而此次系统故障使我意识到不能轻易使用这个方法，因为有些插件会不兼容当前系统，所以不得已又重新安装了一遍系统。虽然之前写过一篇Manjaro配置指南，但是不够简洁，所以本文记录一下直接配置，而不做说明。直接复制代码在终端下执行就可以了，同时日后会逐步完善此文以期更好的服务大众。</p>
<span id="more"></span>
<h2 id="自动部署">自动部署</h2>
<p>在实际工作中，不可避免的需要重新安装系统，虽然Linux足够稳定，但是有时候会滚挂了，此时就需要重新安装系统才能解决。为了节省时间，我制作了自动化配置脚本，目前为初版，后期会不断加强改进。只需要做如下工作：</p>
<figure class="highlight plaintext"><figcaption><span>manjaro配置脚本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S git</span><br><span class="line">git clone https://gitee.com/fengzhenhua/script   ./script</span><br><span class="line">cd ./script</span><br><span class="line">chmod 755 vflh.sh</span><br><span class="line">./vflh.sh</span><br></pre></td></tr></table></figure>
<h2 id="手动部署">手动部署</h2>
<div class="tabs" id="manjaro配置"><ul class="nav-tabs"><li class="tab active"><a href="#manjaro配置-1">下载和安装</a></li><li class="tab"><a href="#manjaro配置-2">安装必备工具</a></li><li class="tab"><a href="#manjaro配置-3">配置LaTeX和Vim</a></li><li class="tab"><a href="#manjaro配置-4">问题汇总</a></li><li class="tab"><a href="#manjaro配置-5">manjaro手册</a></li></ul><div class="tab-content"><div class="tab-pane active" id="manjaro配置-1"><ol type="1">
<li>登录<a
target="_blank" rel="noopener" href="https://manjaro.org/get-manjaro/">Manjaro官网</a>下载<code>xface</code>、<code>gnome</code>或<code>kde</code>版本的安装镜像。</li>
<li>参考<a
target="_blank" rel="noopener" href="https://fengzhenhua.gitee.io/2021/07/10/Ventoy制作多系统启动盘/?highlight=ventoy">Ventoy制作多系统启动盘</a>
使用Ventoy安装系统。</li>
<li>切换国内镜像源</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman-mirrors -c China</span><br><span class="line">sudo pacman -Syu</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="manjaro配置-2"><h2
id="删除本人不想使用的manjaro内置软件">删除本人不想使用的Manjaro内置软件</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -R gnome-contacts  gnome-maps gnome-weather gnome-todo lollypop onlyoffice-desktopeditors  webapp-manager totem</span><br><span class="line">sudo pacman -Rns $(pacman -Qtdq)</span><br></pre></td></tr></table></figure>
<h2 id="安装必备工具">安装必备工具</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S vim unarchiver pdftk cups-pdf poppler-data nodejs  npm  git pandoc mpv  sof-firmware fcitx5 fcitx5-qt fcitx5-gtk fcitx5-configtool fcitx5-chinese-addons fcitx5-material-color  fcitx5-nord</span><br></pre></td></tr></table></figure>
<div class="note warning">
<p>
2021年12月10日升级完成manjaro之后，发现电脑没有声音,这个问题之前也是遇到过，所以这次一定得解决，经过两天查找工作，发现新版的Manjaro不知道什么原因没有安装sof-firmware
,这导致了系统没有声音，于2021年12月12日安装此软件，解决问题。
</p>
</div>
<h2 id="设置fcitx5">设置fcitx5</h2>
<h3
id="对于以xorg作为显示服务器的系统设置fcitx5">对于以xorg作为显示服务器的系统设置fcitx5</h3>
<figure class="highlight plaintext">
<figcaption>
<span>针对xorg，编辑文件/etc/profile 在最后面添加以下内容</span>
</figcaption>
<table>
<tr>
<td class="gutter">
<pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>
</td>
<td class="code">
<pre><span class="line">export GTK_IM_MODULE=fcitx5</span><br><span class="line">export QT_IM_MODULE=fcitx5</span><br><span class="line">export XMODIFIERS=&quot;@im=fcitx5&quot;</span><br><span class="line">fcitx5 &amp;</span><br></pre>
</td>
</tr>
</table>
</figure>
<h3
id="对于以wayland作为显示服务器的系统设置fcitx5">对于以wayland作为显示服务器的系统设置fcitx5</h3>
<figure class="highlight plaintext">
<figcaption>
<span>针对wayland(manjaro默认)，编辑文件/etc/environment （全局）或
~/.pam_environment （用户）在最后面添加以下内容</span>
</figcaption>
<table>
<tr>
<td class="gutter">
<pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
</td>
<td class="code">
<pre><span class="line">GTK_IM_MODULE DEFAULT=fcitx5</span><br><span class="line">QT_IM_MODULE DEFAULT=fcitx5</span><br><span class="line">XMODIFIERS DEFAULT=@im=fcitx5</span><br></pre>
</td>
</tr>
</table>
</figure>
<div class="note warning">
<p>
针对Fcitx5 遇到问题时参考 <a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Fcitx5">Fcitx5 Wiki</a> 或者 <a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Fcitx5_(简体中文)">Fcitx5(简体中文)</a>目前(2021年
12月 12日 星期日 15:43:46 CST)
Manjaro默认起用的是wayland,所以第二个设置方案在此之后的版本中是有效的。
</p>
</div>
<h3 id="vim-nvim-下-fcitx5-中英文自动切换">vim （nvim) 下 Fcitx5
中英文自动切换</h3>
<figure class="highlight plaintext">
<figcaption>
<span>.vimrc 中关于Fcitx5 的配置</span>
</figcaption>
<table>
<tr>
<td class="gutter">
<pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre>
</td>
<td class="code">
<pre><span class="line">&quot;##### auto fcitx5  ###########</span><br><span class="line">let g:input_toggle = 0</span><br><span class="line">function! Fcitx2en()</span><br><span class="line">   let s:input_status = system(&quot;fcitx5-remote&quot;)</span><br><span class="line">   if s:input_status == 2</span><br><span class="line">      let g:input_toggle = 1</span><br><span class="line">      let l:a = system(&quot;fcitx5-remote -c&quot;)</span><br><span class="line">   endif</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line">function! Fcitx2zh()</span><br><span class="line">   let s:input_status = system(&quot;fcitx5-remote&quot;)</span><br><span class="line">   if s:input_status != 2 &amp;&amp; g:input_toggle == 1</span><br><span class="line">      let l:a = system(&quot;fcitx5-remote -o&quot;)</span><br><span class="line">      let g:input_toggle = 0</span><br><span class="line">   endif</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line">set ttimeoutlen=150</span><br><span class="line">&quot;退出插入模式</span><br><span class="line">autocmd InsertLeave * call Fcitx2en()</span><br><span class="line">&quot;进入插入模式</span><br><span class="line">autocmd InsertEnter * call Fcitx2zh()</span><br><span class="line">&quot;##### auto fcitx end ######</span><br></pre>
</td>
</tr>
</table>
</figure>
<p>以上代码取自于互联网，其中做的修改第二行：
<code>let g:input_toggle = 1</code>
改为<code>let g:input_toggle = 0</code>
。做出此修改的依据为：当打开一个文件时，vim处于命令模式，则必为英文，此时进入编辑模式时由于<code>input_toggle = 0</code>所以在调用
<code>Fcitx2zh</code>后不切换输入法，如果此文件一直输入的是英文，则不需要切换输入法，所以其一直就是英文输入法。当我们需要输入中文，则按<code>Ctrl+Space</code>后切换为中文，此时<code>system("fcitx5-remote")=2</code>
所以退出编辑模式后调用<code>Fcitx2en</code>
则输入法切换为英文，同时<code>let g:input_toggle = 1</code>
，当再进入编辑模式时调用<code>Fcitx2zh</code>
时就切换输入法。如果在编辑过程中需要输入英文，则按<code>Ctrl+Space</code>后切换输入法后就有，<code>system("fcitx5-remote")=2</code>
重复上述过程。于是我们实现了功能：</p>
<ol type="1">
<li><p>当在编辑模式时处于<code>英文输入法</code>时，退出后自动切换为<code>英文输入法</code>，再进入编辑模式仍然是<code>英文输入法</code>。</p></li>
<li><p>当在编辑模式时处于<code>中文输入法</code>时，退出后自动切换为<code>英文输入法</code>,
再进入编辑模式仍然是<code>中文输入法</code>。</p></li>
</ol>
<h2 id="设置zsh主题">设置zsh主题</h2>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman -S manjaro-zsh-config</span><br><span class="line">cp /etc/skel/.zshrc ~/.zshrc</span><br></pre></td></tr></table></figure>
<h2 id="安装字体">安装字体</h2>
<figure class="highlight plaintext">
<figcaption>
<span>安装windows10字体</span>
</figcaption>
<table>
<tr>
<td class="gutter">
<pre><span class="line">1</span><br><span class="line">2</span><br></pre>
</td>
<td class="code">
<pre><span class="line">sudo cp ./Fonts/windows10/ /usr/share/fonts/windows10/</span><br><span class="line">sudo fc-cache -vf</span><br></pre>
</td>
</tr>
</table>
</figure>
<h2 id="安装微信">安装微信</h2>
<p>有时候我们需要软件在Manjaro中不包括，此时我们可以借助yay来安装，比如深度的微信，如果不安装<code>base-devel</code>则
<code>yay</code>不能正常工作，所以需要安装此基础软件。</p>
<figure class="highlight plaintext">
<figcaption>
<span>使用Aur源安装软件</span>
</figcaption>
<table>
<tr>
<td class="gutter">
<pre><span class="line">1</span><br><span class="line">2</span><br></pre>
</td>
<td class="code">
<pre><span class="line">sudo pacman -S yay base-devel</span><br><span class="line">yay -S deepin-wine-wechat</span><br></pre>
</td>
</tr>
</table>
</figure>
<h2 id="安装下载工具xtreme">安装下载工具xtreme</h2>
<p>Linux下最好的下载工具当属于xtreme,首先我们到<a
target="_blank" rel="noopener" href="https://xtremedownloadmanager.com/#">xtreme官网</a>下载xtreme,然后解压缩，执行安装脚本即可。</p>
<h2 id="安装wps-office">安装wps-office</h2>
<p>目前在国内使用msoffice办公的人太多了，如果在linux下办公，则必须解决这个兼容办公的问题。时间来到2021年11月19日，今天测试了wps-office
11.1.0.10702
版，其已经可以在linux下流畅办公了，于是重新优化了简化脚本，完成了去除pdf组件及无关的网络组件，还原了一个纯净的办公软件，但是此修改限于测试之用，请尊重版权，使用官方版本。</p>
<p>由于Linux默认没有安装wps-office需要的字体，所以需要我们自己安装，请在我的百度网盘中下载：<a
target="_blank" rel="noopener" href="https://pan.baidu.com/s/1Yg6WE12PWkXM5eieLw-pjA">wps_symbol_fonts</a>
提取码: a4mr</p>
<figure class="highlight plaintext">
<figcaption>
<span>安装wps-office和字体</span>
</figcaption>
<table>
<tr>
<td class="gutter">
<pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>
</td>
<td class="code">
<pre><span class="line">yay -S wps-office</span><br><span class="line">sudo cp ./wps_symbol_fonts/*  /usr/share/fonts/wps-office</span><br><span class="line">sudo fc-cache -vf</span><br></pre>
</td>
</tr>
</table>
</figure>
<figure class="highlight plaintext">
<figcaption>
<span>优化脚本RMwpspdf.sh</span>
</figcaption>
<table>
<tr>
<td class="gutter">
<pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre>
</td>
<td class="code">
<pre><span class="line">#!/bin/bash</span><br><span class="line">#2021年 12月 06日 星期一 22:59:50 CST</span><br><span class="line">echo &quot;version: 1.4 for wps-office 11.1.0.10702&quot;</span><br><span class="line">echo &quot;Author: Feng Zhenhua(冯振华)&quot;</span><br><span class="line">printf &quot;Date: &quot;</span><br><span class="line">date </span><br><span class="line">#检测系统版本</span><br><span class="line">printf &quot;System Information:&quot;</span><br><span class="line">uname -a</span><br><span class="line"># 发出执行命令</span><br><span class="line">echo &quot;wps-office pdf component removing ......&quot;</span><br><span class="line"># remove wps-office-pdf.desktop</span><br><span class="line">if [ -f /usr/share/applications/wps-office-pdf.desktop ];</span><br><span class="line">then</span><br><span class="line">    echo &quot;1.removing /usr/share/applications/wps-office-pdf.desktop&quot;</span><br><span class="line">    sudo rm /usr/share/applications/wps-office-pdf.desktop</span><br><span class="line">else</span><br><span class="line">  echo &quot;1./usr/share/applications/wps-office-pdf.desktop had been removed.&quot; </span><br><span class="line">fi</span><br><span class="line"># remove wpspdf</span><br><span class="line">if [ -f /usr/bin/wpspdf ];</span><br><span class="line">then</span><br><span class="line">   echo &quot;2.removing /usr/bin/wpspdf&quot;</span><br><span class="line">   sudo rm /usr/bin/wpspdf</span><br><span class="line">else</span><br><span class="line"> echo &quot;2./usr/bin/wpspdf had been removed.&quot; </span><br><span class="line">fi</span><br><span class="line"># 删除主程序中的wpspdf</span><br><span class="line">if [ -f /usr/lib/office6/wpspdf ];</span><br><span class="line">then</span><br><span class="line">  echo &quot;3.removing /usr/lib/office6/wpspdf&quot;</span><br><span class="line">   sudo rm /usr/lib/office6/wpspdf</span><br><span class="line">else</span><br><span class="line"> echo &quot;3./usr/lib/office6/wpspdf had been removed.&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -f /usr/lib/office6/libpdfmain.so ];</span><br><span class="line">then</span><br><span class="line"> echo &quot;4.removing /usr/lib/office6/libpdfmain.so&quot;</span><br><span class="line">    sudo rm /usr/lib/office6/libpdfmain.so </span><br><span class="line">else</span><br><span class="line"> echo &quot;4./usr/lib/office6/libpdfmain.so  had been removed.&quot;</span><br><span class="line">fi</span><br><span class="line"># 删除wps-office*pdf* 图标</span><br><span class="line">if [ -f /usr/share/icons/hicolor/16x16/apps/wps-office2019-pdfmain.png ];</span><br><span class="line">then</span><br><span class="line"> sudo rm /usr/share/icons/hicolor/*/apps/wps-office*pdf*</span><br><span class="line">   echo &quot;5.All /usr/share/icons/hicolor/*/apps/wps-office*pdf* had been removed&quot;</span><br><span class="line">else</span><br><span class="line"> echo &quot;5.All /usr/share/icons/hicolor/*/apps/wps-office*pdf* had been removed&quot;</span><br><span class="line">fi</span><br><span class="line"># 删除关联图标</span><br><span class="line">if [ -f /usr/share/icons/hicolor/16x16/mimetypes/wps-office-pdf.png ];</span><br><span class="line">then</span><br><span class="line">   sudo rm /usr/share/icons/hicolor/*/mimetypes/wps-office*pdf*</span><br><span class="line">  echo &quot;6.All /usr/share/icons/hicolor/*/mimetypes/wps-office*pdf* had been removed.&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;6.All /usr/share/icons/hicolor/*/mimetypes/wps-office*pdf* had been removed.&quot;</span><br><span class="line">fi</span><br><span class="line"># 删除配置文件中的pdf信息</span><br><span class="line">if [ -f /usr/lib/office6/mui/zh_CN/pdf.qm ];</span><br><span class="line">then</span><br><span class="line">    sudo rm /usr/lib/office6/mui/zh_CN/*pdf*</span><br><span class="line">  echo &quot;7.All pdf related file which in the mui folder  had been removed&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;7.All pdf related file which in the mui folder  had been removed&quot;</span><br><span class="line">fi</span><br><span class="line"># 禁用轻办公</span><br><span class="line">if [ -f /usr/lib/office6/wpscloudsvr ];</span><br><span class="line">then</span><br><span class="line">    sudo mv  /usr/lib/office6/wpscloudsvr /usr/lib/office6/wpscloudsvr_bak</span><br><span class="line">  echo &quot;8. /usr/lib/office6/wpscloudsvr  had been renamed&quot;</span><br><span class="line">else</span><br><span class="line">  echo &quot;8. /usr/lib/office6/wpscloudsvr  had been renamed&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -f /usr/lib/office6/cfgs/product.dat ];</span><br><span class="line">then</span><br><span class="line"># 去除国际版侧边栏中的”团队“和”会议“</span><br><span class="line">    sudo sed -i &#x27;s/rz8f5btwwRveXzQbE1BceItXQPz7r5gLNWXNGWkK_Hs.=WHfH10HHgeQrW2N48LfXrA..//g&#x27; /usr/lib/office6/cfgs/product.dat</span><br><span class="line"># 去除“您正在使用访客账号”</span><br><span class="line"> sudo sed -i &#x27;s/JYcm_wejKY0DbtmzYoUk5Q..=WHfH10HHgeQrW2N48LfXrA..//g&#x27; /usr/lib/office6/cfgs/product.dat</span><br><span class="line"># 去除“未保存”和“协作”</span><br><span class="line">  sudo sed -i &#x27;s/vMVENEUpsDRRrn9w2_8R4g..=WHfH10HHgeQrW2N48LfXrA..//g&#x27; /usr/lib/office6/cfgs/product.dat</span><br><span class="line">  echo &quot;9.团队、会议、账号登录、未保存、协作 had been removed.&quot;</span><br><span class="line">else</span><br><span class="line">  echo &quot;9.There is no file product.dat&quot;</span><br><span class="line">fi</span><br><span class="line"># 发出确认信息</span><br><span class="line">echo &quot;We have removed the  pdf component of wps-office&quot;</span><br><span class="line">echo &quot;********************************************&quot;</span><br><span class="line">echo &quot;*                                          *&quot;</span><br><span class="line">echo &quot;*                                          *&quot;</span><br><span class="line">echo &quot;*      Happy wps-office Writing!           *&quot;</span><br><span class="line">echo &quot;*                                          *&quot;</span><br><span class="line">echo &quot;*                                          *&quot;</span><br><span class="line">echo &quot;********************************************&quot;</span><br></pre>
</td>
</tr>
</table>
</figure>
<h2 id="安装配置hexo">安装配置Hexo</h2>
<figure class="highlight plaintext">
<figcaption>
<span>Hexo安装及配置数学支持</span>
</figcaption>
<table>
<tr>
<td class="gutter">
<pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre>
</td>
<td class="code">
<pre><span class="line">sudo pacman -S nodejs  npm  git </span><br><span class="line">sudo npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line">sudo cnpm install -g hexo-cli</span><br><span class="line">sudo npm uninstall hexo-renderer-marked --save</span><br><span class="line">sudo npm uninstall hexo-math --save</span><br><span class="line">sudo cnpm install hexo-filter-mathjax --save</span><br><span class="line">sudo cnpm install hexo-renderer-pandoc --save</span><br><span class="line">sudo pacman -S pandoc</span><br></pre>
</td>
</tr>
</table>
</figure></div><div class="tab-pane" id="manjaro配置-3"><h2 id="安装texlive">安装TexLive</h2>
<h3 id="使用texlive镜像安装texlive">使用texlive镜像安装TexLive</h3>
<ol type="1">
<li><p>下载<a
target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/CTAN/systems/texlive/Images/">texlive2021.iso</a></p></li>
<li><p>挂载ISO镜像</p></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo mount -o loop texlive2021.iso  /mnt/</span><br><span class="line">cd /mnt</span><br><span class="line">sudo ./install-tl	</span><br></pre></td></tr></table></figure>
<p>出现选项后，输入 I 直接安装（也可以更改选项）。不出意外的话，5
分钟应该就 OK 了， 然后退出 root 用户。</p>
<ol start="3" type="1">
<li>设置环境变量</li>
</ol>
<p>根据texlive-en.pdf文件（texdoc texlive
可以调出）介绍，如果在安装过程中选择了建立超链接，则不必考虑环境变量，所以在安装时要建立超链接，这样子可方便一些。texlive-en.pdf
中原文如下：</p>
<div class="note warning">
<p>
If you elected to create symlinks in standard directories (described in
section 3.2.4), then there is no need to edit environment variables.
Otherwise, on Unix systems, the directory of the binaries for your
platform must be added to the search path. (On Windows, the installer
takes care of this.)
</p>
</div>
<ol start="4" type="1">
<li>卸载ISO镜像并更新texlive</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo umount /mnt/</span><br><span class="line">#更新 TeXLive 包管理器 tlmgr</span><br><span class="line">sudo tlmgr update --self</span><br><span class="line">#更新 TeXLive 的全部包</span><br><span class="line">sudo tlmgr update --all</span><br></pre></td></tr></table></figure>
<ol start="5" type="1">
<li>字体设置</li>
</ol>
<p>TeXLive 2021 在使用 xeLaTeX 处理中文时，有自己的默认字体。大多数
Linux 发行版下， 都使用自带的 Fandol 字体。如果想要使用 Windows
字体，可以将字体文件复制到 ~/.fonts 目录下，并在 tex 源码中
指定字体选项即可。</p>
<p>XeTeX和LuaTeX可以直接使用系统字体.然而texlive自带的字体不在系统的字体目录中,所以当使用XeLaTeX
编译文件时,如果使用了texlive里面带的字体,就会出错,这时需要进行如下配置,让系统可以识别texlive所带的字体就可以了.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /usr/local/texlive/2021/texmf-var/fonts/conf/texlive-fontconfig.conf   /etc/fonts/conf.d/09-texlive.conf</span><br><span class="line">sudo fc-cache -fsv</span><br></pre></td></tr></table></figure>
<h3 id="使用pacman安装texlive">使用pacman安装TexLive</h3>
<figure class="highlight plaintext">
<figcaption>
<span>安装所有Texlive包</span>
</figcaption>
<table>
<tr>
<td class="gutter">
<pre><span class="line">1</span><br></pre>
</td>
<td class="code">
<pre><span class="line">sudo pamac install texlive*</span><br></pre>
</td>
</tr>
</table>
</figure>
<p>这样子可以快速的安装texlive的宏包，但是不能用texdoc来查看,因为根据<a
target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/User:Ms/TeX_Live_Manual_Installation">ArcLinux
wiki</a>
说明，这并不包括说明字体/宏包的文档或源文件，所以需要安装AUR上的texlive-most-doc包，即</p>
<figure class="highlight plaintext">
<figcaption>
<span>安装texlive-most-doc 包</span>
</figcaption>
<table>
<tr>
<td class="gutter">
<pre><span class="line">1</span><br><span class="line">2</span><br></pre>
</td>
<td class="code">
<pre><span class="line">yay --aururl &quot;https://aur.tuna.tsinghua.edu.cn&quot; --save</span><br><span class="line">yay -S texlive-most-doc</span><br></pre>
</td>
</tr>
</table>
</figure>
<p>上述第一条命令切换为yay的清华镜像源，速度快一些,依据的信息来源为<a
target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/AUR/">AUR
镜像使用帮助</a>。虽然通过以上设置可以完成LaTeX的配置，但是经过在Dell
Latitude
3510上的实验，安装texlive-most-doc的命令消耗的时间太长，综合研判直接安装iso镜像也是一个比较好的方案。</p>
<h2 id="vim编辑markdown">vim编辑markdown</h2>
<p>由于使用Hexo编写独立博客，我需要编写markdown文件，尽管我会用LaTex,但是编辑markdown时也需要折叠及语法高亮等，这是产生配置vim使其支持markdown的想法来源。</p>
<p>配置vim支持markdown需要三个插件，即</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Plugin &#x27;plasticboy/vim-markdown&#x27;</span><br><span class="line">Plugin &#x27;iamcco/mathjax-support-for-mkdp&#x27;</span><br><span class="line">Plugin &#x27;iamcco/markdown-preview.vim&#x27;</span><br></pre></td></tr></table></figure>
<p>其中<code>vim-markdown</code>提供对md文件的折叠及语法高亮支持，而<code>markdown-preview.vim</code>
提供预览功能，如果markdown中含有数学公式，则需要<code>iamcco/mathjax-support-for-mkdp</code>
支持，这三个插件已经在vim的配置文件<code>~/.vimrc</code>中加入了，只需要执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim +PluginInstall</span><br></pre></td></tr></table></figure>
<p>即可安装。同时配置了vim绑定快捷键，这也在<code>～/.vimrc</code>中做了设置，不需要自己再动手了。对于<code>markdown-prview.vim</code>的配置可以参考<code>~/.vim/bundle/markdown-preview.vim/README_cn.md</code>设置即可,本博客不再多做说明。</p>
<h2 id="配置vim编辑器">配置vim编辑器</h2>
<figure class="highlight plaintext">
<figcaption>
<span>clone Vundle插件管理</span>
</figcaption>
<table>
<tr>
<td class="gutter">
<pre><span class="line">1</span><br></pre>
</td>
<td class="code">
<pre><span class="line">git clone https://github.com/VundleVim/Vundle.vim.git  ~/.vim/bundle/Vundle.vim</span><br></pre>
</td>
</tr>
</table>
</figure>
<figure class="highlight plaintext">
<figcaption>
<span>配置文件 ~/.vimrc</span>
</figcaption>
<table>
<tr>
<td class="gutter">
<pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre>
</td>
<td class="code">
<pre><span class="line">&quot; ====vimrc====</span><br><span class="line">&quot; Version : v1.3</span><br><span class="line">&quot; Author  : Feng Zhenhua</span><br><span class="line">&quot; Email   : fengzhenhua@outlook.com</span><br><span class="line">&quot; Date    : 2021年 12月 12日 星期日 21:36:41 CST</span><br><span class="line">&quot;</span><br><span class="line">&quot; 基础设置</span><br><span class="line">set nocompatible              &quot; be iMproved, required</span><br><span class="line">filetype off                  &quot; required</span><br><span class="line">filetype plugin on</span><br><span class="line">set grepprg=grep\ -nH\ $*</span><br><span class="line">filetype indent on</span><br><span class="line">syntax enable</span><br><span class="line">set bg=dark</span><br><span class="line">set nu</span><br><span class="line">&quot;设置配色方案</span><br><span class="line">&quot;colorscheme murphy</span><br><span class="line">colorscheme pablo</span><br><span class="line">&quot;设置列高亮</span><br><span class="line">set cursorcolumn</span><br><span class="line">&quot;设置行线</span><br><span class="line">set cursorline</span><br><span class="line">&quot;显示未执行的命令</span><br><span class="line">set showcmd</span><br><span class="line">&quot;设置自动备份</span><br><span class="line">&quot;set backup</span><br><span class="line">&quot;set backupext=.bak</span><br><span class="line">&quot;保存一个原始文件</span><br><span class="line">&quot;set patchmode=.orig</span><br><span class="line">&quot;设置用命令行版stardict(sdcv)查询单词</span><br><span class="line">&quot;set keywordprg=sdcv</span><br><span class="line">&quot;设定字符编码20180320加入</span><br><span class="line">set encoding=utf-8</span><br><span class="line">set fileencodings=utf-8,cp936</span><br><span class="line">set termencoding=utf-8</span><br><span class="line">&quot;设置缩进</span><br><span class="line">set autoindent shiftwidth=3</span><br><span class="line">&quot;设定软tab键,用来产生四个空格20180323</span><br><span class="line">set softtabstop=4</span><br><span class="line">&quot;取消vim编辑时滴滴声</span><br><span class="line">set noeb vb t_vb= </span><br><span class="line">&quot;</span><br><span class="line">&quot;##### Vundle ###########</span><br><span class="line">&quot; set the runtime path to include Vundle and initialize</span><br><span class="line">&quot; 由于git速度比较慢，所以将github上的源同步到我的gitee上来2021年 12月 12日 星期日 20:58:28 CST</span><br><span class="line">set rtp+=~/.vim/bundle/Vundle.vim</span><br><span class="line">call vundle#begin()</span><br><span class="line">#Plugin &#x27;VundleVim/Vundle.vim&#x27;</span><br><span class="line">#Plugin &#x27;vim-latex/vim-latex&#x27;</span><br><span class="line">#Plugin &#x27;aperezdc/vim-template&#x27;</span><br><span class="line">#Plugin &#x27;plasticboy/vim-markdown&#x27;</span><br><span class="line">#Plugin &#x27;iamcco/mathjax-support-for-mkdp&#x27;</span><br><span class="line">#Plugin &#x27;iamcco/markdown-preview.vim&#x27;</span><br><span class="line">Plugin &#x27;https://gitee.com/fengzhenhua/Vundle.vim&#x27;</span><br><span class="line">Plugin &#x27;https://gitee.com/fengzhenhua/vim-latex&#x27;</span><br><span class="line">Plugin &#x27;https://gitee.com/fengzhenhua/vim-template&#x27;</span><br><span class="line">Plugin &#x27;https://gitee.com/fengzhenhua/vim-markdown&#x27;</span><br><span class="line">Plugin &#x27;https://gitee.com/fengzhenhua/mathjax-support-for-mkdp&#x27;</span><br><span class="line">Plugin &#x27;https://gitee.com/fengzhenhua/markdown-preview.vim&#x27;</span><br><span class="line">call vundle#end()            &quot; required</span><br><span class="line">filetype plugin indent on    &quot; required</span><br><span class="line">&quot; To ignore plugin indent changes, instead use:</span><br><span class="line">&quot;</span><br><span class="line">&quot; 简明帮助</span><br><span class="line">&quot; :PluginList       - 列出配置过的插件</span><br><span class="line">&quot; :PluginInstall    - 安装插件; 附加`!` 更新插件，或只用:PluginUpdate</span><br><span class="line">&quot; :PluginSearch foo - 查找 foo; 附加`!` 刷新本地缓存</span><br><span class="line">&quot; :PluginClean      - 确认删除无用的插件; 附加`!`强制删除</span><br><span class="line">&quot;</span><br><span class="line">&quot; see :h vundle for more details or wiki for FAQ</span><br><span class="line">&quot; Put your non-Plugin stuff after this line</span><br><span class="line">&quot;##### Vundle end  ###########</span><br><span class="line">&quot;</span><br><span class="line">&quot;##### vim-latex/latex-suite  ###########</span><br><span class="line">&quot;打开dtx文件自定义命令</span><br><span class="line">autocmd BufNewFile,BufRead *.dtx source ~/.vim/bundle/vim-latex/ftplugin/dtx.vim</span><br><span class="line">let g:Tex_Flavor=&#x27;latex&#x27;</span><br><span class="line">&quot; 控制编译过程中的警告信息</span><br><span class="line">let g:Tex_IgnoredWarnings = </span><br><span class="line">  \&#x27;Underfull&#x27;.&quot;\n&quot;.</span><br><span class="line">    \&#x27;Overfull&#x27;.&quot;\n&quot;.</span><br><span class="line"> \&#x27;specifier changed to&#x27;.&quot;\n&quot;.</span><br><span class="line"> \&#x27;You have requested&#x27;.&quot;\n&quot;.</span><br><span class="line">   \&#x27;Missing number, treated as zero.&#x27;.&quot;\n&quot;.</span><br><span class="line"> \&#x27;There were undefined references&#x27;.&quot;\n&quot;.</span><br><span class="line">  \&#x27;Citation %.%# undefined&#x27;.&quot;\n&quot;.</span><br><span class="line">  \&quot;LaTeX hooks Warning&quot;</span><br><span class="line">let g:Tex_IgnoreLevel = 8</span><br><span class="line">let g:Tex_GotoError = 0</span><br><span class="line">&quot; 控制编译方式和PDF浏览软件manjaro linux</span><br><span class="line">let g:Tex_DefaultTargetFormat = &#x27;pdf&#x27;</span><br><span class="line">let g:Tex_CompileRule_pdf = &#x27;xelatex -synctex=1 -interaction=nonstopmode -file-line-error-style $*&#x27;</span><br><span class="line">let g:Tex_ViewRule_pdf=&#x27;evince&#x27;</span><br><span class="line">&quot;##### vim-latex/latex-suite end  ###########</span><br><span class="line">&quot;</span><br><span class="line">&quot;##### vim-templates ###########</span><br><span class="line">&quot; 自定义模板所在文件夹</span><br><span class="line">let g:templates_directory = &#x27;~/.vim/templates&#x27;</span><br><span class="line">let g:templates_user_variables = [[&#x27;EMAIL&#x27;, &#x27;GetEmail&#x27;],[&#x27;AUTHOR&#x27;, &#x27;GetAuthor&#x27;]]</span><br><span class="line">function GetEmail()</span><br><span class="line">    return &#x27;fengzhenhua@outlook.com&#x27;</span><br><span class="line">endfunction</span><br><span class="line">function GetAuthor()</span><br><span class="line">    return &#x27;冯振华&#x27;</span><br><span class="line">endfunction</span><br><span class="line">&quot;##### vim-templates  end ###########</span><br><span class="line">&quot;</span><br><span class="line">&quot;##### auto fcitx5  ###########</span><br><span class="line">let g:input_toggle = 1</span><br><span class="line">function! Fcitx2en()</span><br><span class="line">   let s:input_status = system(&quot;fcitx5-remote&quot;)</span><br><span class="line">   if s:input_status == 2</span><br><span class="line">      let g:input_toggle = 1</span><br><span class="line">      let l:a = system(&quot;fcitx5-remote -c&quot;)</span><br><span class="line">   endif</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line">function! Fcitx2zh()</span><br><span class="line">   let s:input_status = system(&quot;fcitx5-remote&quot;)</span><br><span class="line">   if s:input_status != 2 &amp;&amp; g:input_toggle == 1</span><br><span class="line">      let l:a = system(&quot;fcitx5-remote -o&quot;)</span><br><span class="line">      let g:input_toggle = 0</span><br><span class="line">   endif</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line">set ttimeoutlen=150</span><br><span class="line">&quot;退出插入模式</span><br><span class="line">autocmd InsertLeave * call Fcitx2en()</span><br><span class="line">&quot;进入插入模式</span><br><span class="line">autocmd InsertEnter * call Fcitx2zh()</span><br><span class="line">&quot;##### auto fcitx end ######</span><br><span class="line">&quot;</span><br><span class="line">&quot; 键位绑定，方便使用vim编辑md文件时快速预览</span><br><span class="line">&quot;##### markdown-preview.vim ######</span><br><span class="line">nmap &lt;silent&gt; &lt;F8&gt; &lt;Plug&gt;MarkdownPreview        &quot; 普通模式</span><br><span class="line">imap &lt;silent&gt; &lt;F8&gt; &lt;Plug&gt;MarkdownPreview        &quot; 插入模式</span><br><span class="line">nmap &lt;silent&gt; &lt;F9&gt; &lt;Plug&gt;StopMarkdownPreview    &quot; 普通模式</span><br><span class="line">imap &lt;silent&gt; &lt;F9&gt; &lt;Plug&gt;StopMarkdownPreview    &quot; 插入模式</span><br><span class="line">&quot;##### markdown-preview.vim end  ######</span><br></pre>
</td>
</tr>
</table>
</figure>
<div class="note warning">
<p>
当vim启动时，它首先读取配置文件 <code>～/.vimrc</code>
,所以对于自己配置的插件，其配置内容应当写入此配置文件。比如对于
<code>vim-latex</code>的配置，之前是修改的文件
<code>~/.vim/bundle/vim-latex/ftplugin/latex-suite/texrc</code>
,但是如果遇到插件升级时，则此文件会被覆盖，这样子又要重新设置，显然不是一个好的方法，同时此文件的开头也声明了不要直接修改此文件。所以最好的方法是参考<code>texrc</code>对需要修改的配置，加入到<code>~/.vimrc</code>中，这样可以避免每次升级或重装后进行修改。
</p>
</div></div><div class="tab-pane" id="manjaro配置-4"><h2
id="使用latex编译文档时latex-hooks-warning">使用latex编译文档时<code>LaTeX hooks Warning</code></h2>
<p>2021年 12月 08日 星期三 12:08:58 CST 当我按照texlive.pdf
文档设置好<code>TexLive</code>后，编译了一份文档，但是会出现如下警告</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">LaTeX hooks Warning: Generic hook &#x27;package/after/&lt;name&gt;&#x27; is deprecated.</span><br><span class="line">(hooks)              Use hook &#x27;package/&lt;name&gt;/after&#x27; instead.</span><br><span class="line"></span><br><span class="line">LaTeX hooks Warning: Generic hook &#x27;class/after/&lt;name&gt;&#x27; is deprecated.</span><br><span class="line">(hooks)              Use hook &#x27;class/&lt;name&gt;/after&#x27; instead.</span><br><span class="line"></span><br><span class="line">LaTeX hooks Warning: Generic hook &#x27;include/after/&lt;name&gt;&#x27; is deprecated.</span><br><span class="line">(hooks)              Use hook &#x27;include/&lt;name&gt;/after&#x27; instead.</span><br></pre></td></tr></table></figure>
<h3 id="解决方法一">解决方法一</h3>
<p>据<a
target="_blank" rel="noopener" href="https://tex.stackexchange.com/questions/623542/generic-hook-name-is-deprecated-warning-after-update#:~:text=LaTeX%20hooks%20Warning%3A%20Generic%20hook%20%27file%2Fafter%2F%3Cname%3E%27%20is%20deprecated.,had%20env%2F%3Cname%3E%2Fafter%20and%20file%2Fafter%2F%3Cname%3E%20which%20was%20simply%20confusing.">tex.stackexchange.com</a>
介绍，此警告是无害的。它是由于最近LaTeX
kernel的变动，同时这个警告会伴随<code>translations</code>的更新尽快得到解决。如果你真的想移除这个警告，将以下代码添加到文档的最前端，即可</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\ExplSyntaxOn \msg_redirect_name:nnn &#123; hooks &#125; &#123; generic-deprecated &#125; &#123; none &#125; \ExplSyntaxOff</span><br></pre></td></tr></table></figure>
<p>例如，在<code>通用课程表.tex</code>的前五行写为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">\ExplSyntaxOn \msg_redirect_name:nnn &#123; hooks &#125; &#123; generic-deprecated &#125; &#123; none &#125; \ExplSyntaxOff</span><br><span class="line">\documentclass[12pt,a4paper,fontset = windows ]&#123;ctexbook&#125;</span><br><span class="line">\usepackage&#123;amsmath&#125;</span><br><span class="line">\usepackage&#123;amsfonts&#125;</span><br><span class="line">\usepackage&#123;amssymb&#125;</span><br></pre></td></tr></table></figure>
<h3 id="解决方法二">解决方法二</h3>
<p>设置<code>vim-latex</code>插件，使其过滤掉这个由于<code>LaTeX kernel</code>的变动而造成的警告，通过打开<code>~/.vim/bundle/vim-latex/ftplugin/latex-suite/texrc</code>查找<code>warnings</code>便可以找到解决方法。此部分已经在<code>~/.vimrc</code>中做出了修改，因此这里仅列出对应的代码，实际操作中不必单独再修改<code>.vimrc</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&quot; 控制编译过程中的警告信息</span><br><span class="line">let g:Tex_IgnoredWarnings = </span><br><span class="line">	\&#x27;Underfull&#x27;.&quot;\n&quot;.</span><br><span class="line">	\&#x27;Overfull&#x27;.&quot;\n&quot;.</span><br><span class="line">	\&#x27;specifier changed to&#x27;.&quot;\n&quot;.</span><br><span class="line">	\&#x27;You have requested&#x27;.&quot;\n&quot;.</span><br><span class="line">	\&#x27;Missing number, treated as zero.&#x27;.&quot;\n&quot;.</span><br><span class="line">	\&#x27;There were undefined references&#x27;.&quot;\n&quot;.</span><br><span class="line">	\&#x27;Citation %.%# undefined&#x27;.&quot;\n&quot;.</span><br><span class="line">	\&quot;LaTeX hooks Warning&quot;</span><br><span class="line">let g:Tex_IgnoreLevel = 8</span><br></pre></td></tr></table></figure>
<h2 id="manjaro-升级后出现无声音现像">Manjaro 升级后出现无声音现像</h2>
<p>之前也遇到过这个问题，但是系统又不能不升级，所以必须解决这个问题。经过长时间的百度得到方案，即新版Manjaro不知道什么原因，没有预装sof-firmware,在安装此软件后问题得到解决。2021年
12月 12日 星期日 15:50:58 CST</p>
<h2 id="关闭警告提示声音">关闭警告提示声音</h2>
<ol type="1">
<li>消除vim中bash的滴滴声</li>
</ol>
编辑<code>/etc/inputrc</code>文件,去除第二行的注释符号<code>#</code>,默认的设置如下
<figure class="highlight plaintext">
<figcaption>
<span>/etc/inputrc</span>
</figcaption>
<table>
<tr>
<td class="gutter">
<pre><span class="line">1</span><br><span class="line">2</span><br></pre>
</td>
<td class="code">
<pre><span class="line"># do not bell on tab-completion</span><br><span class="line">#set bell-style none</span><br></pre>
</td>
</tr>
</table>
</figure>
<ol start="2" type="1">
<li>消除Vim中的滴滴声</li>
</ol>
<p>编辑<code>~/.vimrc</code>文件，添加 <code>set noeb vb t_vb=</code>
保存退出后立即生效。此已经在配置脚本中的<code>vimrc</code>做好了设置，使用脚本设置系统即可，不必再手动修改。</p>
<h2 id="gnome3默认快捷揵的设置">Gnome3默认快捷揵的设置</h2>
<p>在升级Manjaro后发现默认快捷键的设定有所变动，不清楚Gnome3团队的意图，所以就自己经常用的快捷键重新改回。设置方法为在Gnome3桌面环境下，<code>右上角菜单</code><span
class="math inline">\(\rightarrow\)</span> <code>设置</code> <span
class="math inline">\(\rightarrow\)</span> <code>键盘</code> <span
class="math inline">\(\downarrow\)</span> <code>键盘快捷键</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">操作</th>
<th style="text-align: center;">默认快捷键</th>
<th style="text-align: center;">通用快捷键</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">关闭窗口</td>
<td style="text-align: center;">Super+Q</td>
<td style="text-align: center;">Alt+F4</td>
</tr>
<tr>
<td style="text-align: center;">最大化窗口</td>
<td style="text-align: center;">禁用</td>
<td style="text-align: center;">Super+<span
class="math inline">\(\uparrow\)</span></td>
</tr>
</tbody>
</table>
<h2 id="配置neovim">配置neovim</h2>
<p>2022-02-22
我尝试了插件<code>UltiSnips</code>，按照网络上的教程，在vim中完美运行，但是在neovim中却报错，百度之后在
<a target="_blank" rel="noopener" href="https://gitee.com/houdunwang/nvim">后盾人/nvim</a>
获得解答，这是因为没有安装好对应的依赖。安装完成后，Neovim
实现完美工作,如果有不明白的地方请详细参考上述网站获取解答。</p>
<figure class="highlight plaintext">
<figcaption>
<span>neovim</span>
</figcaption>
<table>
<tr>
<td class="gutter">
<pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre>
</td>
<td class="code">
<pre><span class="line"></span><br><span class="line"># 安装环境需要的软件</span><br><span class="line"></span><br><span class="line"># mac</span><br><span class="line">brew install node python3 yarn ranger python-pip</span><br><span class="line"></span><br><span class="line"># manjaro</span><br><span class="line">sudo pacman -Sy node python3 yarn ranger python-pip</span><br><span class="line"></span><br><span class="line"># ubuntu</span><br><span class="line">sudo apt install node python3 yarn ranger python-pip</span><br><span class="line"></span><br><span class="line"># centos</span><br><span class="line">sudo yum install node python3 yarn ranger python-pip</span><br><span class="line"></span><br><span class="line"># Neovim 需要的软件包</span><br><span class="line"></span><br><span class="line">python -m pip install pynvim</span><br><span class="line"></span><br><span class="line">pip3 install --user --upgrade neovim</span><br><span class="line"></span><br><span class="line">pip3 install ranger-fm</span><br><span class="line"></span><br></pre>
</td>
</tr>
</table>
</figure></div><div class="tab-pane" id="manjaro配置-5"><div class="pdf-container" data-target="/PDF/manjaro.pdf"
data-height="500px">

</div></div></div></div>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/10/19/Linux%E5%92%8CWindows%E4%B8%8B%E7%9A%84%E8%BE%93%E5%85%A5%E6%B3%95/" rel="prev" title="Linux和Windows下的输入法">
                  <i class="fa fa-angle-left"></i> Linux和Windows下的输入法
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/11/10/Vim%E6%A8%A1%E6%9D%BF%E7%9A%84%E4%BD%BF%E7%94%A8/" rel="next" title="Vim模板的使用">
                  Vim模板的使用 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; Sat Sep 03 2022 08:00:00 GMT+0800 (中国标准时间) – 
    <span itemprop="copyrightYear">2026</span>
    <span class="with-love">
      <i class="fa-solid fa-star"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">fengzhenhua</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/fungzhenhua" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://s4.zstatic.net/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://s4.zstatic.net/ajax/libs/pdfobject/2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://s4.zstatic.net/ajax/libs/mermaid/11.4.0/mermaid.min.js","integrity":"sha256-G8ouPAnw4zzMbnAenHnVz6h9XpKbNdOkrqTh7AadyHs="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://s4.zstatic.net/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
