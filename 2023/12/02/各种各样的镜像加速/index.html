<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#9400D3"><meta name="generator" content="Hexo 5.4.2">
<link rel="preconnect" href="https://s4.zstatic.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#9400D3">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"default"},"fold":{"enable":true,"height":500},"bookmark":{"enable":true,"color":"#9400D3","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script>



<link rel="canonical" href="http://example.com/2023/12/02/%E5%90%84%E7%A7%8D%E5%90%84%E6%A0%B7%E7%9A%84%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://example.com/2023/12/02/%E5%90%84%E7%A7%8D%E5%90%84%E6%A0%B7%E7%9A%84%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/","path":"2023/12/02/各种各样的镜像加速/","title":"各种各样的镜像加速"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>各种各样的镜像加速 | BNU-FZH</title>
  







<script async src="/lib/fireworks.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">BNU-FZH</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">fengzhenhua@outlook.com</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-导航"><a href="/%E5%AF%BC%E8%88%AA/" rel="section"><i class="fa fa-paper-plane fa-fw"></i>导航</a></li><li class="menu-item menu-item-软件"><a href="/%E8%BD%AF%E4%BB%B6/" rel="section"><i class="fa fa-briefcase fa-fw"></i>软件</a></li><li class="menu-item menu-item-收藏"><a href="/%E6%94%B6%E8%97%8F/" rel="section"><i class="fa fa-folder fa-fw"></i>收藏</a></li><li class="menu-item menu-item-工作"><a href="/%E5%B7%A5%E4%BD%9C/" rel="section"><i class="fa fa-folder fa-fw"></i>工作</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%84%E7%A7%8D%E5%90%84%E6%A0%B7%E7%9A%84%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F"><span class="nav-number">1.</span> <span class="nav-text">各种各样的镜像加速</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#overview"><span class="nav-number">1.1.</span> <span class="nav-text">Overview</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BD%93%E7%84%B6%E6%AC%A2%E8%BF%8E%E5%AE%8C%E5%96%84%E5%AE%83"><span class="nav-number">1.1.0.0.1.</span> <span class="nav-text">当然，欢迎完善它：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%B5%8F%E8%A7%88%E9%98%85%E8%AF%BB%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0"><span class="nav-number">1.1.0.0.2.</span> <span class="nav-text">如何更好的浏览&#x2F;阅读这篇文章：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A2%9E%E5%8A%A0%E4%BA%86%E4%B8%80%E4%B8%AA%E5%85%B3%E4%BA%8E-xtom.help-%E7%9A%84%E9%99%84%E5%BD%95"><span class="nav-number">1.1.0.0.3.</span> <span class="nav-text">增加了一个关于 xtom.help
的附录</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#license"><span class="nav-number">1.2.</span> <span class="nav-text">License</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tools"><span class="nav-number">1.3.</span> <span class="nav-text">Tools</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ports"><span class="nav-number">1.3.1.</span> <span class="nav-text">ports</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#proxy_set"><span class="nav-number">1.3.2.</span> <span class="nav-text">proxy_set</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#is_darwin"><span class="nav-number">1.3.3.</span> <span class="nav-text">is_darwin</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#china-mainland-mirrors"><span class="nav-number">1.4.</span> <span class="nav-text">China Mainland Mirrors</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#github-clone"><span class="nav-number">1.4.1.</span> <span class="nav-text">GitHub Clone</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9-hosts-%E6%96%87%E4%BB%B6-%E5%9F%BA%E6%9C%AC%E5%A4%B1%E6%95%88"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">修改 hosts 文件 (基本失效)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#git-ssh%E5%8D%8F%E8%AE%AE%E4%BB%A3%E7%90%86"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">Git SSH协议代理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#git-https%E5%8D%8F%E8%AE%AE%E4%BB%A3%E7%90%86"><span class="nav-number">1.4.1.3.</span> <span class="nav-text">Git HTTPS协议代理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%9F%E6%B4%BB%E5%85%85%E6%BB%A1%E7%BE%8E%E5%A5%BD"><span class="nav-number">1.4.1.4.</span> <span class="nav-text">生活充满美好</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-github-%E9%95%9C%E5%83%8F%E7%BD%91%E7%AB%99"><span class="nav-number">1.4.2.</span> <span class="nav-text">使用 GitHub 镜像网站</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#hub.nuaa.cf"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">hub.nuaa.cf</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#gitclone.com"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">gitclone.com</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fastgit.org"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">fastgit.org</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#more"><span class="nav-number">1.4.2.4.</span> <span class="nav-text">More</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%A4%E5%A4%96github-%E5%8F%AF%E4%BB%A5%E7%9B%B4%E8%BE%BE"><span class="nav-number">1.4.3.</span> <span class="nav-text">此外，GitHub 可以直达</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#docker-ce"><span class="nav-number">1.4.4.</span> <span class="nav-text">Docker CE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#alpine-apk"><span class="nav-number">1.4.5.</span> <span class="nav-text">Alpine Apk</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#android-sdk"><span class="nav-number">1.4.6.</span> <span class="nav-text">Android SDK</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#arch-linux-pacman"><span class="nav-number">1.4.7.</span> <span class="nav-text">Arch Linux Pacman</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#curl"><span class="nav-number">1.4.8.</span> <span class="nav-text">curl</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#envvar"><span class="nav-number">1.4.8.1.</span> <span class="nav-text">EnvVar</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#special"><span class="nav-number">1.4.8.1.1.</span> <span class="nav-text">Special</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BF%AB%E9%80%9F%E5%88%AB%E5%90%8D"><span class="nav-number">1.4.8.2.</span> <span class="nav-text">快速别名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9B%B4%E5%A5%BD%E7%9A%84"><span class="nav-number">1.4.8.3.</span> <span class="nav-text">更好的</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#flutter-dart-pub"><span class="nav-number">1.4.9.</span> <span class="nav-text">Flutter &amp; Dart Pub</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#flutter-%E9%95%9C%E5%83%8F%E5%AE%89%E8%A3%85%E5%B8%AE%E5%8A%A9"><span class="nav-number">1.4.9.1.</span> <span class="nav-text">Flutter 镜像安装帮助</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#go-modules"><span class="nav-number">1.4.10.</span> <span class="nav-text">Go Modules</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-number">1.4.10.1.</span> <span class="nav-text">参考</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#gradle"><span class="nav-number">1.4.11.</span> <span class="nav-text">Gradle</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#gem-%E5%92%8C-cocoapods"><span class="nav-number">1.4.12.</span> <span class="nav-text">Gem 和 CocoaPods</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9B%BF%E6%8D%A2-ruby-%E6%BA%90"><span class="nav-number">1.4.12.1.</span> <span class="nav-text">替换 Ruby 源</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%A7%BB%E9%99%A4%E7%8E%B0%E6%9C%89%E7%9A%84ruby%E9%95%9C%E5%83%8F"><span class="nav-number">1.4.12.1.1.</span> <span class="nav-text">移除现有的Ruby镜像</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%9B%BD%E5%86%85%E6%9C%80%E6%96%B0%E9%95%9C%E5%83%8F"><span class="nav-number">1.4.12.1.2.</span> <span class="nav-text">添加国内最新镜像</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E9%95%9C%E5%83%8F"><span class="nav-number">1.4.12.1.3.</span> <span class="nav-text">查看当前镜像</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bundler"><span class="nav-number">1.4.12.2.</span> <span class="nav-text">bundler</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A0%E9%80%9F-cocoapods"><span class="nav-number">1.4.12.3.</span> <span class="nav-text">加速 Cocoapods</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#gitee%E9%95%9C%E5%83%8F"><span class="nav-number">1.4.12.3.1.</span> <span class="nav-text">gitee镜像</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B8%85%E5%8D%8E%E9%95%9C%E5%83%8F"><span class="nav-number">1.4.12.3.2.</span> <span class="nav-text">清华镜像</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%A0%E7%9A%84-xcode-%E5%B7%A5%E7%A8%8B%E4%B8%AD%E5%A6%82%E6%9E%9C%E6%9C%89podfile%E7%9A%84%E8%AF%9D%E8%AF%B7%E4%BF%AE%E6%94%B9%E5%8A%A0%E5%85%A5%E4%B8%8B%E9%9D%A2%E7%9A%84%E8%A1%8C"><span class="nav-number">1.4.12.3.3.</span> <span class="nav-text">你的 xcode
工程中如果有Podfile的话，请修改加入下面的行：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#homebrew"><span class="nav-number">1.4.13.</span> <span class="nav-text">Homebrew</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%8D%E5%8E%9F"><span class="nav-number">1.4.13.1.</span> <span class="nav-text">复原</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#pub-%E9%95%9C%E5%83%8F%E5%AE%89%E8%A3%85%E5%B8%AE%E5%8A%A9"><span class="nav-number">1.4.13.2.</span> <span class="nav-text">Pub 镜像安装帮助</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mageia"><span class="nav-number">1.4.14.</span> <span class="nav-text">Mageia</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#list-software-sources"><span class="nav-number">1.4.14.1.</span> <span class="nav-text">List software sources</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E6%BA%90"><span class="nav-number">1.4.14.2.</span> <span class="nav-text">添加源</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#urpmi-%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95"><span class="nav-number">1.4.14.2.1.</span> <span class="nav-text">urpmi 配置方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#dnf-%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95"><span class="nav-number">1.4.14.2.2.</span> <span class="nav-text">dnf 配置方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#maven"><span class="nav-number">1.4.15.</span> <span class="nav-text">Maven</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%87%87%E7%94%A8aliyun%E9%95%9C%E5%83%8F"><span class="nav-number">1.4.15.1.</span> <span class="nav-text">采用aliyun镜像</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#node-%E5%92%8C-npmyarn"><span class="nav-number">1.4.16.</span> <span class="nav-text">Node 和 npm&#x2F;Yarn</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#opensuse-%E8%BD%AF%E4%BB%B6%E6%BA%90"><span class="nav-number">1.4.17.</span> <span class="nav-text">openSUSE 软件源</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#opensuse-leap-15.2-%E6%88%96%E6%9B%B4%E6%96%B0%E7%89%88%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">1.4.17.1.</span> <span class="nav-text">openSUSE Leap 15.2
或更新版本使用方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#opensuse-tumbleweed-%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">1.4.17.2.</span> <span class="nav-text">openSUSE Tumbleweed 使用方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%99%84%E6%B3%A8-about-xtom.help"><span class="nav-number">1.4.17.3.</span> <span class="nav-text">附注, About xtom.help</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#python-pip-%E5%92%8C-composer"><span class="nav-number">1.4.18.</span> <span class="nav-text">Python pip 和 composer</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#pip"><span class="nav-number">1.4.18.1.</span> <span class="nav-text">Pip</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#composer"><span class="nav-number">1.4.18.2.</span> <span class="nav-text">Composer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sequel"><span class="nav-number">1.4.18.3.</span> <span class="nav-text">Sequel</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#r-cran"><span class="nav-number">1.4.19.</span> <span class="nav-text">R CRAN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rust-cargo-%E5%92%8C-rustup"><span class="nav-number">1.4.20.</span> <span class="nav-text">Rust Cargo 和 Rustup</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#fixup"><span class="nav-number">1.4.20.1.</span> <span class="nav-text">Fixup</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ubuntu-apt-source"><span class="nav-number">1.4.21.</span> <span class="nav-text">Ubuntu Apt Source</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E6%96%B9%E6%B3%95"><span class="nav-number">1.4.21.1.</span> <span class="nav-text">其他方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A8%E8%8D%90%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">1.4.21.2.</span> <span class="nav-text">推荐的方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%8D%E5%AF%86%E7%A0%81-sudo"><span class="nav-number">1.4.21.3.</span> <span class="nav-text">免密码 sudo</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-apt-select"><span class="nav-number">1.4.21.3.1.</span> <span class="nav-text">使用 apt-select</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8mirrors-cdn"><span class="nav-number">1.4.21.3.2.</span> <span class="nav-text">使用mirrors CDN</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ubuntu-ppa-source"><span class="nav-number">1.4.22.</span> <span class="nav-text">Ubuntu PPA Source</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#launchpad.proxy.ustclug.org-%E5%BA%9F%E4%BA%86"><span class="nav-number">1.4.22.1.</span> <span class="nav-text">launchpad.proxy.ustclug.org
废了</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vagrant"><span class="nav-number">1.4.23.</span> <span class="nav-text">Vagrant</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%99%84%E5%BD%95%E4%B8%80"><span class="nav-number">1.4.24.</span> <span class="nav-text">附录一</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E-xtom.help"><span class="nav-number">1.4.24.0.1.</span> <span class="nav-text">关于 xtom.help</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#conclusion"><span class="nav-number">1.5.</span> <span class="nav-text">Conclusion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A1%A5%E5%85%85"><span class="nav-number">1.6.</span> <span class="nav-text">补充</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name"></p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">559</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://www.zxxk.com/" title="学科资源 → https:&#x2F;&#x2F;www.zxxk.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>学科资源</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://zujuan.xkw.com/" title="组卷题库 → https:&#x2F;&#x2F;zujuan.xkw.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>组卷题库</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://192.168.1.14/" title="实验信息 → http:&#x2F;&#x2F;192.168.1.14&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>实验信息</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhixue.com/" title="智学阅卷 → https:&#x2F;&#x2F;www.zhixue.com" rel="noopener me" target="_blank"><i class="fa-solid fa-cloud fa-fw"></i>智学阅卷</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://chat.deepseek.com/" title="深度求索 → https:&#x2F;&#x2F;chat.deepseek.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>深度求索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tongyi.com/" title="通义千问 → https:&#x2F;&#x2F;www.tongyi.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>通义千问</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.scnet.cn/ui/chatbot/" title="国家超算 → https:&#x2F;&#x2F;www.scnet.cn&#x2F;ui&#x2F;chatbot&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>国家超算</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yuanbao.tencent.com/chat" title="腾讯元宝 → https:&#x2F;&#x2F;yuanbao.tencent.com&#x2F;chat" rel="noopener me" target="_blank"><i class="fa-solid fa-brain fa-fw"></i>腾讯元宝</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/" title="必应搜索 → https:&#x2F;&#x2F;cn.bing.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>必应搜索</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.hao268.com/" title="网址之家 → https:&#x2F;&#x2F;www.hao268.com" rel="noopener me" target="_blank"><i class="fa fa-search fa-fw"></i>网址之家</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ac.scmor.com/" title="思谋学术 → https:&#x2F;&#x2F;ac.scmor.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>思谋学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://search.essclick.com/" title="爱思学术 → https:&#x2F;&#x2F;search.essclick.com" rel="noopener me" target="_blank"><i class="fa fa-graduation-cap fa-fw"></i>爱思学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://scholar.lanfanshu.cn/" title="番薯学术 → https:&#x2F;&#x2F;scholar.lanfanshu.cn&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>番薯学术</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://xmsoushu.com/" title="熊猫搜书 → https:&#x2F;&#x2F;xmsoushu.com&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>熊猫搜书</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://cn.bing.com/translator" title="必应翻译 → https:&#x2F;&#x2F;cn.bing.com&#x2F;translator" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>必应翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.baidu.com/#zh/en" title="百度翻译 → https:&#x2F;&#x2F;fanyi.baidu.com&#x2F;#zh&#x2F;en" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>百度翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://fanyi.youdao.com/?keyfrom=fanyi.logo" title="有道翻译 → https:&#x2F;&#x2F;fanyi.youdao.com&#x2F;?keyfrom&#x3D;fanyi.logo" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>有道翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.oxfordlearnersdictionaries.com/definition/english/" title="牛津翻译 → https:&#x2F;&#x2F;www.oxfordlearnersdictionaries.com&#x2F;definition&#x2F;english&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-language fa-fw"></i>牛津翻译</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://wx.qq.com/" title="网页微信 → https:&#x2F;&#x2F;wx.qq.com" rel="noopener me" target="_blank"><i class="fab fa-weixin fa-fw"></i>网页微信</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://login.partner.microsoftonline.cn/" title="微软办公 → https:&#x2F;&#x2F;login.partner.microsoftonline.cn" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软办公</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mathsolver.microsoft.com/" title="微软数学 → https:&#x2F;&#x2F;mathsolver.microsoft.com" rel="noopener me" target="_blank"><i class="fas fa-file fa-fw"></i>微软数学</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.mail.bnu.edu.cn/" title="师大邮箱 → https:&#x2F;&#x2F;www.mail.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>师大邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://mail.sina.com.cn/" title="新浪邮箱 → https:&#x2F;&#x2F;mail.sina.com.cn" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>新浪邮箱</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.aliyundrive.com/sign/in" title="阿里云盘 → https:&#x2F;&#x2F;www.aliyundrive.com&#x2F;sign&#x2F;in" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>阿里云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://yun.139.com/w/#/" title="移动云盘 → https:&#x2F;&#x2F;yun.139.com&#x2F;w&#x2F;#&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>移动云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jianguoyun.com/d/login" title="坚果网盘 → https:&#x2F;&#x2F;www.jianguoyun.com&#x2F;d&#x2F;login" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>坚果网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://efss.qloud.my/index.php/login?clear=1" title="Next云盘 → https:&#x2F;&#x2F;efss.qloud.my&#x2F;index.php&#x2F;login?clear&#x3D;1" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>Next云盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.123pan.com/" title="123 网盘 → https:&#x2F;&#x2F;www.123pan.com&#x2F;" rel="noopener me" target="_blank"><i class="fa fa-hdd fa-fw"></i>123 网盘</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://annas-archive.org/" title="安娜档案 → https:&#x2F;&#x2F;annas-archive.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>安娜档案</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://book.sciencereading.cn/" title="科学文库 → https:&#x2F;&#x2F;book.sciencereading.cn" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>科学文库</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://ylibrary.org/" title="Ylibrary → https:&#x2F;&#x2F;ylibrary.org&#x2F;" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Ylibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.tboxn.com/sites/320.html" title="Zlibrary → https:&#x2F;&#x2F;www.tboxn.com&#x2F;sites&#x2F;320.html" rel="noopener me" target="_blank"><i class="fas fa-book fa-fw"></i>Zlibrary</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.koushare.com/" title="蔻享官网 → https:&#x2F;&#x2F;www.koushare.com" rel="noopener me" target="_blank"><i class="fas fa-globe-asia fa-fw"></i>蔻享官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.duolingo.cn/" title="多邻国官 → https:&#x2F;&#x2F;www.duolingo.cn" rel="noopener me" target="_blank"><i class="fas fa-school fa-fw"></i>多邻国官</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.bnu.edu.cn/" title="师大官网 → https:&#x2F;&#x2F;www.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>师大官网</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://one.bnu.edu.cn/" title="数字京师 → https:&#x2F;&#x2F;one.bnu.edu.cn" rel="noopener me" target="_blank"><i class="fas fa-university fa-fw"></i>数字京师</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.runoob.com/font-awesome/fontawesome-icons-brand.html" title="图站图标 → https:&#x2F;&#x2F;www.runoob.com&#x2F;font-awesome&#x2F;fontawesome-icons-brand.html" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>图站图标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://shields.io/badges" title="项目微标 → https:&#x2F;&#x2F;shields.io&#x2F;badges" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>项目微标</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jd.com/" title="京东购物 → https:&#x2F;&#x2F;www.jd.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cart-shopping fa-fw"></i>京东购物</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.taobao.com/" title="淘宝购物 → https:&#x2F;&#x2F;www.taobao.com&#x2F;" rel="noopener me" target="_blank"><i class="fa-solid fa-cart-shopping fa-fw"></i>淘宝购物</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/" title="LaTeXLiv → https:&#x2F;&#x2F;www.latexlive.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXLiv</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.latexlive.com/help" title="LaTeXHel → https:&#x2F;&#x2F;www.latexlive.com&#x2F;help" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>LaTeXHel</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://p2t.breezedeus.com/" title="Pix2Text → https:&#x2F;&#x2F;p2t.breezedeus.com" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Pix2Text</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://simpletex.cn/" title="Simplete → https:&#x2F;&#x2F;simpletex.cn" rel="noopener me" target="_blank"><i class="fas fa-globe fa-fw"></i>Simplete</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/02/%E5%90%84%E7%A7%8D%E5%90%84%E6%A0%B7%E7%9A%84%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BNU-FZH">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="各种各样的镜像加速 | BNU-FZH">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          各种各样的镜像加速
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-12-02 14:14:12" itemprop="dateCreated datePublished" datetime="2023-12-02T14:14:12+08:00">2023-12-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-03-26 18:21:20" itemprop="dateModified" datetime="2025-03-26T18:21:20+08:00">2025-03-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>为了在技术上更加方便交流，在<code>github</code>上找到一个项目，用来提供镜像加速。这里直接引用其<code>README.md</code>文件就够用了，因为它记录了具体内容。
具体参考其镜像网站：</p>
<p><a
target="_blank" rel="noopener" href="https://github.com/hedzr/mirror-list">https://github.com/hedzr/mirror-list</a></p>
<h1 id="各种各样的镜像加速">各种各样的镜像加速</h1>
<blockquote>
<p>mirrors-for-coder(s)</p>
</blockquote>
<blockquote>
<p>目录已经没有必要自行生成了，因为 GitHub, Gitee 等都主动提供了 TOC
支持。</p>
</blockquote>
<span id="more"></span>
<h2 id="overview">Overview</h2>
<p>这里做一个集中，尽管以前都是遇到时立即搜索，但是集中一下之后，看起来也很壮观的。</p>
<h5 id="当然欢迎完善它">当然，欢迎完善它：</h5>
<ul>
<li>https://github.com/hedzr/mirror-list</li>
</ul>
<h5 id="如何更好的浏览阅读这篇文章">如何更好的浏览/阅读这篇文章：</h5>
<ol type="1">
<li>可以寻找 chrome 插件 Github Markdown Outline
Extension，但是我好像是拿来修订了之后才能使用的。</li>
<li>可以寻找chrome插件 HTML5 Outliner</li>
<li>下载、拉取到本机并以 Typora 打开浏览</li>
</ol>
<h5 id="增加了一个关于-xtom.help-的附录">增加了一个关于 xtom.help
的附录</h5>
<p>详见：<a href="#附录一">附录一</a></p>
<h2 id="license">License</h2>
<p>本文中给出的源码像其它软件开发代码一样采用 MIT，随便用。</p>
<p>本文的内容，基本上没版权，在公共域。部分内容摘抄自公共服务器，此时请直接查看相应的原始内容，我尽力给出链接指向。有的内容是摘编后的成品，则统一使用内容创作共用
CC4-BY-NC-SA。</p>
<p>本文的排版和组织，如果有所谓，MIT，你还是可以用，随便。</p>
<h2 id="tools">Tools</h2>
<h3 id="ports"><code>ports</code></h3>
<p>ports 是一个查看本地服务端口表的工具。你可以这么使用它：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ports   <span class="comment"># 列出全部</span></span><br><span class="line">ports | grep -vE <span class="string">&#x27;ssh|mysql&#x27;</span>    <span class="comment"># 列出全部，但不必罗列 ssh 和 mysql</span></span><br><span class="line">ports 3306 <span class="comment"># 看看 mysql 是不是在</span></span><br></pre></td></tr></table></figure>
<p>它的源码实现如下，加入到你的 .bashrc 或者 .zshrc 中就好（同时适用于
linux/macOS zsh/bash 环境）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">ports</span></span>() &#123;</span><br><span class="line">  <span class="built_in">local</span> SUDO=<span class="variable">$&#123;SUDO:-sudo&#125;</span></span><br><span class="line">  [ <span class="string">&quot;<span class="subst">$(id -u)</span>&quot;</span> = <span class="string">&quot;0&quot;</span> ] &amp;&amp; SUDO=</span><br><span class="line">  <span class="keyword">if</span> [[ <span class="variable">$#</span> -eq 0 ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">eval</span> <span class="variable">$SUDO</span> lsof -Pni | grep -E <span class="string">&quot;LISTEN|UDP&quot;</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">local</span> p=<span class="string">&#x27;&#x27;</span> i</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span>; <span class="keyword">do</span></span><br><span class="line">      <span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$i</span>&quot;</span> -eq <span class="string">&quot;<span class="variable">$i</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">        p=<span class="string">&quot;<span class="variable">$p</span> -i :<span class="variable">$i</span>&quot;</span></span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        p=<span class="string">&quot;<span class="variable">$p</span> -i <span class="variable">$i</span>&quot;</span></span><br><span class="line">      <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line">    <span class="built_in">eval</span> <span class="variable">$SUDO</span> lsof -Pn <span class="variable">$p</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>基本上，这是一个很常用的工具，你没有必要使用 netstat 或者 iotop 或者
TUI / GUI 工具来查看打开的端口表。</p>
<h3 id="proxy_set"><code>proxy_set</code></h3>
<p>在 zsh/bash 环境中，你可能需要一个小型工具，其主体内容是这样的：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># PROXY_LINK=&#x27;http://127.0.0.1:7890&#x27;</span></span><br><span class="line"><span class="function"><span class="title">proxy_set</span></span>() &#123;</span><br><span class="line">  <span class="built_in">local</span> onoff=<span class="variable">$&#123;1:-usage&#125;</span></span><br><span class="line">  <span class="keyword">if</span> is_darwin; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">local</span> pip=$(ipconfig getifaddr en0 || ipconfig getifaddr en1) </span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">local</span> pip=$(hostname -I|awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>)</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  <span class="built_in">local</span> <span class="built_in">link</span>=<span class="variable">$&#123;PROXY_LINK:-http://$pip:7890&#125;</span></span><br><span class="line">  <span class="function"><span class="title">proxy_print_status</span></span>() &#123;</span><br><span class="line">    [ <span class="string">&quot;<span class="variable">$http_proxy</span>&quot;</span> != <span class="string">&quot;&quot;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;http_proxy=<span class="variable">$http_proxy</span>&quot;</span></span><br><span class="line">    [ <span class="string">&quot;<span class="variable">$HTTP_PROXY</span>&quot;</span> != <span class="string">&quot;&quot;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;HTTP_PROXY=<span class="variable">$HTTP_PROXY</span>&quot;</span></span><br><span class="line">    [ <span class="string">&quot;<span class="variable">$https_proxy</span>&quot;</span> != <span class="string">&quot;&quot;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;https_proxy=<span class="variable">$https_proxy</span>&quot;</span></span><br><span class="line">    [ <span class="string">&quot;<span class="variable">$HTTPS_PROXY</span>&quot;</span> != <span class="string">&quot;&quot;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;HTTPS_PROXY=<span class="variable">$HTTPS_PROXY</span>&quot;</span></span><br><span class="line">    [ <span class="string">&quot;<span class="variable">$all_proxy</span>&quot;</span> != <span class="string">&quot;&quot;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;all_proxy=<span class="variable">$all_proxy</span>&quot;</span></span><br><span class="line">    [ <span class="string">&quot;<span class="variable">$ALL_PROXY</span>&quot;</span> != <span class="string">&quot;&quot;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;ALL_PROXY=<span class="variable">$ALL_PROXY</span>&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">proxy_set_off</span></span>() &#123;</span><br><span class="line">    <span class="built_in">unset</span> all_proxy ALL_PROXY http_proxy https_proxy HTTP_PROXY HTTPS_PROXY</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">proxy_set_on</span></span>() &#123;</span><br><span class="line">    <span class="built_in">export</span> http_proxy=<span class="variable">$link</span></span><br><span class="line">    <span class="built_in">export</span> https_proxy=<span class="variable">$http_proxy</span> HTTPS_PROXY=<span class="variable">$http_proxy</span> HTTP_PROXY=<span class="variable">$http_proxy</span> all_proxy=<span class="variable">$http_proxy</span> ALL_PROXY=<span class="variable">$http_proxy</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">proxy_set_invoke</span></span>()&#123;</span><br><span class="line">    <span class="comment"># for better compatibilities under macOS we assumed a child shell for cleanup the envvars.</span></span><br><span class="line">    <span class="comment"># but its can be simplify to these following:</span></span><br><span class="line">    <span class="comment"># proxy_set_on &amp;&amp; eval &quot;$@&quot; &amp;&amp; proxy_set_off</span></span><br><span class="line">    bash -c <span class="string">&quot;</span></span><br><span class="line"><span class="string">    set -e</span></span><br><span class="line"><span class="string">    proxy_set_off() &#123;</span></span><br><span class="line"><span class="string">      unset all_proxy ALL_PROXY http_proxy https_proxy HTTP_PROXY HTTPS_PROXY</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    proxy_set_on() &#123;</span></span><br><span class="line"><span class="string">      export http_proxy=<span class="variable">$link</span></span></span><br><span class="line"><span class="string">      export https_proxy=\$http_proxy HTTPS_PROXY=\$http_proxy HTTP_PROXY=\$http_proxy all_proxy=\$http_proxy ALL_PROXY=\$http_proxy</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    trap &#x27;proxy_set_off&#x27; EXIT ERR</span></span><br><span class="line"><span class="string">    proxy_set_on</span></span><br><span class="line"><span class="string">    $*</span></span><br><span class="line"><span class="string">    &quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">case</span> <span class="variable">$onoff</span> <span class="keyword">in</span></span><br><span class="line">  on|ON|1|<span class="built_in">yes</span>|ok|<span class="built_in">enable</span>|enabled|open|allow)</span><br><span class="line">    proxy_set_on</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;HTTP Proxy on (http)&#x27;</span></span><br><span class="line">    ;;</span><br><span class="line">  off|OFF|0|no|bad|<span class="built_in">disable</span>|disabled|close|disallow|deny)</span><br><span class="line">    proxy_set_off</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;HTTP Proxy off (http)&#x27;</span></span><br><span class="line">    ;;</span><br><span class="line">  status|st)</span><br><span class="line">    proxy_print_status</span><br><span class="line">    ;;</span><br><span class="line">  usage|<span class="built_in">help</span>|info)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;Usage: proxy_set on|off|enable|disable|allow|deny|status&#x27;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;Or run proxy_set just like &quot;tsock&quot;: proxy_set curl -iL https://google.com/&#x27;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;Type &quot;proxy_set help&quot; for more information.&#x27;</span></span><br><span class="line">    proxy_print_status</span><br><span class="line">    ;;</span><br><span class="line">  *)</span><br><span class="line">    proxy_set_invoke <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line">    ;;</span><br><span class="line">  <span class="keyword">esac</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>将它粘贴到你的 ~/.zshrc 或者 ~/.bashrc 的末尾就可以了。</p>
<p>重新打开终端窗口即可生效。</p>
<p>如果在终端环境中需要启动 HTTP 代理，则</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxy_set on</span><br></pre></td></tr></table></figure>
<p>反之则</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxy_set off</span><br></pre></td></tr></table></figure>
<p>这是有备无患的工具。终端中总是有着各种各样的情况，这个工具的作用像
tsock，只不过需要独立运行并启用。</p>
<p>如果你想像使用 tsock 那样使用 proxy_set，现在可以这样：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxy_set curl -iL https://google.com/</span><br></pre></td></tr></table></figure>
<p><code>proxy_set help</code> 可以查看 proxy_set 的使用方法。</p>
<p>只想看看状态的话：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxy_set</span><br></pre></td></tr></table></figure>
<p>这将会显示出当前的 HTTP_PROXY 值。</p>
<blockquote>
<p>如果使用 Zsh+Powerlevel10K 等环境的话，你可以借助于 <a
target="_blank" rel="noopener" href="https://github.com/romkatv/powerlevel10k#batteries-included">定制额外的
Modifier（segment）小组件</a>
来帮助解决状态问题。一个可能的定制环境是这样的：</p>
<figure>
<img src="_assets/README/image-20220914105628812.png"
alt="image-20220914105628812" />
<figcaption aria-hidden="true">image-20220914105628812</figcaption>
</figure>
<p>在提示符的右侧显示了当前的代理状态以及 shell 嵌套层级。</p>
</blockquote>
<h3 id="is_darwin"><code>is_darwin</code></h3>
<p><code>is_darwin</code> 是来自于我的 <a
target="_blank" rel="noopener" href="https://github.com/hedzr/bash.sh">bash.sh</a>
中的一个小型工具函数。其实现很简短：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">is_darwin</span></span>() &#123; [[ <span class="variable">$OSTYPE</span> == darwin* ]]; &#125;</span><br></pre></td></tr></table></figure>
<p>所以你可以按需采用。</p>
<p>对于希望集成更多类似小工具的朋友，请查看我们的 <a
target="_blank" rel="noopener" href="https://github.com/hedzr/bash.sh">bash.sh</a> ，它提供了编写完整的
shell 脚本/ devops 工具脚本的最佳起点 <code>bash.sh</code>，以及：</p>
<ul>
<li><p>一个额外的、可以被直接引入到 <code>.zshrc/.bashrc</code> 的等价物
<code>bash.config</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ -f <span class="variable">$HOME</span>/.bash.sh/bash.config ] &amp;&amp; <span class="built_in">source</span> <span class="variable">$HOME</span>/.bash.sh/bash.config</span><br></pre></td></tr></table></figure>
<p>上面的句子可以添加到你的 zshrc 中。</p></li>
<li><p>一个轻型版本：<code>bash-lite.sh</code>。它带有更少的函数集合，算是
<code>bash.sh/bash.config</code> 的轻量级版本。</p></li>
</ul>
<h2 id="china-mainland-mirrors">China Mainland Mirrors</h2>
<h3 id="github-clone">GitHub Clone</h3>
<p>通过HTTPS协议Clone仓库的话，可能会遇到速度很慢的情况。</p>
<p>根据经验，在慢的时候中断Clone捎带片刻重复命令的话，你可能会得到正常速度，这种偷鸡的策略适合于小小仓库。</p>
<p>对于大型仓库，改走SSH协议进行clone的话，走到正常速度的几率较大，但此时的速度相较于HTTPS而言通常会有所损耗。</p>
<h4 id="修改-hosts-文件-基本失效">修改 hosts 文件 (基本失效)</h4>
<p>但下面还有一种较为费事的方法，通过修改 hosts
文件来完成提速，无需科学也无需代理加速也无需镜像加速（GitHub是不太可能有镜像的）。具体来说请接下去阅读：</p>
<p>首先在 https://www.ipaddress.com/ 查询这三个域名的地址：</p>
<ol type="1">
<li>github.com</li>
<li>assets-cdn.github.com</li>
<li>github.global.ssl.fastly.net</li>
</ol>
<p>然后按照查询的结果填写到 /etc/hosts 中，windows用户请查找
%WINDIR%/system32/drivers/etc/hosts 文件。请注意修改 hosts 文件通常需要
sudo 权限 或者管理员权限。修改内容如同下面：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">140.82.118.3    github.com</span><br><span class="line">185.199.109.153 assets-cdn.github.com</span><br><span class="line">185.199.111.153 assets-cdn.github.com</span><br><span class="line">185.199.108.153 assets-cdn.github.com</span><br><span class="line">185.199.110.153 assets-cdn.github.com</span><br><span class="line">151.101.113.194 github.global.ssl.fastly.net</span><br></pre></td></tr></table></figure>
<p>如果你有国外的服务器，也可以通过dig指令来查找：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ dig github.com +short</span><br><span class="line">140.82.118.3</span><br></pre></td></tr></table></figure>
<p>修改 hosts
文件能够起效的原因有赖于IP未被封禁。但实际上这个并不一定如此，封禁是多种手段同时采用的，此外、不同省份地区的不同运营商的具体动作也会有点区别。</p>
<p>比较根本的方法还是两种，一是在国外VPS直接clone，然后rsync到本机；二是git走SSH协议且启用代理。</p>
<h4 id="git-ssh协议代理">Git SSH协议代理</h4>
<p>git走SSH协议时，可以在 <code>$HOME/.ssh/config</code>
中为其指定特别约定：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">host github.com</span><br><span class="line">  User git</span><br><span class="line">  Hostname ssh.github.com</span><br><span class="line">  identityFile ~/.ssh/git/id_rsa</span><br><span class="line">  ProxyCommand nc -X 5 -x 127.0.0.1:1080 %h %p</span><br></pre></td></tr></table></figure>
<p>在这里，定制了免密码时所用的SSH私钥
<code>~/.ssh/git/id_rsa</code>，以及通过 <code>ProxyCommand</code>
指定了转发 git SSH 流量到 <code>127.0.0.1:1080</code> SOCKS5
代理服务器上。</p>
<h4 id="git-https协议代理">Git HTTPS协议代理</h4>
<p>值得注意的是，如果是使用 Git https 协议的话，你需要指定
<code>HTTPS_PROXY</code> 环境变量到一个 HTTP
代理，从而转发流量。根据我的经验，在这个时候提供一个诸如
<code>socks://127.0.0.1:1080</code> 的 SOCKS4/5
代理，得到的效果会非常有限，不如将该代理包装为 HTTP 后再使用。</p>
<p>如果不想使用 <code>HTTPS_PROXY</code> 环境变量，Git
允许在其全局配置文件 <code>$HOME/.gitconfig</code>
中指定特定主机或者所有主机的专用代理：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[http <span class="string">&quot;https://skia.googlesource.com&quot;</span>]</span><br><span class="line">	proxy = http://127.0.0.1:8080</span><br><span class="line">[https <span class="string">&quot;https://skia.googlesource.com&quot;</span>]</span><br><span class="line">	proxy = http://127.0.0.1:8080</span><br><span class="line">[http <span class="string">&quot;https://googlesource.com&quot;</span>]</span><br><span class="line">	proxy = http://127.0.0.1:8080</span><br><span class="line">[https <span class="string">&quot;https://googlesource.com&quot;</span>]</span><br><span class="line">	proxy = http://127.0.0.1:8080</span><br></pre></td></tr></table></figure>
<p>综合比较起来，Git 走 SSH 协议且采用一个很好的 SOCKS5
服务器的话，会相当顺利，很难遇到各色怪现象。</p>
<h4 id="生活充满美好">生活充满美好</h4>
<p>我不应该耗费精力在如何拿到开发资源上，对吗？</p>
<p>对的。一台国外的VPS，美国、日本、香港都是被推荐的地点，在那里下载或者拖到目标内容，无论是
GitHub 还是 golang 的内容，然后 rsync
到本地，看似很复杂，然而往往可以在10min
之内搞定一切事情，胜似在本机上折腾 proxy 8h。</p>
<blockquote>
<p>Nothing serious, only explodes without reason.</p>
</blockquote>
<h3 id="使用-github-镜像网站">使用 GitHub 镜像网站</h3>
<p>近两年来，即使没有间歇性抽风，全世界也仍然制造了一些 GitHub
的全量镜像网站，它们是有各种各样原因的，一个主要的因素在于 GH
自己泛政治化倾向过于糟糕了，另一方面当然是由于并非只有兔子国才有长城。</p>
<p>所以，如果你并不是在操心怎么 push，仅仅只是为了 pull/fetch/clone
的话，可以使用这些镜像网站来做加速。这个能力对于那些做 DevOps
安装配置工作的人来说是一种福音。</p>
<p>当下，这些镜像网站是值得参考的：</p>
<h4 id="hub.nuaa.cf"><a target="_blank" rel="noopener" href="https://hub.nuaa.cf">hub.nuaa.cf</a></h4>
<p>nuaa.cf 比较新，其他几个例如 gitclone，fastgit 现在也爱抽风了。</p>
<p>但是 nuaa.cf 比较复杂，不那么单纯，自行探索吧。</p>
<p>类似的镜像网站相当多但却基本都不怎么靠谱，偶尔应付一下或者行。</p>
<h4 id="gitclone.com">gitclone.com</h4>
<p>它特别在于不仅仅只针对 github，为了启用它，执行一条命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global url.<span class="string">&quot;https://gitclone.com/&quot;</span>.insteadOf https://</span><br></pre></td></tr></table></figure>
<p>或者做精确的限制：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global url.<span class="string">&quot;https://gitclone.com/github.com/&quot;</span>.insteadOf https://github.com/</span><br></pre></td></tr></table></figure>
<p>然后就可以透明地使用它了，你的 clone 命令无需做任何修改：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/hedzr/cmdr.git</span><br></pre></td></tr></table></figure>
<p>详情请参阅 <a
target="_blank" rel="noopener" href="https://gitclone.com/docs/feature/gitclone_web">官网</a>。</p>
<h4 id="fastgit.org">fastgit.org</h4>
<p>fastgit 是针对 GitHub 做全量副本的，启用方式为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global url.<span class="string">&quot;https://hub.fastgit.xyz/&quot;</span>.insteadOf https://github.com/</span><br></pre></td></tr></table></figure>
<p>参阅：<a target="_blank" rel="noopener" href="https://doc.fastgit.org/en-gb/">Home Page | FastGit UK
Document</a></p>
<blockquote>
<p>官方显式声明了仅适用于小于 2GB 的 repo</p>
</blockquote>
<blockquote>
<ol type="1">
<li>请查阅 <a
target="_blank" rel="noopener" href="https://status.fastgit.org/">https://status.fastgit.org (opens new
window)</a>以及 <a
target="_blank" rel="noopener" href="https://github.com/FastGitORG/uptime">https://github.com/FastGitORG/uptime
(opens new window)</a>以确认 FastGit
是否正面临潜在的服务不可用可能性</li>
</ol>
</blockquote>
<h4 id="more">More</h4>
<p>此外还有如：https://github.com.cnpmjs.org/</p>
<h3 id="此外github-可以直达">此外，GitHub 可以直达</h3>
<p>在很多时候你可能没有注意到 GitHub 的网页，以及 git clone
都是可以直达的。</p>
<p>也就是说，咱们这边也并没有刻意关闭大家的编程、分享路径。</p>
<blockquote>
<p>当然，githubusercontents 等等资源站域名还是需要代理才能访问的。</p>
</blockquote>
<p>但是确确实实地 GH 上有很多政治化倾向很严重的 repos。不仅如此，GH
自己也封锁了太多敌对国程序员的帐户。</p>
<p>我是一个纯粹的技术人，对于技术的政治化是不赞同的。然而即使不去看那些
fan-zhong 的 repos，也不能忽视一个非常严重的问题：GitHub
也会在未来某一天封掉我的帐户，只因为我是中国人，或者采用中国的 IP
访问这里。作为对于中美关系悲观的一个想做纯粹技术人而不可得的我，无可奈何地看到这个未来的事实，感觉是很奇特的。</p>
<p>尽管我也在寻求其它的技术贡献的去政治化的途径，但天下哪有什么净土！Gitlab，BitBucket，Google，它们在政治化封锁上又能比
GitHub 和 Microsoft 好到哪里去呢？</p>
<p>我应该学俄语吗，去那边找找开源托管平台？想到恩格斯5、60岁用了几个月时间就学会了一门外语，我想我也不应该服老，对不对？</p>
<blockquote>
<p>这些感触，其实从疫情开始、中美恶化时就已经有了，不过一直未有宣诸于口。</p>
<p>但是还是应该记录下来，正好此刻更新一下 proxy_set
脚本的实现，就顺便存档吧。</p>
</blockquote>
<h3 id="docker-ce">Docker CE</h3>
<p>Docker CE
的具体加速办法有很多种，然而各种版本的本质都是一样的，一般来说你需要找到
docker daemon 的配置文件
<code>/etc/docker/daemon.json</code>，然后修改它像这样：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;insecure-registries&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;registry.mirrors.aliyuncs.com&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;debug&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;experimental&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;registry-mirrors&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;https://mirror.ccs.tencentyun.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;https://hub-mirror.c.163.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;https://dockerhub.azk8s.cn&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;https://reg-mirror.qiniu.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;https://registry.docker-cn.com&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>如果你在这个文件中自定义了其他项目，或者这个文件中已经存在其他定义，请注意保持。</p>
<p>参考：https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file</p>
<p>附加说明：</p>
<table>
<colgroup>
<col style="width: 38%" />
<col style="width: 23%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr>
<th>镜像加速器</th>
<th>镜像加速器地址</th>
<th>其它加速？</th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" rel="noopener" href="https://docker-cn.com/registry-mirror">Docker
中国官方镜像</a></td>
<td><code>https://registry.docker-cn.com</code></td>
<td>Docker Hub</td>
</tr>
<tr>
<td><a
target="_blank" rel="noopener" href="https://github.com/Azure/container-service-for-azure-china/blob/master/aks/README.md#22-container-registry-proxy">Azure
中国镜像</a></td>
<td><code>https://dockerhub.azk8s.cn</code></td>
<td>Docker Hub、GCR、Quay</td>
</tr>
<tr>
<td><a
target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/help/dockerhub.html">科大镜像站</a></td>
<td><code>https://docker.mirrors.ustc.edu.cn</code></td>
<td>Docker Hub、<a
target="_blank" rel="noopener" href="https://github.com/ustclug/mirrorrequest/issues/91">GCR</a>、<a
target="_blank" rel="noopener" href="https://github.com/ustclug/mirrorrequest/issues/135">Quay</a></td>
</tr>
<tr>
<td><a
target="_blank" rel="noopener" href="https://kirk-enterprise.github.io/hub-docs/#/user-guide/mirror">七牛云</a></td>
<td><code>https://reg-mirror.qiniu.com</code></td>
<td>Docker Hub、GCR、Quay</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://c.163yun.com/hub">网易云</a></td>
<td><code>https://hub-mirror.c.163.com</code></td>
<td>Docker Hub</td>
</tr>
<tr>
<td><a
target="_blank" rel="noopener" href="https://cloud.tencent.com/document/product/457/9113">腾讯云</a></td>
<td><code>https://mirror.ccs.tencentyun.com</code></td>
<td>Docker Hub</td>
</tr>
</tbody>
</table>
<h3 id="alpine-apk">Alpine Apk</h3>
<p>清华提供一种Apk源加速方式：https://mirror.tuna.tsinghua.edu.cn/help/alpine/</p>
<p>在终端输入以下命令以替换TUNA镜像源：
<code>sed -i 's/dl-cdn.alpinelinux.org/mirrors.tuna.tsinghua.edu.cn/g' /etc/apk/repositories</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s/dl-cdn.alpinelinux.org/mirrors.tuna.tsinghua.edu.cn/g&#x27;</span> /etc/apk/repositories</span><br></pre></td></tr></table></figure>
<p>制作 Docker 镜像时，这是很有用的，节约生命真的是美德。</p>
<h3 id="android-sdk">Android SDK</h3>
<p>国内有多家组织提供 Android
SDK的镜像缓存，甚至个人也可以很容易地建立这样的缓存，如果你有国内访问速度很好的国外服务器的话。</p>
<p>但是，随着时间推移，现在这些镜像基本上都已失效了。</p>
<p>取而代之的是，目前，Android的官方源是可以直连的，且能达到正常速度，所以还是赶紧滴做点负责任的app出来吧，不要只是会矽肺或者偷偷上传神马的。</p>
<h3 id="arch-linux-pacman">Arch Linux Pacman</h3>
<p>清华提供一种 Arch Linux
软件仓库加速方式：https://mirror.tuna.tsinghua.edu.cn/help/archlinux/</p>
<p>编辑 /etc/pacman.d/mirrorlist， 在文件的最顶端添加：
<code>Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch</code></p>
<p>更新软件包缓存： <code>sudo pacman -Syy</code></p>
<h3 id="curl">curl</h3>
<p>可以给 curl 挂上 socks5 的代理。</p>
<p>在~/.curlrc文件中输入代理地址即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socks5 = <span class="string">&quot;127.0.0.1:1080&quot;</span></span><br></pre></td></tr></table></figure>
<p>也可以一次性：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -x socks5://127.0.0.1:1080 https://www.google.com</span><br></pre></td></tr></table></figure>
<p>如果临时不需要代理使用以下参数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --noproxy <span class="string">&quot;*&quot;</span> https://www.google.com</span><br></pre></td></tr></table></figure>
<h4 id="envvar">EnvVar</h4>
<p>环境变量 ALL_PROXY, HTTP_PROXY, HTTPS_PROXY 也对 curl 有效</p>
<h5 id="special">Special</h5>
<p>你甚至可以通过 http_proxy 直接使用 socks5 代理：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> http_proxy=socks5://127.0.0.1:1080</span><br><span class="line"><span class="built_in">export</span> https_proxy=<span class="variable">$http_proxy</span></span><br></pre></td></tr></table></figure>
<p>经验证明，这种方式（通过 http_proxy 来使用 socks5
代理）通常是不好使的，你应该寻求一个转换工具将 socks5 转换到 http
代理，才能在命令行中最好地借用代理的能力。</p>
<blockquote>
<p>环境变量如果区分大小写（如Linux/mac)，则上述语句应该为大写形式重复一次，以免遗漏。</p>
</blockquote>
<h4 id="快速别名">快速别名</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> setproxy=<span class="string">&quot;export http_proxy=socks5://127.0.0.1:1080; export https_proxy=<span class="variable">$http_proxy</span>; echo &#x27;HTTP Proxy on&#x27;;&quot;</span></span><br><span class="line"><span class="built_in">alias</span> unsetproxy=<span class="string">&quot;unset http_proxy; unset https_proxy; echo &#x27;HTTP Proxy off&#x27;;&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="更好的">更好的</h4>
<p>同时适用于 zsh 和 bash 的脚本片段如下，将其粘贴到 .bashrc/.zshrc
中重新开启终端会话即可享受：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">proxy_set</span></span>()&#123;</span><br><span class="line">  <span class="built_in">local</span> onoff=<span class="variable">$&#123;1:-usage&#125;</span></span><br><span class="line">  <span class="keyword">case</span> <span class="variable">$onoff</span> <span class="keyword">in</span></span><br><span class="line">  on|ON|1|<span class="built_in">yes</span>|ok|<span class="built_in">enable</span>|enabled|open|allow)</span><br><span class="line">    <span class="built_in">export</span> http_proxy=http://127.0.0.1:8001</span><br><span class="line">    <span class="built_in">export</span> https_proxy=<span class="variable">$http_proxy</span> https_proxy=<span class="variable">$http_proxy</span> HTTPS_PROXY=<span class="variable">$http_proxy</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;HTTP Proxy on (http)&#x27;</span></span><br><span class="line">    ;;</span><br><span class="line">  off|OFF|0|no|bad|<span class="built_in">disable</span>|disabled|close|disallow|deny)</span><br><span class="line">    <span class="built_in">unset</span> all_proxy http_proxy https_proxy HTTP_PROXY HTTPS_PROXY</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;HTTP Proxy off (http)&#x27;</span></span><br><span class="line">    ;;</span><br><span class="line">  usage)</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;Usage: proxy_set on|off|enable|disable|allow|deny&#x27;</span></span><br><span class="line">    ;;</span><br><span class="line">  <span class="keyword">esac</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用时，直接 <code>proxy_set on</code> 或者
<code>proxy_set off</code> 即可。</p>
<h3 id="flutter-dart-pub">Flutter &amp; Dart Pub</h3>
<p>flutter 官网有专门的页面讲述加速问题：</p>
<p>https://flutter.dev/community/china</p>
<h4 id="flutter-镜像安装帮助">Flutter 镜像安装帮助</h4>
<p>Flutter 是一款跨平台的移动应用开发框架，由 Google 开源。用 Flutter
开发的应用可以直接编译成 ARM 代码运行在 Android 和 iOS 系统上。</p>
<p>可以使用清华镜像：https://mirror.tuna.tsinghua.edu.cn/help/flutter/</p>
<p>Flutter 安装时需要从 Google Storage 下载文件，如您的网络访问 Google
受阻，建议使用本镜像。使用方法为设置环境变量
<code>FLUTTER_STORAGE_BASE_URL</code>，并指向 TUNA 镜像站。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ export FLUTTER_STORAGE_BASE_URL=&quot;https://mirrors.tuna.tsinghua.edu.cn/flutter&quot;</span><br></pre></td></tr></table></figure>
<p>若希望长期使用 TUNA 镜像：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ echo &#x27;export FLUTTER_STORAGE_BASE_URL=&quot;https://mirrors.tuna.tsinghua.edu.cn/flutter&quot;&#x27; &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>
<p>此外 Flutter 开发中还需要用到 Dart 语言的包管理器
Pub，其镜像使用方法参见<a
target="_blank" rel="noopener" href="https://mirror.tuna.tsinghua.edu.cn/help/dart-pub/">Pub
镜像安装帮助</a>。</p>
<h3 id="go-modules">Go Modules</h3>
<p>使用 Golang v1.11 以上，为你的项目启用 Go Modules
功能，然后就可以使用 GOPROXY 环境变量来透明地使用镜像代理。</p>
<p>比较著名的大陆加速器为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GOPROXY=https://goproxy.cn</span><br><span class="line"><span class="comment"># Windows 应该使用 set GOPROXY=xxxx 语法</span></span><br></pre></td></tr></table></figure>
<p>然后 <code>go mod download</code> 以及 <code>go mod tidy</code>
就足够快了。</p>
<p>如果你想搭建私服，可以遵循 Go Modules 的 API
规范自己实现一个代理服务器，也可以使用开源的 <a
target="_blank" rel="noopener" href="https://github.com/gomods/athens">athens</a>
项目自建一个服务器。</p>
<p>如果使用 Golang 1.13 以上版本的话，以下语法可用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GOPROXY=https://goproxy.cn,https://goproxy.io,https://gocenter.i</span><br><span class="line">o,direct</span><br></pre></td></tr></table></figure>
<h4 id="参考">参考</h4>
<p>关于中国的 goproxy.cn：<a
target="_blank" rel="noopener" href="https://juejin.im/post/5d8ee2db6fb9a04e0b0d9c8b">干货满满的Go
Modules 和goproxy.cn - 掘金</a></p>
<p>关于 go 1.13 的 Modules：<a
target="_blank" rel="noopener" href="https://colobu.com/2019/09/23/review-go-module-again/">Go module
再回顾| 鸟窝</a></p>
<p>关于 <a target="_blank" rel="noopener" href="https://github.com/gomods/athens">athens</a> 实现以及
Go Modules Communicated Protocol: <a
target="_blank" rel="noopener" href="https://www.speechmatics.com/wp-content/uploads/2019/07/Go-modules-and-project-Athens.pdf">Go
modules and project Athens - Speechmatics</a>, Athens Official Site:
https://docs.gomods.io/。</p>
<p>关于 Go Modules 的通讯协议：<a
target="_blank" rel="noopener" href="https://blog.cyeam.com/golang/2018/09/27/athens">为Go module
搭建私服</a> 以及 <a target="_blank" rel="noopener" href="https://docs.gomods.io/design/">The Design of
Athens</a>：</p>
<ol type="1">
<li><a target="_blank" rel="noopener" href="https://docs.gomods.io/design/proxy">Proxy internals</a> -
basics of the Athens proxy architecture and major features</li>
<li><a target="_blank" rel="noopener" href="https://docs.gomods.io/design/communication">Communication
flow</a> - how the Athens proxy interacts with the outside world to
fetch and store code, respond to user requests, and so on</li>
</ol>
<h3 id="gradle">Gradle</h3>
<p>Gradle的配置文件为<code>~/.gradle/init.gradle</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">allprojects &#123;</span><br><span class="line">	repositories &#123;</span><br><span class="line">		maven &#123;</span><br><span class="line">			url &#x27;https://maven.aliyun.com/repository/public/&#x27;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	buildscript &#123;</span><br><span class="line">		repositories &#123;</span><br><span class="line">			maven &#123;</span><br><span class="line">				url &#x27;https://maven.aliyun.com/repository/public/&#x27;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以下的镜像可以选用</p>
<ul>
<li>华为：https://mirrors.huaweicloud.com/repository/maven/</li>
<li>网易：https://mirrors.163.com/maven/repository/maven-public/</li>
</ul>
<h3 id="gem-和-cocoapods">Gem 和 CocoaPods</h3>
<h4 id="替换-ruby-源">替换 Ruby 源</h4>
<p>首先是 gem 和 ruby 的源应该被替换</p>
<h5 id="移除现有的ruby镜像">移除现有的Ruby镜像</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gem sources --remove https://rubygems.org</span><br></pre></td></tr></table></figure>
<h5 id="添加国内最新镜像">添加国内最新镜像</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gem sources -a https://gems.ruby-china.com</span><br></pre></td></tr></table></figure>
<h5 id="查看当前镜像">查看当前镜像</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gem sources -l</span><br></pre></td></tr></table></figure>
<p>编辑 <code>~/.gemrc</code> 也可以</p>
<h4 id="bundler">bundler</h4>
<p>对于 Ruby 开发，bundler可能需要如下的操作：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bundle config mirror.https://rubygems.org https://mirrors.tuna.tsinghua.edu.cn/rubygems</span><br></pre></td></tr></table></figure>
<blockquote>
<p>参考清华镜像：https://mirrors.tuna.tsinghua.edu.cn/help/rubygems/</p>
<p>或者：http://bundler.io/v1.16/man/bundle-config.1.html#MIRRORS-OF-GEM-SOURCES</p>
</blockquote>
<h4 id="加速-cocoapods">加速 Cocoapods</h4>
<p>几种加速方法，可能需要自己实际测试那种效果最好。</p>
<h5 id="gitee镜像">gitee镜像</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pod repo remove master   </span><br><span class="line">pod repo add master https://gitee.com/mirrors/CocoaPods-Specs   </span><br><span class="line">pod repo update   </span><br></pre></td></tr></table></figure>
<h5 id="清华镜像">清华镜像</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pod repo remove master   </span><br><span class="line">pod repo add master https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git   </span><br><span class="line">pod repo update   </span><br></pre></td></tr></table></figure>
<p>对于 Cocoapods 新的版本，需要使用如下的方法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pod repo remove master</span><br><span class="line"><span class="built_in">cd</span> ~/.cocoapods/repos</span><br><span class="line">git <span class="built_in">clone</span> https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git master</span><br></pre></td></tr></table></figure>
<h5 id="你的-xcode-工程中如果有podfile的话请修改加入下面的行">你的 xcode
工程中如果有Podfile的话，请修改加入下面的行：</h5>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">source <span class="string">&#x27;https://gitee.com/mirrors/CocoaPods-Specs.git&#x27;</span></span><br><span class="line">source <span class="string">&#x27;https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="homebrew">Homebrew</h3>
<p>macOS 中都会安装 Homebrew，但 <code>brew update</code>
可能会很慢。加速的办法是替换现有的上游：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git -C &quot;$(brew --repo)&quot; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git</span><br><span class="line"></span><br><span class="line">git -C &quot;$(brew --repo homebrew/core)&quot; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git</span><br><span class="line"></span><br><span class="line">git -C &quot;$(brew --repo homebrew/cask)&quot; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git</span><br><span class="line"></span><br><span class="line">brew update</span><br></pre></td></tr></table></figure>
<h4 id="复原">复原</h4>
<p><em>(感谢Snowonion Lee提供说明)</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git -C &quot;$(brew --repo)&quot; remote set-url origin https://github.com/Homebrew/brew.git</span><br><span class="line"></span><br><span class="line">git -C &quot;$(brew --repo homebrew/core)&quot; remote set-url origin https://github.com/Homebrew/homebrew-core.git</span><br><span class="line"></span><br><span class="line">git -C &quot;$(brew --repo homebrew/cask)&quot; remote set-url origin https://github.com/Homebrew/homebrew-cask.git</span><br><span class="line"></span><br><span class="line">brew update</span><br></pre></td></tr></table></figure>
<p>以上内容从清华开源上复制：<a
target="_blank" rel="noopener" href="https://mirror.tuna.tsinghua.edu.cn/help/homebrew/">Homebrew
镜像使用帮助</a></p>
<p>如果想阻止 brew 指令运行时总是尝试去自动更新，可以设置环境变量：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># forbit autoupdate on homebrew installing</span></span><br><span class="line"><span class="built_in">export</span> HOMEBREW_NO_AUTO_UPDATE=1</span><br></pre></td></tr></table></figure>
<h4 id="pub-镜像安装帮助">Pub 镜像安装帮助</h4>
<p><a target="_blank" rel="noopener" href="https://pub.dartlang.org/">Pub</a> 是 Dart
官方的包管理器。跨平台的前端应开发 框架 <a
target="_blank" rel="noopener" href="https://flutter.dev/">Flutter</a> 也基于 Dart 并且可以使用大部分
Pub 中的 库。</p>
<p>如果希望通过 TUNA 的 pub 镜像安装软件，只需要设置 <a
target="_blank" rel="noopener" href="https://www.dartlang.org/tools/pub/environment-variables">PUB_HOSTED_URL</a>
这个环境变量指向 https://mirrors.tuna.tsinghua.edu.cn/dart-pub/
即可。</p>
<p>以 bash 为例，临时使用 TUNA 的镜像来安装依赖：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ PUB_HOSTED_URL=&quot;https://mirrors.tuna.tsinghua.edu.cn/dart-pub/&quot; pub get # pub</span><br><span class="line">$ PUB_HOSTED_URL=&quot;https://mirrors.tuna.tsinghua.edu.cn/dart-pub/&quot; flutter packages get # flutter</span><br></pre></td></tr></table></figure>
<p>若希望长期使用 TUNA 镜像：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ echo &#x27;export PUB_HOSTED_URL=&quot;https://mirrors.tuna.tsinghua.edu.cn/dart-pub/&quot;&#x27; &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>
<h3 id="mageia">Mageia</h3>
<p>Mageia Linux 是基于 Mandriva Linux 改造而来的发行版，它的 KDE
界面做的比较细腻，完全不像多数 KDE 发行版如同上世纪的 Window XP
那般的粗糙。</p>
<p>Mageia 目前在版本 8，而 9 的 Beta 版出了，也许快要出正式版了。</p>
<p>以版本 8 为例，你可以为其添加南京大学的镜像源。</p>
<p>由于从 Mageia 6 开始，Mageia 的软件仓库同时兼容 urpmi 和
dnf，两个包管理器默认情况下均被预装。目前看来 urpmi
是它的默认包管理器，例如 Mageia 控制中心就是专门调用 urpmi 的，所以配置
urpmi 的源是首要任务。相应的，dnf 的配置次之。</p>
<h4 id="list-software-sources">List software sources</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># show the interpreted configuration from /etc/urpmi/urpmi.cfg </span></span><br><span class="line">urpmq --dump</span><br><span class="line"></span><br><span class="line">urpmq --list-media active --list-url</span><br><span class="line"></span><br><span class="line">urpmq --list-media</span><br></pre></td></tr></table></figure>
<h4 id="添加源">添加源</h4>
<h5 id="urpmi-配置方法">urpmi 配置方法</h5>
<p>移除所有已添加的软件仓库（sudo
似乎是没有被预装的，可以在稍后再安装使用）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">su</span><br><span class="line">urpmi.removemedia -a</span><br><span class="line"></span><br><span class="line"># or</span><br><span class="line">sudo urpmi.removemedia -a</span><br></pre></td></tr></table></figure>
<blockquote>
<p>但是实际上我们认为你不必移除系统默认的官方源。</p>
<p>此外，建议做好备份：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> /etc/urpmi/urpmi.cfg&#123;,.save.1&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>添加中科大的软件源，以 Mageia 6，x86_64 架构为例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">su</span><br><span class="line">urpmi.addmedia --distrib https://mirrors.ustc.edu.cn/mageia/distrib/8/x86_64</span><br><span class="line"></span><br><span class="line"># or:</span><br><span class="line">sudo urpmi.addmedia --distrib https://mirror.nju.edu.cn/mageia/distrib/8/x86_64</span><br></pre></td></tr></table></figure>
<p>刷新缓存：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">su</span><br><span class="line">urpmi.update -a</span><br><span class="line"></span><br><span class="line"># or</span><br><span class="line">sudo urpmi.update -a</span><br></pre></td></tr></table></figure>
<h5 id="dnf-配置方法">dnf 配置方法</h5>
<p>dnf 在默认情况下已经被预装，如果你发现并没有，可以使用 urpmi
安装：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">su</span><br><span class="line">urpmi mageia-repos dnf</span><br><span class="line"></span><br><span class="line"># or</span><br><span class="line">sudo urpmi mageia-repos dnf</span><br></pre></td></tr></table></figure>
<p>接下来编辑 <code>/etc/yum.repos.d/</code> 中的文件：</p>
<p>将所有文件中的：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#baseurl=https://mirrors.kernel.org/mageia/</span><br></pre></td></tr></table></figure>
<p>替换为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">baseurl=https://mirrors.ustc.edu.cn/mageia/</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意应该事先做好备份：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/yum.repos.d</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> *.repo; <span class="keyword">do</span> <span class="built_in">sudo</span> <span class="built_in">cp</span> <span class="variable">$i</span>&#123;,.save.1&#125;; <span class="keyword">done</span></span><br></pre></td></tr></table></figure>
</blockquote>
<p>这可以通过如下命令达成：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/yum.repos.d</span><br><span class="line"><span class="built_in">sudo</span> sed -i.bak -r <span class="string">&#x27;s,#baseurl=https://mirrors.kernel.org/mageia/,baseurl=https://mirror.nju.edu.cn/mageia/,ig&#x27;</span> *.repo</span><br></pre></td></tr></table></figure>
<p>最后刷新一下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> dnf makecache</span><br></pre></td></tr></table></figure>
<h3 id="maven">Maven</h3>
<h4 id="采用aliyun镜像">采用aliyun镜像</h4>
<p>编辑 <code>$HOME/.m2/settings.xml</code>，找到
<code>&lt;mirrors&gt;</code> 小节，添加如下内容：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-public<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun public<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun central<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/central<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-spring<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun spring<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/spring<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-spring-plugin<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun spring-plugin<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/spring-plugin<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-apache-snapshots<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun apache-snapshots<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/apache-snapshots<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-google<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun google<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/google<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-gradle-plugin<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun gradle-plugin<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/gradle-plugin<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-jcenter<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun jcenter<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/jcenter<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-releases<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun releases<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/releases<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-snapshots<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun snapshots<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/snapshots<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-grails-core<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun grails-core<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/grails-core<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun-mapr-public<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun mapr-public<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/mapr-public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>也可以采用 profile 方式，这里就不再赘述了。</p>
<h3 id="node-和-npmyarn">Node 和 npm/Yarn</h3>
<p>可以更换镜像：</p>
<ul>
<li>阿里：<code>yarn config set registry https://registry.npmmirror.com</code></li>
<li>华为：<code>yarn config set registry https://mirrors.huaweicloud.com/repository/npm/</code></li>
<li>Node-Sass：<code>npm config set sass_binary_site https://mirrors.huaweicloud.com/node-sass/</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm config delete registry</span><br><span class="line"></span><br><span class="line">yarn --registry=https://registry.company.com/</span><br><span class="line"></span><br><span class="line">yarn config get registry</span><br><span class="line">yarn config delete registry</span><br><span class="line">yarn config <span class="built_in">set</span> registry </span><br></pre></td></tr></table></figure>
<h3 id="opensuse-软件源">openSUSE 软件源</h3>
<p>正常情况下，openSUSE 内置了速度测试（<a
target="_blank" rel="noopener" href="https://zh.opensuse.org/MirrorBrain">MirrorBrain</a>
技术）以便自动选择最佳的镜像站点来下载软件包索引、以及在安装时下载软件包本身。</p>
<p>但这个技术依赖于你首先要能访问到 openSUSE 位于德国的根索引。</p>
<p>通常，大陆用户会觉得满意。</p>
<p>但偶尔也会发生抖动现象。此时可以考虑采用镜像源来帮助加速获取元数据（通常至少包含了镜像源站点列表）获取。</p>
<blockquote>
<p>参照：https://help.mirrors.cernet.edu.cn/opensuse/</p>
</blockquote>
<h4 id="opensuse-leap-15.2-或更新版本使用方法">openSUSE Leap 15.2
或更新版本使用方法</h4>
<p>禁用官方软件源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> zypper mr -da</span><br></pre></td></tr></table></figure>
<p>添加镜像源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> zypper ar -cfg <span class="string">&#x27;https://mirrors.cernet.edu.cn/opensuse/distribution/leap/$releasever/repo/oss/&#x27;</span> mirror-oss</span><br><span class="line"><span class="built_in">sudo</span> zypper ar -cfg <span class="string">&#x27;https://mirrors.cernet.edu.cn/opensuse/distribution/leap/$releasever/repo/non-oss/&#x27;</span> mirror-non-oss</span><br><span class="line"><span class="built_in">sudo</span> zypper ar -cfg <span class="string">&#x27;https://mirrors.cernet.edu.cn/opensuse/update/leap/$releasever/oss/&#x27;</span> mirror-update</span><br><span class="line"><span class="built_in">sudo</span> zypper ar -cfg <span class="string">&#x27;https://mirrors.cernet.edu.cn/opensuse/update/leap/$releasever/non-oss/&#x27;</span> mirror-update-non-oss</span><br></pre></td></tr></table></figure>
<p>Leap 15.3 用户还需添加 sle 和 backports 源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> zypper ar -cfg <span class="string">&#x27;https://mirrors.cernet.edu.cn/opensuse/update/leap/$releasever/sle/&#x27;</span> mirror-sle-update</span><br><span class="line"><span class="built_in">sudo</span> zypper ar -cfg <span class="string">&#x27;https://mirrors.cernet.edu.cn/opensuse/update/leap/$releasever/backports/&#x27;</span> mirror-backports-update</span><br></pre></td></tr></table></figure>
<p>Leap 15.3 注：若在安装时<strong>没有</strong>启用在线软件源，sle 源和
backports
源将在系统首次更新后引入，请确保系统在更新后仅启用了<strong>六个</strong>所需软件源。可使用
<code>zypper lr</code> 检查软件源状态，并使用 <code>zypper mr -d</code>
禁用多余的软件源。</p>
<h4 id="opensuse-tumbleweed-使用方法">openSUSE Tumbleweed 使用方法</h4>
<p>禁用官方软件源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> zypper mr -da</span><br></pre></td></tr></table></figure>
<p>添加镜像源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> zypper ar -cfg <span class="string">&#x27;https://mirrors.cernet.edu.cn/opensuse/tumbleweed/repo/oss/&#x27;</span> mirror-oss</span><br><span class="line"><span class="built_in">sudo</span> zypper ar -cfg <span class="string">&#x27;https://mirrors.cernet.edu.cn/opensuse/tumbleweed/repo/non-oss/&#x27;</span> mirror-non-oss</span><br></pre></td></tr></table></figure>
<p>刷新软件源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> zypper ref</span><br></pre></td></tr></table></figure>
<p>Tumbleweed 注：Tumbleweed 安装后默认会启用 oss, non-oss, update, 3
个官方软件源， 其中 oss 及 non-oss 源用于发布 Tumbleweed
的每日构建快照，快照中已包含系统所需的全部软件包及更新。 update
源仅用于推送临时安全补丁，如当日快照已发布但仍有临时安全补丁时，会首先推送至
update 源，并在次日合入下一版快照。 由于 update
源存在较强的时效性，上游镜像并未同步 update
源，镜像源亦无法提供该源的镜像。 禁用 update
源并不会使系统缺失任何功能或安全更新，仅会导致极少数更新晚些推送，如有需求可以重新启用官方
update 源。</p>
<h4 id="附注-about-xtom.help">附注, About xtom.help</h4>
<p>请查阅 <a href="#附录一">附录一</a></p>
<h3 id="python-pip-和-composer">Python pip 和 composer</h3>
<h4 id="pip">Pip</h4>
<ul>
<li>清华：<code>pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</code></li>
<li>阿里：<code>pip config set global.index-url https://mirrors.aliyun.com/pypi/simple/</code></li>
<li>华为：<code>pip config set global.index-url https://mirrors.huaweicloud.com/repository/pypi/simple</code></li>
<li>豆瓣：<code>pip config set global.index-url https://pypi.douban.com/simple</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以下可以选用其一</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 清华：</span></span><br><span class="line">pip config <span class="built_in">set</span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"><span class="comment"># 阿里：</span></span><br><span class="line">pip config <span class="built_in">set</span> global.index-url https://mirrors.aliyun.com/pypi/simple/</span><br><span class="line"><span class="comment"># 华为：</span></span><br><span class="line">pip config <span class="built_in">set</span> global.index-url https://mirrors.huaweicloud.com/repository/pypi/simple</span><br><span class="line"><span class="comment"># 豆瓣：</span></span><br><span class="line">pip config <span class="built_in">set</span> global.index-url https://pypi.douban.com/simple</span><br></pre></td></tr></table></figure>
<h4 id="composer">Composer</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以下可以选用其一</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 阿里：</span></span><br><span class="line">composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/</span><br><span class="line"><span class="comment"># 华为：</span></span><br><span class="line">composer config -g repo.packagist composer https://mirrors.huaweicloud.com/repository/php/</span><br><span class="line"></span><br><span class="line"><span class="comment"># Laravel中文网</span></span><br><span class="line">composer config -g repo.packagist composer https://packagist.laravel-china.org</span><br></pre></td></tr></table></figure>
<h4 id="sequel">Sequel</h4>
<p>完成pip加速配置之后，<code>$HOME/.pip/pip.conf</code>
看起来可能会像这样：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[global]</span></span><br><span class="line"><span class="comment">#index-url = http://pypi.mirrors.ustc.edu.cn/simple</span></span><br><span class="line"></span><br><span class="line"><span class="attr">trusted-host</span> =  mirrors.aliyun.com</span><br><span class="line"><span class="attr">index-url</span> = http://mirrors.aliyun.com/pypi/simple</span><br><span class="line"><span class="comment"># index-url = http://pypi.douban.com/simple</span></span><br><span class="line"><span class="comment"># trusted-host = pypi.douban.com</span></span><br><span class="line"><span class="attr">disable-pip-version-check</span> = <span class="literal">true</span></span><br><span class="line"><span class="attr">timeout</span> = <span class="number">120</span></span><br><span class="line"></span><br><span class="line"><span class="section">[install]</span></span><br><span class="line"><span class="attr">ignore-installed</span> = <span class="literal">true</span></span><br><span class="line"><span class="comment"># 不自动安装依赖的时候设置此选项</span></span><br><span class="line"><span class="comment"># no-dependencies = yes</span></span><br><span class="line"></span><br><span class="line"><span class="section">[list]</span></span><br><span class="line"><span class="attr">format</span> = columns</span><br></pre></td></tr></table></figure>
<h3 id="r-cran">R CRAN</h3>
<p>采用清华开源站：</p>
<p><a target="_blank" rel="noopener" href="https://cran.r-project.org/">CRAN</a> (The Comprehensive R
Archive Network) 镜像源配置文件之一是 <code>.Rprofile</code> (linux
下位于 <code>~/.Rprofile</code> )。</p>
<p>在文末添加如下语句:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">options(&quot;repos&quot; = c(CRAN=&quot;https://mirrors.tuna.tsinghua.edu.cn/CRAN/&quot;))</span><br></pre></td></tr></table></figure>
<p>打开 R 即可使用该 CRAN 镜像源安装 R 软件包。</p>
<p>也可以使用其他镜像站：</p>
<ul>
<li>https://mirror.lzu.edu.cn/CRAN</li>
<li>...</li>
</ul>
<p>如果使用 R Console，可以在 Perferences
设置对话框中直接设置官方镜像的上海、香港、兰州等节点。</p>
<h3 id="rust-cargo-和-rustup">Rust Cargo 和 Rustup</h3>
<p>Rust 使用 creates.io，国内也有相应的提速手段：</p>
<p>https://lug.ustc.edu.cn/wiki/mirrors/help/rust-crates</p>
<p>首先你需要在 $HOME/.cargo/config 中添加如下内容</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[registry]</span></span><br><span class="line"><span class="attr">index</span> = <span class="string">&quot;git://mirrors.ustc.edu.cn/crates.io-index&quot;</span></span><br><span class="line"><span class="comment"># Or</span></span><br><span class="line"><span class="comment"># index = &quot;http://mirrors.ustc.edu.cn/crates.io-index&quot;</span></span><br></pre></td></tr></table></figure>
<p>如果 cargo 版本为 0.13.0 或以上, 需要更改 $HOME/.cargo/config
为以下内容:</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[source.crates-io]</span></span><br><span class="line"><span class="attr">registry</span> = <span class="string">&quot;https://github.com/rust-lang/crates.io-index&quot;</span></span><br><span class="line"><span class="attr">replace-with</span> = <span class="string">&#x27;ustc&#x27;</span></span><br><span class="line"><span class="section">[source.ustc]</span></span><br><span class="line"><span class="attr">registry</span> = <span class="string">&quot;git://mirrors.ustc.edu.cn/crates.io-index&quot;</span></span><br></pre></td></tr></table></figure>
<p>有兴趣自建的朋友，可以看看：</p>
<p>https://github.com/rust-lang/crates.io/blob/master/docs/MIRROR.md</p>
<p>清华TUNA 也有 rustup 相应的镜像</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># export CARGO_HOME=$HOME/.cargo</span></span><br><span class="line"><span class="comment"># export RUSTUP_HOME=$HOME/.rustup</span></span><br><span class="line"><span class="built_in">export</span> RUSTUP_DIST_SERVER=https://mirrors.tuna.tsinghua.edu.cn/rustup</span><br></pre></td></tr></table></figure>
<p>详见：https://mirror.tuna.tsinghua.edu.cn/help/rustup/</p>
<h4 id="fixup">Fixup</h4>
<p>对于上面的镜像站的提示来说，有一定的问题，你有可能遇到这样的问题：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">warning: Signature verification failed for &#x27;https://mirrors.tuna.tsinghua.edu.cn/rustup/dist/channel-rust-stable.toml&#x27;</span><br></pre></td></tr></table></figure>
<p>这是由于它们提供的方法有微小的问题：你不应该使用
<code>RUSTUP_DIST_SERVER</code> 环境变量，而是应该使用
<code>RUSTUP_UPDATE_ROOT</code>
变量名。所以正确的环境变量设置应该以下面的示例为准：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> CARGO_HOME=<span class="variable">$HOME</span>/.cargo</span><br><span class="line"><span class="built_in">export</span> RUSTUP_HOME=<span class="variable">$HOME</span>/.rustup</span><br><span class="line"><span class="comment">#export RUSTUP_DIST_SERVER=https://mirrors.tuna.tsinghua.edu.cn/rustup</span></span><br><span class="line"><span class="comment">#export RUSTUP_UPDATE_ROOT=$RUSTUP_DIST_SERVER/rustup</span></span><br><span class="line"><span class="built_in">export</span> RUSTUP_UPDATE_ROOT=https://mirrors.tuna.tsinghua.edu.cn/rustup/rustup</span><br></pre></td></tr></table></figure>
<p>此外，旧的升级方法也有所废弃，现在你要升级 rustc 和 cargo
版本的话，需要如下的命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rustup update stable</span><br></pre></td></tr></table></figure>
<p>其它的旧指令都可以忘记。</p>
<p>另外，一个“正确”的 <code>$HOME/.cargo/config</code>
文件应该如此：</p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[source]</span></span><br><span class="line"></span><br><span class="line"><span class="section">[source.crates-io]</span></span><br><span class="line"><span class="comment"># registry = &quot;https://github.com/rust-lang/crates.io-index&quot;</span></span><br><span class="line"><span class="attr">replace-with</span> = <span class="string">&#x27;ustc&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="section">[source.ustc]</span></span><br><span class="line"><span class="attr">registry</span> = <span class="string">&quot;git://mirrors.ustc.edu.cn/crates.io-index&quot;</span></span><br></pre></td></tr></table></figure>
<p>不要给出多余的 registry 变量，它可能会是
<code>Update cargo.io indexes</code> 挂起的原因。</p>
<h3 id="ubuntu-apt-source">Ubuntu Apt Source</h3>
<p>如果你使用桌面版本，则 Ubuntu
的软件源设置中，你可以选取最近的地区，例如中国大陆，从而加速软件包下载速度。</p>
<p>如果使用 Server
版本，则可以明确地使用清华镜像（或者自行使用其他镜像）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span></span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 预发布软件源，不建议启用</span></span><br><span class="line"><span class="comment"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span></span><br><span class="line"><span class="comment"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span></span><br></pre></td></tr></table></figure>
<p>以上例子为 18.04
版本的替换内容。你可以直接访问清华开源站查找其他版本：</p>
<p>https://mirror.tuna.tsinghua.edu.cn/help/ubuntu/</p>
<h4 id="其他方法">其他方法</h4>
<p>https://askubuntu.com/questions/39922/how-do-you-select-the-fastest-mirror-from-the-command-line</p>
<h4 id="推荐的方法">推荐的方法</h4>
<p>上面的两个方法各有各的道理，惟其手续驳杂，颇伤脑筋。所以这里提供一份我的脚本版本，可以让你减轻负担：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mirror=mirrors.ustc.edu.cn</span><br><span class="line">SUDO=<span class="built_in">sudo</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /etc/apt</span><br><span class="line">[ -f sources.list.orig ] || <span class="variable">$SUDO</span> <span class="built_in">cp</span> sources.list&#123;,.orig&#125;</span><br><span class="line"><span class="variable">$SUDO</span> sed -i -r <span class="string">&quot;s/us.archive.ubuntu.com/<span class="variable">$mirror</span>/&quot;</span> /etc/apt/sources.list</span><br><span class="line"><span class="variable">$SUDO</span> sed -i -r <span class="string">&quot;s/cn.archive.ubuntu.com/<span class="variable">$mirror</span>/&quot;</span> /etc/apt/sources.list</span><br><span class="line"><span class="comment"># $SUDO sed -i -r &quot;s/archive.ubuntu.com/$mirror/&quot; /etc/apt/sources.list</span></span><br><span class="line"><span class="variable">$SUDO</span> sed -i -r <span class="string">&quot;s#http://mirror#https://mirror#&quot;</span> /etc/apt/sources.list</span><br><span class="line"><span class="variable">$SUDO</span> apt update</span><br></pre></td></tr></table></figure>
<p>注意默认时上述脚本不会替换
archive.ubuntu.com，通常这个服务器速度比较正常。但如果你的实际体验感觉到太慢的话，那么取消脚本里注释掉的那一行，然后
sudo apt update 并且重新尝试。</p>
<blockquote>
<p>为了逻辑清晰，脚本没有优化。</p>
<p>但是你可以将 line 6-8 的 sed 语句优化为单条命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$SUDO</span> sed -i -r <span class="string">&quot;s/.*archive.ubuntu.com/<span class="variable">$mirror</span>/&quot;</span> /etc/apt/sources.list</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="免密码-sudo">免密码 sudo</h4>
<p>让你的账户 sudo 时不必输入密码，可以这么做：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> groupadd -g 201 power</span><br><span class="line"><span class="built_in">sudo</span> usermod -aG power <span class="variable">$USER</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;%power   ALL=(ALL) NOPASSWD: ALL&quot;</span> | <span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/sudoers.d/power</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">chmod</span> 440 /etc/sudoers.d/power</span><br></pre></td></tr></table></figure>
<p>你可以翻阅我以前的 post： <a
target="_blank" rel="noopener" href="https://hedzr.com/devops/linux/ubuntu-20.04-setup-essentials#%E5%90%AF%E7%94%A8%E5%85%8D%E5%AF%86-sudo">Ubuntu
Server 安装提要</a>。那里对这方面讲述的仔细一点。</p>
<h5 id="使用-apt-select">使用 apt-select</h5>
<p>可以用 <code>pip</code> 安装它：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install apt-select</span><br></pre></td></tr></table></figure>
<p>然后运行它并跟随提示走：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-select --country US -t 5 --choose</span><br></pre></td></tr></table></figure>
<h5 id="使用mirrors-cdn">使用mirrors CDN</h5>
<p>apt-get <a
target="_blank" rel="noopener" href="http://mvogt.wordpress.com/2011/03/21/the-apt-mirror-method/">now
supports</a> a 'mirror' method that will automatically select a good
mirror based on your location. Putting:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deb mirror://mirrors.ubuntu.com/mirrors.txt precise main restricted universe multiverse</span><br><span class="line">deb mirror://mirrors.ubuntu.com/mirrors.txt precise-updates main restricted universe multiverse</span><br><span class="line">deb mirror://mirrors.ubuntu.com/mirrors.txt precise-backports main restricted universe multiverse</span><br><span class="line">deb mirror://mirrors.ubuntu.com/mirrors.txt precise-security main restricted universe multiverse</span><br></pre></td></tr></table></figure>
<p>on the top in your <code>/etc/apt/sources.list</code> file should be
all that is needed to make it automatically pick a mirror for you based
on your geographical location.</p>
<p>你可以无脑地使用 sed 来搞定：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> sed -i <span class="string">&#x27;s%us.archive.ubuntu.com/ubuntu/%mirrors.ubuntu.com/mirrors.txt%&#x27;</span> /etc/apt/sources.list</span><br></pre></td></tr></table></figure>
<h3 id="ubuntu-ppa-source">Ubuntu PPA Source</h3>
<p>PPA
一般我都是硬来。但是久而久之也就不能忍了，所以它也可以替换国内源的，就干吧。</p>
<h4
id="launchpad.proxy.ustclug.org-废了"><code>launchpad.proxy.ustclug.org</code>
废了</h4>
<p>本来 <code>launchpad.proxy.ustclug.org</code>
是很不错的镜像，但是已经废了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> add-apt-repository ppa:longsleep/golang-backports</span><br><span class="line">find /etc/apt/sources.list.d/ -<span class="built_in">type</span> f -iname <span class="string">&#x27;*.list&#x27;</span> -<span class="built_in">exec</span> <span class="built_in">sudo</span> sed -i.bak -r <span class="string">&#x27;s/ppa.launchpad.net/launchpad.proxy.ustclug.org/&#x27;</span> &#123;&#125; \;</span><br><span class="line"></span><br><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install golang-1.18 golang-go</span><br></pre></td></tr></table></figure>
<h3 id="vagrant">Vagrant</h3>
<p>没有简单的办法。一些周知的镜像，可以通过这些地方加速：</p>
<ul>
<li><p>对于 Ubuntu 之类，可以取清华镜像</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vagrant box add ubuntu/trusty64 https://mirrors.tuna.tsinghua.edu.cn/ubuntu-cloud-images/vagrant/trusty/current/trusty-server-cloudimg-amd64-vagrant-disk1.box</span><br><span class="line"></span><br><span class="line">vagrant box add ubuntu/bionic64 https://mirrors.tuna.tsinghua.edu.cn/ubuntu-cloud-images/bionic/20191002/bionic-server-cloudimg-amd64-vagrant.box</span><br></pre></td></tr></table></figure></li>
<li><p>清华找不到几个周知镜像，所以基本上还是要在
http://www.vagrantbox.es/ 寻找和添加</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant box add debian/8.1 https://github.com/kraksoft/vagrant-box-debian/releases/download/8.1.0/debian-8.1.0-amd64.box </span><br></pre></td></tr></table></figure></li>
<li><p>总的来说，没有什么有效的镜像，只能想各种办法去手工下载box，然后再导入。</p></li>
</ul>
<h3 id="附录一">附录一</h3>
<h5 id="关于-xtom.help">关于 xtom.help</h5>
<p><a target="_blank" rel="noopener" href="https://github.com/mirrorz-org">mirrorz</a> 致力于提供 Linux
发行版的镜像源方面的工作，它们提供很好的相关文档以及 CDN
服务以便加速相应镜像源的访问、拉取行为。</p>
<p>所以我在 mirror-list 中列出的和镜像加速相关的内容，很多在 mirrorz
的对应网站 <a target="_blank" rel="noopener" href="https://xtom.help/">xtom.help</a> 都能找到以 mirrorz
身份提供的解决方案。它们的问题在于 mirrorz 也会受到干扰，所以采用
mirrorz 提供的 CDN 是由你自己来决定的。</p>
<p>但在此基础上，cernet 对 mirrorz 提供了镜像。</p>
<p>所以你也可以访问 <a
target="_blank" rel="noopener" href="https://help.mirrors.cernet.edu.cn/">help.mirrors.cernet.edu.cn</a>
来得到一组更大陆的镜像源，不同于 mirrorz 直接原生地提供 CDN
但却常受到干扰，cernet
给出的大陆镜像源基本上都是我们所熟知的那些教育网镜像站，在 <a
target="_blank" rel="noopener" href="https://help.mirrors.cernet.edu.cn/">help.mirrors.cernet.edu.cn</a>
上它们被整合到一处了而已。所以好处是你不一定需要去清华、中科大、CQU
等大学的开源软件镜像站具体检索，直接在 <a
target="_blank" rel="noopener" href="https://help.mirrors.cernet.edu.cn/">help.mirrors.cernet.edu.cn</a>
就能取用。</p>
<h2 id="conclusion">Conclusion</h2>
<p>LICENSE: CC4-BY-NC-SA</p>
<p>https://github.com/hedzr/mirror-list</p>
<h2 id="补充">补充</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://linuxpip.org/github-in-china/">How to access GitHub
from inside China</a></li>
<li><a target="_blank" rel="noopener" href="https://mincong.io/en/chinese-software-mirrors/">Set Up
Chinese Software Mirrors</a></li>
<li><a target="_blank" rel="noopener" href="https://matrey.github.io/articles/china-mirrors/">China
Mirrors</a></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E7%94%B5%E8%84%91%E6%8A%80%E6%9C%AF/" rel="tag"># 电脑技术</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/12/02/Windows%E4%B8%8B%E9%85%8D%E7%BD%AEGoldendict/" rel="prev" title="Windows下配置Goldendict">
                  <i class="fa fa-angle-left"></i> Windows下配置Goldendict
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/12/02/Github%E7%BB%88%E6%9E%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" rel="next" title="Github终极解决方案">
                  Github终极解决方案 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; Sat Sep 03 2022 08:00:00 GMT+0800 (中国标准时间) – 
    <span itemprop="copyrightYear">2026</span>
    <span class="with-love">
      <i class="fa-solid fa-star"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">fengzhenhua</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/fungzhenhua" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://s4.zstatic.net/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://s4.zstatic.net/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://s4.zstatic.net/ajax/libs/pdfobject/2.3.0/pdfobject.min.js","integrity":"sha256-JJZNsid68vnh3/zyj0lY9BN5ynxVX/12XgOa1TlaYN0="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://s4.zstatic.net/ajax/libs/mermaid/11.4.0/mermaid.min.js","integrity":"sha256-G8ouPAnw4zzMbnAenHnVz6h9XpKbNdOkrqTh7AadyHs="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://s4.zstatic.net/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
